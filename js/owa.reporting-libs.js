!function(e,t){function i(e){return N.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}function s(e){if(!ct[e]){var t=I.body,i=N("<"+e+">").appendTo(t),s=i.css("display");i.remove(),"none"!==s&&""!==s||(rt||((rt=I.createElement("iframe")).frameBorder=rt.width=rt.height=0),t.appendChild(rt),ot&&rt.createElement||((ot=(rt.contentWindow||rt.contentDocument).document).write(("CSS1Compat"===I.compatMode?"<!doctype html>":"")+"<html><body>"),ot.close()),i=ot.createElement(e),ot.body.appendChild(i),s=N.css(i,"display"),t.removeChild(rt)),ct[e]=s}return ct[e]}function n(e,t){var i={};return N.each(pt.concat.apply([],pt.slice(0,t)),function(){i[this]=e}),i}function a(){dt=t}function r(){return setTimeout(a,0),dt=N.now()}function o(){try{return new e.XMLHttpRequest}catch(e){}}function l(e,t,i,s){if(N.isArray(t))N.each(t,function(t,n){i||Oe.test(e)?s(e,n):l(e+"["+("object"==typeof n||N.isArray(n)?t:"")+"]",n,i,s)});else if(i||null==t||"object"!=typeof t)s(e,t);else for(var n in t)l(e+"["+n+"]",t[n],i,s)}function d(e,i){var s,n,a=N.ajaxSettings.flatOptions||{};for(s in i)i[s]!==t&&((a[s]?e:n||(n={}))[s]=i[s]);n&&N.extend(!0,e,n)}function c(e,i,s,n,a,r){(r=r||{})[a=a||i.dataTypes[0]]=!0;for(var o,l=e[a],d=0,h=l?l.length:0,u=e===Je;d<h&&(u||!o);d++)"string"==typeof(o=l[d](i,s,n))&&(!u||r[o]?o=t:(i.dataTypes.unshift(o),o=c(e,i,s,n,o,r)));return(u||!o)&&!r["*"]&&(o=c(e,i,s,n,"*",r)),o}function h(e){return function(t,i){if("string"!=typeof t&&(i=t,t="*"),N.isFunction(i))for(var s,n,a=t.toLowerCase().split(Ue),r=0,o=a.length;r<o;r++)s=a[r],(n=/^\+/.test(s))&&(s=s.substr(1)||"*"),(e[s]=e[s]||[])[n?"unshift":"push"](i)}}function u(e,t,i){var s="width"===t?e.offsetWidth:e.offsetHeight,n="width"===t?Ne:Ae;return s>0?("border"!==i&&N.each(n,function(){i||(s-=parseFloat(N.css(e,"padding"+this))||0),"margin"===i?s+=parseFloat(N.css(e,i+this))||0:s-=parseFloat(N.css(e,"border"+this+"Width"))||0}),s+"px"):(((s=Ce(e,t,t))<0||null==s)&&(s=e.style[t]||0),s=parseFloat(s)||0,i&&N.each(n,function(){s+=parseFloat(N.css(e,"padding"+this))||0,"padding"!==i&&(s+=parseFloat(N.css(e,"border"+this+"Width"))||0),"margin"===i&&(s+=parseFloat(N.css(e,i+this))||0)}),s+"px")}function p(e,t){t.src?N.ajax({url:t.src,async:!1,dataType:"script"}):N.globalEval((t.text||t.textContent||t.innerHTML||"").replace(xe,"/*$0*/")),t.parentNode&&t.parentNode.removeChild(t)}function f(e){N.nodeName(e,"input")?g(e):"getElementsByTagName"in e&&N.grep(e.getElementsByTagName("input"),g)}function g(e){"checkbox"!==e.type&&"radio"!==e.type||(e.defaultChecked=e.checked)}function m(e){return"getElementsByTagName"in e?e.getElementsByTagName("*"):"querySelectorAll"in e?e.querySelectorAll("*"):[]}function v(e,t){var i;1===t.nodeType&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),"object"===(i=t.nodeName.toLowerCase())?t.outerHTML=e.outerHTML:"input"!==i||"checkbox"!==e.type&&"radio"!==e.type?"option"===i?t.selected=e.defaultSelected:"input"!==i&&"textarea"!==i||(t.defaultValue=e.defaultValue):(e.checked&&(t.defaultChecked=t.checked=e.checked),t.value!==e.value&&(t.value=e.value)),t.removeAttribute(N.expando))}function b(e,t){if(1===t.nodeType&&N.hasData(e)){var i=N.expando,s=N.data(e),n=N.data(t,s);if(s=s[i]){var a=s.events;if(n=n[i]=N.extend({},s),a)for(var r in delete n.handle,n.events={},a)for(var o=0,l=a[r].length;o<l;o++)N.event.add(t,r+(a[r][o].namespace?".":"")+a[r][o].namespace,a[r][o],a[r][o].data)}}}function y(e,t){return N.nodeName(e,"table")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function w(e,t,i){if(t=t||0,N.isFunction(t))return N.grep(e,function(e,s){return!!t.call(e,s,e)===i});if(t.nodeType)return N.grep(e,function(e,s){return e===t===i});if("string"==typeof t){var s=N.grep(e,function(e){return 1===e.nodeType});if(le.test(t))return N.filter(t,s,!i);t=N.filter(t,s)}return N.grep(e,function(e,s){return N.inArray(e,t)>=0===i})}function x(e){return!e||!e.parentNode||11===e.parentNode.nodeType}function _(e,t){return(e&&"*"!==e?e+".":"")+t.replace(X,"`").replace($,"&")}function C(e){var t,i,s,n,a,r,o,l,d,c,h,u,p=[],f=[],g=N._data(this,"events");if(e.liveFired!==this&&g&&g.live&&!e.target.disabled&&(!e.button||"click"!==e.type)){e.namespace&&(h=new RegExp("(^|\\.)"+e.namespace.split(".").join("\\.(?:.*\\.)?")+"(\\.|$)")),e.liveFired=this;var m=g.live.slice(0);for(o=0;o<m.length;o++)(a=m[o]).origType.replace(V,"")===e.type?f.push(a.selector):m.splice(o--,1);for(l=0,d=(n=N(e.target).closest(f,e.currentTarget)).length;l<d;l++)for(c=n[l],o=0;o<m.length;o++)a=m[o],c.selector!==a.selector||h&&!h.test(a.namespace)||c.elem.disabled||(r=c.elem,s=null,"mouseenter"!==a.preType&&"mouseleave"!==a.preType||(e.type=a.preType,(s=N(e.relatedTarget).closest(a.selector)[0])&&N.contains(r,s)&&(s=r)),(!s||s!==r)&&p.push({elem:r,handleObj:a,level:c.level}));for(l=0,d=p.length;l<d&&(n=p[l],!(i&&n.level>i))&&(e.currentTarget=n.elem,e.data=n.handleObj.data,e.handleObj=n.handleObj,!1!==(u=n.handleObj.origHandler.apply(n.elem,arguments))&&!e.isPropagationStopped()||(i=n.level,!1===u&&(t=!1),!e.isImmediatePropagationStopped()));l++);return t}}function k(e,i,s){var n=N.extend({},s[0]);n.type=e,n.originalEvent={},n.liveFired=t,N.event.handle.call(i,n),n.isDefaultPrevented()&&s[0].preventDefault()}function j(){return!0}function D(){return!1}function M(e,i,s){var n=i+"defer",a=i+"queue",r=i+"mark",o=N.data(e,n,t,!0);o&&("queue"===s||!N.data(e,a,t,!0))&&("mark"===s||!N.data(e,r,t,!0))&&setTimeout(function(){!N.data(e,a,t,!0)&&!N.data(e,r,t,!0)&&(N.removeData(e,n,!0),o.resolve())},0)}function T(e){for(var t in e)if("toJSON"!==t)return!1;return!0}function S(e,i,s){if(s===t&&1===e.nodeType){var n="data-"+i.replace(z,"-$1").toLowerCase();if("string"==typeof(s=e.getAttribute(n))){try{s="true"===s||"false"!==s&&("null"===s?null:N.isNaN(s)?E.test(s)?N.parseJSON(s):s:parseFloat(s))}catch(e){}N.data(e,i,s)}else s=t}return s}var I=e.document,F=e.navigator,q=e.location,N=function(){function i(){if(!o.isReady){try{I.documentElement.doScroll("left")}catch(e){return void setTimeout(i,1)}o.ready()}}var s,n,a,r,o=function(e,t){return new o.fn.init(e,t,s)},l=e.jQuery,d=e.$,c=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,h=/\S/,u=/^\s+/,p=/\s+$/,f=/\d/,g=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,m=/^[\],:{}\s]*$/,v=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,b=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,y=/(?:^|:|,)(?:\s*\[)+/g,w=/(webkit)[ \/]([\w.]+)/,x=/(opera)(?:.*version)?[ \/]([\w.]+)/,_=/(msie) ([\w.]+)/,C=/(mozilla)(?:.*? rv:([\w.]+))?/,k=/-([a-z]|[0-9])/gi,j=/^-ms-/,D=function(e,t){return(t+"").toUpperCase()},M=F.userAgent,T=Object.prototype.toString,S=Object.prototype.hasOwnProperty,q=Array.prototype.push,N=Array.prototype.slice,A=String.prototype.trim,P=Array.prototype.indexOf,E={};return o.fn=o.prototype={constructor:o,init:function(e,i,s){var n,a,r,l;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("body"===e&&!i&&I.body)return this.context=I,this[0]=I.body,this.selector=e,this.length=1,this;if("string"==typeof e){if((n="<"!==e.charAt(0)||">"!==e.charAt(e.length-1)||e.length<3?c.exec(e):[null,e,null])&&(n[1]||!i)){if(n[1])return l=(i=i instanceof o?i[0]:i)?i.ownerDocument||i:I,(r=g.exec(e))?o.isPlainObject(i)?(e=[I.createElement(r[1])],o.fn.attr.call(e,i,!0)):e=[l.createElement(r[1])]:e=((r=o.buildFragment([n[1]],[l])).cacheable?o.clone(r.fragment):r.fragment).childNodes,o.merge(this,e);if((a=I.getElementById(n[2]))&&a.parentNode){if(a.id!==n[2])return s.find(e);this.length=1,this[0]=a}return this.context=I,this.selector=e,this}return!i||i.jquery?(i||s).find(e):this.constructor(i).find(e)}return o.isFunction(e)?s.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),o.makeArray(e,this))},selector:"",jquery:"1.6.4",length:0,size:function(){return this.length},toArray:function(){return N.call(this,0)},get:function(e){return null==e?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e,t,i){var s=this.constructor();return o.isArray(e)?q.apply(s,e):o.merge(s,e),s.prevObject=this,s.context=this.context,"find"===t?s.selector=this.selector+(this.selector?" ":"")+i:t&&(s.selector=this.selector+"."+t+"("+i+")"),s},each:function(e,t){return o.each(this,e,t)},ready:function(e){return o.bindReady(),a.done(e),this},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(N.apply(this,arguments),"slice",N.call(arguments).join(","))},map:function(e){return this.pushStack(o.map(this,function(t,i){return e.call(t,i,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:q,sort:[].sort,splice:[].splice},o.fn.init.prototype=o.fn,o.extend=o.fn.extend=function(){var e,i,s,n,a,r,l=arguments[0]||{},d=1,c=arguments.length,h=!1;for("boolean"==typeof l&&(h=l,l=arguments[1]||{},d=2),"object"!=typeof l&&!o.isFunction(l)&&(l={}),c===d&&(l=this,--d);d<c;d++)if(null!=(e=arguments[d]))for(i in e)s=l[i],l!==(n=e[i])&&(h&&n&&(o.isPlainObject(n)||(a=o.isArray(n)))?(a?(a=!1,r=s&&o.isArray(s)?s:[]):r=s&&o.isPlainObject(s)?s:{},l[i]=o.extend(h,r,n)):n!==t&&(l[i]=n));return l},o.extend({noConflict:function(t){return e.$===o&&(e.$=d),t&&e.jQuery===o&&(e.jQuery=l),o},isReady:!1,readyWait:1,holdReady:function(e){e?o.readyWait++:o.ready(!0)},ready:function(e){if(!0===e&&!--o.readyWait||!0!==e&&!o.isReady){if(!I.body)return setTimeout(o.ready,1);if(o.isReady=!0,!0!==e&&--o.readyWait>0)return;a.resolveWith(I,[o]),o.fn.trigger&&o(I).trigger("ready").unbind("ready")}},bindReady:function(){if(!a){if(a=o._Deferred(),"complete"===I.readyState)return setTimeout(o.ready,1);if(I.addEventListener)I.addEventListener("DOMContentLoaded",r,!1),e.addEventListener("load",o.ready,!1);else if(I.attachEvent){I.attachEvent("onreadystatechange",r),e.attachEvent("onload",o.ready);var t=!1;try{t=null==e.frameElement}catch(e){}I.documentElement.doScroll&&t&&i()}}},isFunction:function(e){return"function"===o.type(e)},isArray:Array.isArray||function(e){return"array"===o.type(e)},isWindow:function(e){return e&&"object"==typeof e&&"setInterval"in e},isNaN:function(e){return null==e||!f.test(e)||isNaN(e)},type:function(e){return null==e?String(e):E[T.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==o.type(e)||e.nodeType||o.isWindow(e))return!1;try{if(e.constructor&&!S.call(e,"constructor")&&!S.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var i;for(i in e);return i===t||S.call(e,i)},isEmptyObject:function(e){for(var t in e)return!1;return!0},error:function(e){throw e},parseJSON:function(t){return"string"==typeof t&&t?(t=o.trim(t),e.JSON&&e.JSON.parse?e.JSON.parse(t):m.test(t.replace(v,"@").replace(b,"]").replace(y,""))?new Function("return "+t)():void o.error("Invalid JSON: "+t)):null},parseXML:function(i){var s;try{e.DOMParser?s=(new DOMParser).parseFromString(i,"text/xml"):((s=new ActiveXObject("Microsoft.XMLDOM")).async="false",s.loadXML(i))}catch(e){s=t}return(!s||!s.documentElement||s.getElementsByTagName("parsererror").length)&&o.error("Invalid XML: "+i),s},noop:function(){},globalEval:function(t){t&&h.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(j,"ms-").replace(k,D)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toUpperCase()===t.toUpperCase()},each:function(e,i,s){var n,a=0,r=e.length,l=r===t||o.isFunction(e);if(s)if(l){for(n in e)if(!1===i.apply(e[n],s))break}else for(;a<r&&!1!==i.apply(e[a++],s););else if(l){for(n in e)if(!1===i.call(e[n],n,e[n]))break}else for(;a<r&&!1!==i.call(e[a],a,e[a++]););return e},trim:A?function(e){return null==e?"":A.call(e)}:function(e){return null==e?"":(e+"").replace(u,"").replace(p,"")},makeArray:function(e,t){var i=t||[];if(null!=e){var s=o.type(e);null==e.length||"string"===s||"function"===s||"regexp"===s||o.isWindow(e)?q.call(i,e):o.merge(i,e)}return i},inArray:function(e,t){if(!t)return-1;if(P)return P.call(t,e);for(var i=0,s=t.length;i<s;i++)if(t[i]===e)return i;return-1},merge:function(e,i){var s=e.length,n=0;if("number"==typeof i.length)for(var a=i.length;n<a;n++)e[s++]=i[n];else for(;i[n]!==t;)e[s++]=i[n++];return e.length=s,e},grep:function(e,t,i){var s=[];i=!!i;for(var n=0,a=e.length;n<a;n++)i!==!!t(e[n],n)&&s.push(e[n]);return s},map:function(e,i,s){var n,a,r=[],l=0,d=e.length;if(e instanceof o||d!==t&&"number"==typeof d&&(d>0&&e[0]&&e[d-1]||0===d||o.isArray(e)))for(;l<d;l++)null!=(n=i(e[l],l,s))&&(r[r.length]=n);else for(a in e)null!=(n=i(e[a],a,s))&&(r[r.length]=n);return r.concat.apply([],r)},guid:1,proxy:function(e,i){if("string"==typeof i){var s=e[i];i=e,e=s}if(!o.isFunction(e))return t;var n=N.call(arguments,2),a=function(){return e.apply(i,n.concat(N.call(arguments)))};return a.guid=e.guid=e.guid||a.guid||o.guid++,a},access:function(e,i,s,n,a,r){var l=e.length;if("object"==typeof i){for(var d in i)o.access(e,d,i[d],n,a,s);return e}if(s!==t){n=!r&&n&&o.isFunction(s);for(var c=0;c<l;c++)a(e[c],i,n?s.call(e[c],c,a(e[c],i)):s,r);return e}return l?a(e[0],i):t},now:function(){return(new Date).getTime()},uaMatch:function(e){e=e.toLowerCase();var t=w.exec(e)||x.exec(e)||_.exec(e)||e.indexOf("compatible")<0&&C.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},sub:function(){function e(t,i){return new e.fn.init(t,i)}o.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(i,s){return s&&s instanceof o&&!(s instanceof e)&&(s=e(s)),o.fn.init.call(this,i,s,t)},e.fn.init.prototype=e.fn;var t=e(I);return e},browser:{}}),o.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){E["[object "+t+"]"]=t.toLowerCase()}),(n=o.uaMatch(M)).browser&&(o.browser[n.browser]=!0,o.browser.version=n.version),o.browser.webkit&&(o.browser.safari=!0),h.test(" ")&&(u=/^[\s\xA0]+/,p=/[\s\xA0]+$/),s=o(I),I.addEventListener?r=function(){I.removeEventListener("DOMContentLoaded",r,!1),o.ready()}:I.attachEvent&&(r=function(){"complete"===I.readyState&&(I.detachEvent("onreadystatechange",r),o.ready())}),o}(),A="done fail isResolved isRejected promise then always pipe".split(" "),P=[].slice;N.extend({_Deferred:function(){var e,t,i,s=[],n={done:function(){if(!i){var t,a,r,o,l,d=arguments;for(e&&(l=e,e=0),t=0,a=d.length;t<a;t++)r=d[t],"array"===(o=N.type(r))?n.done.apply(n,r):"function"===o&&s.push(r);l&&n.resolveWith(l[0],l[1])}return this},resolveWith:function(n,a){if(!i&&!e&&!t){a=a||[],t=1;try{for(;s[0];)s.shift().apply(n,a)}finally{e=[n,a],t=0}}return this},resolve:function(){return n.resolveWith(this,arguments),this},isResolved:function(){return!!t||!!e},cancel:function(){return i=1,s=[],this}};return n},Deferred:function(e){var t,i=N._Deferred(),s=N._Deferred();return N.extend(i,{then:function(e,t){return i.done(e).fail(t),this},always:function(){return i.done.apply(i,arguments).fail.apply(this,arguments)},fail:s.done,rejectWith:s.resolveWith,reject:s.resolve,isRejected:s.isResolved,pipe:function(e,t){return N.Deferred(function(s){N.each({done:[e,"resolve"],fail:[t,"reject"]},function(e,t){var n,a=t[0],r=t[1];N.isFunction(a)?i[e](function(){(n=a.apply(this,arguments))&&N.isFunction(n.promise)?n.promise().then(s.resolve,s.reject):s[r+"With"](this===i?s:this,[n])}):i[e](s[r])})}).promise()},promise:function(e){if(null==e){if(t)return t;t=e={}}for(var s=A.length;s--;)e[A[s]]=i[A[s]];return e}}),i.done(s.cancel).fail(i.cancel),delete i.cancel,e&&e.call(i,i),i},when:function(e){function t(e){return function(t){i[e]=arguments.length>1?P.call(arguments,0):t,--a||r.resolveWith(r,P.call(i,0))}}var i=arguments,s=0,n=i.length,a=n,r=n<=1&&e&&N.isFunction(e.promise)?e:N.Deferred();if(n>1){for(;s<n;s++)i[s]&&N.isFunction(i[s].promise)?i[s].promise().then(t(s),r.reject):--a;a||r.resolveWith(r,i)}else r!==e&&r.resolveWith(r,n?[e]:[]);return r.promise()}}),N.support=function(){var e,t,i,s,n,a,r,o,l,d,c,h,u,p,f,g,m=I.createElement("div"),v=I.documentElement;if(m.setAttribute("className","t"),m.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",e=m.getElementsByTagName("*"),t=m.getElementsByTagName("a")[0],!e||!e.length||!t)return{};s=(i=I.createElement("select")).appendChild(I.createElement("option")),n=m.getElementsByTagName("input")[0],r={leadingWhitespace:3===m.firstChild.nodeType,tbody:!m.getElementsByTagName("tbody").length,htmlSerialize:!!m.getElementsByTagName("link").length,style:/top/.test(t.getAttribute("style")),hrefNormalized:"/a"===t.getAttribute("href"),opacity:/^0.55$/.test(t.style.opacity),cssFloat:!!t.style.cssFloat,checkOn:"on"===n.value,optSelected:s.selected,getSetAttribute:"t"!==m.className,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0},n.checked=!0,r.noCloneChecked=n.cloneNode(!0).checked,i.disabled=!0,r.optDisabled=!s.disabled;try{delete m.test}catch(e){r.deleteExpando=!1}for(f in!m.addEventListener&&m.attachEvent&&m.fireEvent&&(m.attachEvent("onclick",function(){r.noCloneEvent=!1}),m.cloneNode(!0).fireEvent("onclick")),(n=I.createElement("input")).value="t",n.setAttribute("type","radio"),r.radioValue="t"===n.value,n.setAttribute("checked","checked"),m.appendChild(n),(o=I.createDocumentFragment()).appendChild(m.firstChild),r.checkClone=o.cloneNode(!0).cloneNode(!0).lastChild.checked,m.innerHTML="",m.style.width=m.style.paddingLeft="1px",l=I.getElementsByTagName("body")[0],c=I.createElement(l?"div":"body"),h={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},l&&N.extend(h,{position:"absolute",left:"-1000px",top:"-1000px"}),h)c.style[f]=h[f];if(c.appendChild(m),(d=l||v).insertBefore(c,d.firstChild),r.appendChecked=n.checked,r.boxModel=2===m.offsetWidth,"zoom"in m.style&&(m.style.display="inline",m.style.zoom=1,r.inlineBlockNeedsLayout=2===m.offsetWidth,m.style.display="",m.innerHTML="<div style='width:4px;'></div>",r.shrinkWrapBlocks=2!==m.offsetWidth),m.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>",g=0===(u=m.getElementsByTagName("td"))[0].offsetHeight,u[0].style.display="",u[1].style.display="none",r.reliableHiddenOffsets=g&&0===u[0].offsetHeight,m.innerHTML="",I.defaultView&&I.defaultView.getComputedStyle&&((a=I.createElement("div")).style.width="0",a.style.marginRight="0",m.appendChild(a),r.reliableMarginRight=0===(parseInt((I.defaultView.getComputedStyle(a,null)||{marginRight:0}).marginRight,10)||0)),c.innerHTML="",d.removeChild(c),m.attachEvent)for(f in{submit:1,change:1,focusin:1})(g=(p="on"+f)in m)||(m.setAttribute(p,"return;"),g="function"==typeof m[p]),r[f+"Bubbles"]=g;return c=o=i=s=l=a=m=n=null,r}(),N.boxModel=N.support.boxModel;var E=/^(?:\{.*\}|\[.*\])$/,z=/([A-Z])/g;N.extend({cache:{},uuid:0,expando:"jQuery"+(N.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return!!(e=e.nodeType?N.cache[e[N.expando]]:e[N.expando])&&!T(e)},data:function(e,i,s,n){if(N.acceptData(e)){var a,r,o=N.expando,l="string"==typeof i,d=e.nodeType,c=d?N.cache:e,h=d?e[N.expando]:e[N.expando]&&N.expando;if((!h||n&&h&&c[h]&&!c[h][o])&&l&&s===t)return;return h||(d?e[N.expando]=h=++N.uuid:h=N.expando),c[h]||(c[h]={},d||(c[h].toJSON=N.noop)),"object"!=typeof i&&"function"!=typeof i||(n?c[h][o]=N.extend(c[h][o],i):c[h]=N.extend(c[h],i)),a=c[h],n&&(a[o]||(a[o]={}),a=a[o]),s!==t&&(a[N.camelCase(i)]=s),"events"!==i||a[i]?(l?null==(r=a[i])&&(r=a[N.camelCase(i)]):r=a,r):a[o]&&a[o].events}},removeData:function(e,t,i){if(N.acceptData(e)){var s,n=N.expando,a=e.nodeType,r=a?N.cache:e,o=a?e[N.expando]:N.expando;if(!r[o])return;if(t&&(s=i?r[o][n]:r[o])&&(s[t]||(t=N.camelCase(t)),delete s[t],!T(s)))return;if(i&&(delete r[o][n],!T(r[o])))return;var l=r[o][n];N.support.deleteExpando||!r.setInterval?delete r[o]:r[o]=null,l?(r[o]={},a||(r[o].toJSON=N.noop),r[o][n]=l):a&&(N.support.deleteExpando?delete e[N.expando]:e.removeAttribute?e.removeAttribute(N.expando):e[N.expando]=null)}},_data:function(e,t,i){return N.data(e,t,i,!0)},acceptData:function(e){if(e.nodeName){var t=N.noData[e.nodeName.toLowerCase()];if(t)return!0!==t&&e.getAttribute("classid")===t}return!0}}),N.fn.extend({data:function(e,i){var s=null;if(void 0===e){if(this.length&&(s=N.data(this[0]),1===this[0].nodeType))for(var n,a=this[0].attributes,r=0,o=a.length;r<o;r++)0===(n=a[r].name).indexOf("data-")&&(n=N.camelCase(n.substring(5)),S(this[0],n,s[n]));return s}if("object"==typeof e)return this.each(function(){N.data(this,e)});var l=e.split(".");return l[1]=l[1]?"."+l[1]:"",i===t?((s=this.triggerHandler("getData"+l[1]+"!",[l[0]]))===t&&this.length&&(s=N.data(this[0],e),s=S(this[0],e,s)),s===t&&l[1]?this.data(l[0]):s):this.each(function(){var t=N(this),s=[l[0],i];t.triggerHandler("setData"+l[1]+"!",s),N.data(this,e,i),t.triggerHandler("changeData"+l[1]+"!",s)})},removeData:function(e){return this.each(function(){N.removeData(this,e)})}}),N.extend({_mark:function(e,i){e&&(i=(i||"fx")+"mark",N.data(e,i,(N.data(e,i,t,!0)||0)+1,!0))},_unmark:function(e,i,s){if(!0!==e&&(s=i,i=e,e=!1),i){var n=(s=s||"fx")+"mark",a=e?0:(N.data(i,n,t,!0)||1)-1;a?N.data(i,n,a,!0):(N.removeData(i,n,!0),M(i,s,"mark"))}},queue:function(e,i,s){if(e){i=(i||"fx")+"queue";var n=N.data(e,i,t,!0);return s&&(!n||N.isArray(s)?n=N.data(e,i,N.makeArray(s),!0):n.push(s)),n||[]}},dequeue:function(e,t){t=t||"fx";var i=N.queue(e,t),s=i.shift();"inprogress"===s&&(s=i.shift()),s&&("fx"===t&&i.unshift("inprogress"),s.call(e,function(){N.dequeue(e,t)})),i.length||(N.removeData(e,t+"queue",!0),M(e,t,"queue"))}}),N.fn.extend({queue:function(e,i){return"string"!=typeof e&&(i=e,e="fx"),i===t?N.queue(this[0],e):this.each(function(){var t=N.queue(this,e,i);"fx"===e&&"inprogress"!==t[0]&&N.dequeue(this,e)})},dequeue:function(e){return this.each(function(){N.dequeue(this,e)})},delay:function(e,t){return e=N.fx&&N.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(){var i=this;setTimeout(function(){N.dequeue(i,t)},e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,i){function s(){--l||a.resolveWith(r,[r])}"string"!=typeof e&&(e,e=t),e=e||"fx";for(var n,a=N.Deferred(),r=this,o=r.length,l=1,d=e+"defer",c=e+"queue",h=e+"mark";o--;)(n=N.data(r[o],d,t,!0)||(N.data(r[o],c,t,!0)||N.data(r[o],h,t,!0))&&N.data(r[o],d,N._Deferred(),!0))&&(l++,n.done(s));return s(),a.promise()}});var O,R,G=/[\n\t\r]/g,L=/\s+/,H=/\r/g,W=/^(?:button|input)$/i,Q=/^(?:button|input|object|select|textarea)$/i,B=/^a(?:rea)?$/i,Y=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i;N.fn.extend({attr:function(e,t){return N.access(this,e,t,!0,N.attr)},removeAttr:function(e){return this.each(function(){N.removeAttr(this,e)})},prop:function(e,t){return N.access(this,e,t,!0,N.prop)},removeProp:function(e){return e=N.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(e){}})},addClass:function(e){var t,i,s,n,a,r,o;if(N.isFunction(e))return this.each(function(t){N(this).addClass(e.call(this,t,this.className))});if(e&&"string"==typeof e)for(t=e.split(L),i=0,s=this.length;i<s;i++)if(1===(n=this[i]).nodeType)if(n.className||1!==t.length){for(a=" "+n.className+" ",r=0,o=t.length;r<o;r++)~a.indexOf(" "+t[r]+" ")||(a+=t[r]+" ");n.className=N.trim(a)}else n.className=e;return this},removeClass:function(e){var i,s,n,a,r,o,l;if(N.isFunction(e))return this.each(function(t){N(this).removeClass(e.call(this,t,this.className))});if(e&&"string"==typeof e||e===t)for(i=(e||"").split(L),s=0,n=this.length;s<n;s++)if(1===(a=this[s]).nodeType&&a.className)if(e){for(r=(" "+a.className+" ").replace(G," "),o=0,l=i.length;o<l;o++)r=r.replace(" "+i[o]+" "," ");a.className=N.trim(r)}else a.className="";return this},toggleClass:function(e,t){var i=typeof e,s="boolean"==typeof t;return N.isFunction(e)?this.each(function(i){N(this).toggleClass(e.call(this,i,this.className,t),t)}):this.each(function(){if("string"===i)for(var n,a=0,r=N(this),o=t,l=e.split(L);n=l[a++];)o=s?o:!r.hasClass(n),r[o?"addClass":"removeClass"](n);else"undefined"!==i&&"boolean"!==i||(this.className&&N._data(this,"__className__",this.className),this.className=this.className||!1===e?"":N._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,s=this.length;i<s;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(G," ").indexOf(t)>-1)return!0;return!1},val:function(e){var i,s,n=this[0];if(!arguments.length)return n?(i=N.valHooks[n.nodeName.toLowerCase()]||N.valHooks[n.type])&&"get"in i&&(s=i.get(n,"value"))!==t?s:"string"==typeof(s=n.value)?s.replace(H,""):null==s?"":s:t;var a=N.isFunction(e);return this.each(function(s){var n,r=N(this);1===this.nodeType&&(null==(n=a?e.call(this,s,r.val()):e)?n="":"number"==typeof n?n+="":N.isArray(n)&&(n=N.map(n,function(e){return null==e?"":e+""})),(i=N.valHooks[this.nodeName.toLowerCase()]||N.valHooks[this.type])&&"set"in i&&i.set(this,n,"value")!==t||(this.value=n))})}}),N.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,i=e.selectedIndex,s=[],n=e.options,a="select-one"===e.type;if(i<0)return null;for(var r=a?i:0,o=a?i+1:n.length;r<o;r++){var l=n[r];if(l.selected&&(N.support.optDisabled?!l.disabled:null===l.getAttribute("disabled"))&&(!l.parentNode.disabled||!N.nodeName(l.parentNode,"optgroup"))){if(t=N(l).val(),a)return t;s.push(t)}}return a&&!s.length&&n.length?N(n[i]).val():s},set:function(e,t){var i=N.makeArray(t);return N(e).find("option").each(function(){this.selected=N.inArray(N(this).val(),i)>=0}),i.length||(e.selectedIndex=-1),i}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attrFix:{tabindex:"tabIndex"},attr:function(e,i,s,n){var a=e.nodeType;if(!e||3===a||8===a||2===a)return t;if(n&&i in N.attrFn)return N(e)[i](s);if(!("getAttribute"in e))return N.prop(e,i,s);var r,o,l=1!==a||!N.isXMLDoc(e);return l&&(i=N.attrFix[i]||i,(o=N.attrHooks[i])||(Y.test(i)?o=R:O&&(o=O))),s!==t?null===s?(N.removeAttr(e,i),t):o&&"set"in o&&l&&(r=o.set(e,s,i))!==t?r:(e.setAttribute(i,""+s),s):o&&"get"in o&&l&&null!==(r=o.get(e,i))?r:null===(r=e.getAttribute(i))?t:r},removeAttr:function(e,t){var i;1===e.nodeType&&(t=N.attrFix[t]||t,N.attr(e,t,""),e.removeAttribute(t),Y.test(t)&&(i=N.propFix[t]||t)in e&&(e[i]=!1))},attrHooks:{type:{set:function(e,t){if(W.test(e.nodeName)&&e.parentNode)N.error("type property can't be changed");else if(!N.support.radioValue&&"radio"===t&&N.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}},value:{get:function(e,t){return O&&N.nodeName(e,"button")?O.get(e,t):t in e?e.value:null},set:function(e,t,i){if(O&&N.nodeName(e,"button"))return O.set(e,t,i);e.value=t}}},propFix:{tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,i,s){var n,a,r=e.nodeType;return e&&3!==r&&8!==r&&2!==r?((1!==r||!N.isXMLDoc(e))&&(i=N.propFix[i]||i,a=N.propHooks[i]),s!==t?a&&"set"in a&&(n=a.set(e,s,i))!==t?n:e[i]=s:a&&"get"in a&&null!==(n=a.get(e,i))?n:e[i]):t},propHooks:{tabIndex:{get:function(e){var i=e.getAttributeNode("tabindex");return i&&i.specified?parseInt(i.value,10):Q.test(e.nodeName)||B.test(e.nodeName)&&e.href?0:t}}}}),N.attrHooks.tabIndex=N.propHooks.tabIndex,R={get:function(e,i){var s;return!0===N.prop(e,i)||(s=e.getAttributeNode(i))&&!1!==s.nodeValue?i.toLowerCase():t},set:function(e,t,i){var s;return!1===t?N.removeAttr(e,i):((s=N.propFix[i]||i)in e&&(e[s]=!0),e.setAttribute(i,i.toLowerCase())),i}},N.support.getSetAttribute||(O=N.valHooks.button={get:function(e,i){var s;return(s=e.getAttributeNode(i))&&""!==s.nodeValue?s.nodeValue:t},set:function(e,t,i){var s=e.getAttributeNode(i);return s||(s=I.createAttribute(i),e.setAttributeNode(s)),s.nodeValue=t+""}},N.each(["width","height"],function(e,t){N.attrHooks[t]=N.extend(N.attrHooks[t],{set:function(e,i){if(""===i)return e.setAttribute(t,"auto"),i}})})),N.support.hrefNormalized||N.each(["href","src","width","height"],function(e,i){N.attrHooks[i]=N.extend(N.attrHooks[i],{get:function(e){var s=e.getAttribute(i,2);return null===s?t:s}})}),N.support.style||(N.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=""+t}}),N.support.optSelected||(N.propHooks.selected=N.extend(N.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),N.support.checkOn||N.each(["radio","checkbox"],function(){N.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),N.each(["radio","checkbox"],function(){N.valHooks[this]=N.extend(N.valHooks[this],{set:function(e,t){if(N.isArray(t))return e.checked=N.inArray(N(e).val(),t)>=0}})});var V=/\.(.*)$/,U=/^(?:textarea|input|select)$/i,X=/\./g,$=/ /g,K=/[^\w\s.|`]/g,J=function(e){return e.replace(K,"\\$&")};N.event={add:function(e,i,s,n){if(3!==e.nodeType&&8!==e.nodeType){if(!1===s)s=D;else if(!s)return;var a,r;s.handler&&(s=(a=s).handler),s.guid||(s.guid=N.guid++);var o=N._data(e);if(!o)return;var l=o.events,d=o.handle;l||(o.events=l={}),d||(o.handle=d=function(e){return void 0===N||e&&N.event.triggered===e.type?t:N.event.handle.apply(d.elem,arguments)}),d.elem=e,i=i.split(" ");for(var c,h,u=0;c=i[u++];){r=a?N.extend({},a):{handler:s,data:n},c.indexOf(".")>-1?(h=c.split("."),c=h.shift(),r.namespace=h.slice(0).sort().join(".")):(h=[],r.namespace=""),r.type=c,r.guid||(r.guid=s.guid);var p=l[c],f=N.event.special[c]||{};p||(p=l[c]=[],f.setup&&!1!==f.setup.call(e,n,h,d)||(e.addEventListener?e.addEventListener(c,d,!1):e.attachEvent&&e.attachEvent("on"+c,d))),f.add&&(f.add.call(e,r),r.handler.guid||(r.handler.guid=s.guid)),p.push(r),N.event.global[c]=!0}e=null}},global:{},remove:function(e,i,s,n){if(3!==e.nodeType&&8!==e.nodeType){!1===s&&(s=D);var a,r,o,l,d,c,h,u,p,f=0,g=N.hasData(e)&&N._data(e),m=g&&g.events;if(!g||!m)return;if(i&&i.type&&(s=i.handler,i=i.type),!i||"string"==typeof i&&"."===i.charAt(0)){for(a in i=i||"",m)N.event.remove(e,a+i);return}for(i=i.split(" ");a=i[f++];)if(p=a,u=null,l=[],(o=a.indexOf(".")<0)||(l=a.split("."),a=l.shift(),d=new RegExp("(^|\\.)"+N.map(l.slice(0).sort(),J).join("\\.(?:.*\\.)?")+"(\\.|$)")),h=m[a])if(s){for(c=N.event.special[a]||{},r=n||0;r<h.length&&(u=h[r],s.guid!==u.guid||((o||d.test(u.namespace))&&(null==n&&h.splice(r--,1),c.remove&&c.remove.call(e,u)),null==n));r++);(0===h.length||null!=n&&1===h.length)&&((!c.teardown||!1===c.teardown.call(e,l))&&N.removeEvent(e,a,g.handle),null,delete m[a])}else for(r=0;r<h.length;r++)u=h[r],(o||d.test(u.namespace))&&(N.event.remove(e,p,u.handler,r),h.splice(r--,1));if(N.isEmptyObject(m)){var v=g.handle;v&&(v.elem=null),delete g.events,delete g.handle,N.isEmptyObject(g)&&N.removeData(e,t,!0)}}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(i,s,n,a){var r,o=i.type||i,l=[];if(o.indexOf("!")>=0&&(o=o.slice(0,-1),r=!0),o.indexOf(".")>=0&&(l=o.split("."),o=l.shift(),l.sort()),n&&!N.event.customEvent[o]||N.event.global[o]){if((i="object"==typeof i?i[N.expando]?i:new N.Event(o,i):new N.Event(o)).type=o,i.exclusive=r,i.namespace=l.join("."),i.namespace_re=new RegExp("(^|\\.)"+l.join("\\.(?:.*\\.)?")+"(\\.|$)"),!a&&n||(i.preventDefault(),i.stopPropagation()),!n)return void N.each(N.cache,function(){var e=this[N.expando];e&&e.events&&e.events[o]&&N.event.trigger(i,s,e.handle.elem)});if(3===n.nodeType||8===n.nodeType)return;i.result=t,i.target=n,(s=null!=s?N.makeArray(s):[]).unshift(i);var d=n,c=o.indexOf(":")<0?"on"+o:"";do{var h=N._data(d,"handle");i.currentTarget=d,h&&h.apply(d,s),c&&N.acceptData(d)&&d[c]&&!1===d[c].apply(d,s)&&(i.result=!1,i.preventDefault()),d=d.parentNode||d.ownerDocument||d===i.target.ownerDocument&&e}while(d&&!i.isPropagationStopped());if(!i.isDefaultPrevented()){var u,p=N.event.special[o]||{};if((!p._default||!1===p._default.call(n.ownerDocument,i))&&("click"!==o||!N.nodeName(n,"a"))&&N.acceptData(n)){try{c&&n[o]&&((u=n[c])&&(n[c]=null),N.event.triggered=o,n[o]())}catch(e){}u&&(n[c]=u),N.event.triggered=t}}return i.result}},handle:function(i){i=N.event.fix(i||e.event);var s=((N._data(this,"events")||{})[i.type]||[]).slice(0),n=!i.exclusive&&!i.namespace,a=Array.prototype.slice.call(arguments,0);a[0]=i,i.currentTarget=this;for(var r=0,o=s.length;r<o;r++){var l=s[r];if(n||i.namespace_re.test(l.namespace)){i.handler=l.handler,i.data=l.data,i.handleObj=l;var d=l.handler.apply(this,a);if(d!==t&&(i.result=d,!1===d&&(i.preventDefault(),i.stopPropagation())),i.isImmediatePropagationStopped())break}}return i.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(e){if(e[N.expando])return e;var i=e;e=N.Event(i);for(var s,n=this.props.length;n;)e[s=this.props[--n]]=i[s];if(e.target||(e.target=e.srcElement||I),3===e.target.nodeType&&(e.target=e.target.parentNode),!e.relatedTarget&&e.fromElement&&(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),null==e.pageX&&null!=e.clientX){var a=e.target.ownerDocument||I,r=a.documentElement,o=a.body;e.pageX=e.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),e.pageY=e.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)}return null==e.which&&(null!=e.charCode||null!=e.keyCode)&&(e.which=null!=e.charCode?e.charCode:e.keyCode),!e.metaKey&&e.ctrlKey&&(e.metaKey=e.ctrlKey),!e.which&&e.button!==t&&(e.which=1&e.button?1:2&e.button?3:4&e.button?2:0),e},guid:1e8,proxy:N.proxy,special:{ready:{setup:N.bindReady,teardown:N.noop},live:{add:function(e){N.event.add(this,_(e.origType,e.selector),N.extend({},e,{handler:C,guid:e.handler.guid}))},remove:function(e){N.event.remove(this,_(e.origType,e.selector),e)}},beforeunload:{setup:function(e,t,i){N.isWindow(this)&&(this.onbeforeunload=i)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}}},N.removeEvent=I.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)}:function(e,t,i){e.detachEvent&&e.detachEvent("on"+t,i)},N.Event=function(e,t){if(!this.preventDefault)return new N.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||!1===e.returnValue||e.getPreventDefault&&e.getPreventDefault()?j:D):this.type=e,t&&N.extend(this,t),this.timeStamp=N.now(),this[N.expando]=!0},N.Event.prototype={preventDefault:function(){this.isDefaultPrevented=j;var e=this.originalEvent;!e||(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=j;var e=this.originalEvent;!e||(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=j,this.stopPropagation()},isDefaultPrevented:D,isPropagationStopped:D,isImmediatePropagationStopped:D};var Z=function(e){var t=e.relatedTarget,i=!1,s=e.type;e.type=e.data,t!==this&&(t&&(i=N.contains(this,t)),i||(N.event.handle.apply(this,arguments),e.type=s))},ee=function(e){e.type=e.data,N.event.handle.apply(this,arguments)};if(N.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){N.event.special[e]={setup:function(i){N.event.add(this,t,i&&i.selector?ee:Z,e)},teardown:function(e){N.event.remove(this,t,e&&e.selector?ee:Z)}}}),N.support.submitBubbles||(N.event.special.submit={setup:function(e,t){if(N.nodeName(this,"form"))return!1;N.event.add(this,"click.specialSubmit",function(e){var t=e.target,i=N.nodeName(t,"input")||N.nodeName(t,"button")?t.type:"";("submit"===i||"image"===i)&&N(t).closest("form").length&&k("submit",this,arguments)}),N.event.add(this,"keypress.specialSubmit",function(e){var t=e.target,i=N.nodeName(t,"input")||N.nodeName(t,"button")?t.type:"";("text"===i||"password"===i)&&N(t).closest("form").length&&13===e.keyCode&&k("submit",this,arguments)})},teardown:function(e){N.event.remove(this,".specialSubmit")}}),!N.support.changeBubbles){var te,ie=function(e){var t=N.nodeName(e,"input")?e.type:"",i=e.value;return"radio"===t||"checkbox"===t?i=e.checked:"select-multiple"===t?i=e.selectedIndex>-1?N.map(e.options,function(e){return e.selected}).join("-"):"":N.nodeName(e,"select")&&(i=e.selectedIndex),i},se=function(e){var i,s,n=e.target;if(U.test(n.nodeName)&&!n.readOnly){if(i=N._data(n,"_change_data"),s=ie(n),("focusout"!==e.type||"radio"!==n.type)&&N._data(n,"_change_data",s),i===t||s===i)return;(null!=i||s)&&(e.type="change",e.liveFired=t,N.event.trigger(e,arguments[1],n))}};N.event.special.change={filters:{focusout:se,beforedeactivate:se,click:function(e){var t=e.target,i=N.nodeName(t,"input")?t.type:"";("radio"===i||"checkbox"===i||N.nodeName(t,"select"))&&se.call(this,e)},keydown:function(e){var t=e.target,i=N.nodeName(t,"input")?t.type:"";(13===e.keyCode&&!N.nodeName(t,"textarea")||32===e.keyCode&&("checkbox"===i||"radio"===i)||"select-multiple"===i)&&se.call(this,e)},beforeactivate:function(e){var t=e.target;N._data(t,"_change_data",ie(t))}},setup:function(e,t){if("file"===this.type)return!1;for(var i in te)N.event.add(this,i+".specialChange",te[i]);return U.test(this.nodeName)},teardown:function(e){return N.event.remove(this,".specialChange"),U.test(this.nodeName)}},(te=N.event.special.change.filters).focus=te.beforeactivate}N.support.focusinBubbles||N.each({focus:"focusin",blur:"focusout"},function(e,t){function i(e){var i=N.event.fix(e);i.type=t,i.originalEvent={},N.event.trigger(i,null,i.target),i.isDefaultPrevented()&&e.preventDefault()}var s=0;N.event.special[t]={setup:function(){0==s++&&I.addEventListener(e,i,!0)},teardown:function(){0==--s&&I.removeEventListener(e,i,!0)}}}),N.each(["bind","one"],function(e,i){N.fn[i]=function(e,s,n){var a;if("object"==typeof e){for(var r in e)this[i](r,s,e[r],n);return this}if(2!==arguments.length&&!1!==s||(n=s,s=t),"one"===i?(a=function(e){return N(this).unbind(e,a),n.apply(this,arguments)}).guid=n.guid||N.guid++:a=n,"unload"===e&&"one"!==i)this.one(e,s,n);else for(var o=0,l=this.length;o<l;o++)N.event.add(this[o],e,a,s);return this}}),N.fn.extend({unbind:function(e,t){if("object"!=typeof e||e.preventDefault)for(var i=0,s=this.length;i<s;i++)N.event.remove(this[i],e,t);else for(var n in e)this.unbind(n,e[n]);return this},delegate:function(e,t,i,s){return this.live(t,i,s,e)},undelegate:function(e,t,i){return 0===arguments.length?this.unbind("live"):this.die(t,null,i,e)},trigger:function(e,t){return this.each(function(){N.event.trigger(e,t,this)})},triggerHandler:function(e,t){if(this[0])return N.event.trigger(e,t,this[0],!0)},toggle:function(e){var t=arguments,i=e.guid||N.guid++,s=0,n=function(i){var n=(N.data(this,"lastToggle"+e.guid)||0)%s;return N.data(this,"lastToggle"+e.guid,n+1),i.preventDefault(),t[n].apply(this,arguments)||!1};for(n.guid=i;s<t.length;)t[s++].guid=i;return this.click(n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}});var ne={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};N.each(["live","die"],function(e,i){N.fn[i]=function(e,s,n,a){var r,o,l,d,c=0,h=a||this.selector,u=a?this:N(this.context);if("object"==typeof e&&!e.preventDefault){for(var p in e)u[i](p,s,e[p],h);return this}if("die"===i&&!e&&a&&"."===a.charAt(0))return u.unbind(a),this;for((!1===s||N.isFunction(s))&&(n=s||D,s=t),e=(e||"").split(" ");null!=(r=e[c++]);)if(l="",(o=V.exec(r))&&(l=o[0],r=r.replace(V,"")),"hover"!==r)if(d=r,ne[r]?(e.push(ne[r]+l),r+=l):r=(ne[r]||r)+l,"live"===i)for(var f=0,g=u.length;f<g;f++)N.event.add(u[f],"live."+_(r,h),{data:s,selector:h,handler:n,origType:r,origHandler:n,preType:d});else u.unbind("live."+_(r,h),n);else e.push("mouseenter"+l,"mouseleave"+l);return this}}),N.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),function(e,t){N.fn[t]=function(e,i){return null==i&&(i=e,e=null),arguments.length>0?this.bind(t,e,i):this.trigger(t)},N.attrFn&&(N.attrFn[t]=!0)}),function(){function e(e,t,i,s,n,a){for(var r=0,o=s.length;r<o;r++){var l=s[r];if(l){var d=!1;for(l=l[e];l;){if(l.sizcache===i){d=s[l.sizset];break}if(1===l.nodeType)if(a||(l.sizcache=i,l.sizset=r),"string"!=typeof t){if(l===t){d=!0;break}}else if(c.filter(t,[l]).length>0){d=l;break}l=l[e]}s[r]=d}}}function i(e,t,i,s,n,a){for(var r=0,o=s.length;r<o;r++){var l=s[r];if(l){var d=!1;for(l=l[e];l;){if(l.sizcache===i){d=s[l.sizset];break}if(1===l.nodeType&&!a&&(l.sizcache=i,l.sizset=r),l.nodeName.toLowerCase()===t){d=l;break}l=l[e]}s[r]=d}}}var s=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,n=0,a=Object.prototype.toString,r=!1,o=!0,l=/\\/g,d=/\W/;[0,0].sort(function(){return o=!1,0});var c=function(e,t,i,n){i=i||[];var r=t=t||I;if(1!==t.nodeType&&9!==t.nodeType)return[];if(!e||"string"!=typeof e)return i;var o,l,d,p,f,g,m,y,w=!0,x=c.isXML(t),_=[],C=e;do{if(s.exec(""),(o=s.exec(C))&&(C=o[3],_.push(o[1]),o[2])){p=o[3];break}}while(o);if(_.length>1&&u.exec(e))if(2===_.length&&h.relative[_[0]])l=b(_[0]+_[1],t);else for(l=h.relative[_[0]]?[t]:c(_.shift(),t);_.length;)e=_.shift(),h.relative[e]&&(e+=_.shift()),l=b(e,l);else if(!n&&_.length>1&&9===t.nodeType&&!x&&h.match.ID.test(_[0])&&!h.match.ID.test(_[_.length-1])&&(t=(f=c.find(_.shift(),t,x)).expr?c.filter(f.expr,f.set)[0]:f.set[0]),t)for(l=(f=n?{expr:_.pop(),set:v(n)}:c.find(_.pop(),1!==_.length||"~"!==_[0]&&"+"!==_[0]||!t.parentNode?t:t.parentNode,x)).expr?c.filter(f.expr,f.set):f.set,_.length>0?d=v(l):w=!1;_.length;)m=g=_.pop(),h.relative[g]?m=_.pop():g="",null==m&&(m=t),h.relative[g](d,m,x);else d=_=[];if(d||(d=l),d||c.error(g||e),"[object Array]"===a.call(d))if(w)if(t&&1===t.nodeType)for(y=0;null!=d[y];y++)d[y]&&(!0===d[y]||1===d[y].nodeType&&c.contains(t,d[y]))&&i.push(l[y]);else for(y=0;null!=d[y];y++)d[y]&&1===d[y].nodeType&&i.push(l[y]);else i.push.apply(i,d);else v(d,i);return p&&(c(p,r,i,n),c.uniqueSort(i)),i};c.uniqueSort=function(e){if(g&&(r=o,e.sort(g),r))for(var t=1;t<e.length;t++)e[t]===e[t-1]&&e.splice(t--,1);return e},c.matches=function(e,t){return c(e,null,null,t)},c.matchesSelector=function(e,t){return c(t,null,null,[e]).length>0},c.find=function(e,t,i){var s;if(!e)return[];for(var n=0,a=h.order.length;n<a;n++){var r,o=h.order[n];if(r=h.leftMatch[o].exec(e)){var d=r[1];if(r.splice(1,1),"\\"!==d.substr(d.length-1)&&(r[1]=(r[1]||"").replace(l,""),null!=(s=h.find[o](r,t,i)))){e=e.replace(h.match[o],"");break}}}return s||(s=void 0!==t.getElementsByTagName?t.getElementsByTagName("*"):[]),{set:s,expr:e}},c.filter=function(e,i,s,n){for(var a,r,o=e,l=[],d=i,u=i&&i[0]&&c.isXML(i[0]);e&&i.length;){for(var p in h.filter)if(null!=(a=h.leftMatch[p].exec(e))&&a[2]){var f,g,m=h.filter[p],v=a[1];if(r=!1,a.splice(1,1),"\\"===v.substr(v.length-1))continue;if(d===l&&(l=[]),h.preFilter[p])if(a=h.preFilter[p](a,d,s,l,n,u)){if(!0===a)continue}else r=f=!0;if(a)for(var b=0;null!=(g=d[b]);b++)if(g){var y=n^!!(f=m(g,a,b,d));s&&null!=f?y?r=!0:d[b]=!1:y&&(l.push(g),r=!0)}if(f!==t){if(s||(d=l),e=e.replace(h.match[p],""),!r)return[];break}}if(e===o){if(null!=r)break;c.error(e)}o=e}return d},c.error=function(e){throw"Syntax error, unrecognized expression: "+e};var h=c.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{class:"className",for:"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")},type:function(e){return e.getAttribute("type")}},relative:{"+":function(e,t){var i="string"==typeof t,s=i&&!d.test(t),n=i&&!s;s&&(t=t.toLowerCase());for(var a,r=0,o=e.length;r<o;r++)if(a=e[r]){for(;(a=a.previousSibling)&&1!==a.nodeType;);e[r]=n||a&&a.nodeName.toLowerCase()===t?a||!1:a===t}n&&c.filter(t,e,!0)},">":function(e,t){var i,s="string"==typeof t,n=0,a=e.length;if(s&&!d.test(t)){for(t=t.toLowerCase();n<a;n++)if(i=e[n]){var r=i.parentNode;e[n]=r.nodeName.toLowerCase()===t&&r}}else{for(;n<a;n++)(i=e[n])&&(e[n]=s?i.parentNode:i.parentNode===t);s&&c.filter(t,e,!0)}},"":function(t,s,a){var r,o=n++,l=e;"string"==typeof s&&!d.test(s)&&(r=s=s.toLowerCase(),l=i),l("parentNode",s,o,t,r,a)},"~":function(t,s,a){var r,o=n++,l=e;"string"==typeof s&&!d.test(s)&&(r=s=s.toLowerCase(),l=i),l("previousSibling",s,o,t,r,a)}},find:{ID:function(e,t,i){if(void 0!==t.getElementById&&!i){var s=t.getElementById(e[1]);return s&&s.parentNode?[s]:[]}},NAME:function(e,t){if(void 0!==t.getElementsByName){for(var i=[],s=t.getElementsByName(e[1]),n=0,a=s.length;n<a;n++)s[n].getAttribute("name")===e[1]&&i.push(s[n]);return 0===i.length?null:i}},TAG:function(e,t){if(void 0!==t.getElementsByTagName)return t.getElementsByTagName(e[1])}},preFilter:{CLASS:function(e,t,i,s,n,a){if(e=" "+e[1].replace(l,"")+" ",a)return e;for(var r,o=0;null!=(r=t[o]);o++)r&&(n^(r.className&&(" "+r.className+" ").replace(/[\t\n\r]/g," ").indexOf(e)>=0)?i||s.push(r):i&&(t[o]=!1));return!1},ID:function(e){return e[1].replace(l,"")},TAG:function(e,t){return e[1].replace(l,"").toLowerCase()},CHILD:function(e){if("nth"===e[1]){e[2]||c.error(e[0]),e[2]=e[2].replace(/^\+|\s*/g,"");var t=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(("even"===e[2]?"2n":"odd"===e[2]&&"2n+1")||!/\D/.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=t[1]+(t[2]||1)-0,e[3]=t[3]-0}else e[2]&&c.error(e[0]);return e[0]=n++,e},ATTR:function(e,t,i,s,n,a){var r=e[1]=e[1].replace(l,"");return!a&&h.attrMap[r]&&(e[1]=h.attrMap[r]),e[4]=(e[4]||e[5]||"").replace(l,""),"~="===e[2]&&(e[4]=" "+e[4]+" "),e},PSEUDO:function(e,t,i,n,a){if("not"===e[1]){if(!((s.exec(e[3])||"").length>1||/^\w/.test(e[3]))){var r=c.filter(e[3],t,i,!0^a);return i||n.push.apply(n,r),!1}e[3]=c(e[3],null,null,t)}else if(h.match.POS.test(e[0])||h.match.CHILD.test(e[0]))return!0;return e},POS:function(e){return e.unshift(!0),e}},filters:{enabled:function(e){return!1===e.disabled&&"hidden"!==e.type},disabled:function(e){return!0===e.disabled},checked:function(e){return!0===e.checked},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},parent:function(e){return!!e.firstChild},empty:function(e){return!e.firstChild},has:function(e,t,i){return!!c(i[3],e).length},header:function(e){return/h\d/i.test(e.nodeName)},text:function(e){var t=e.getAttribute("type"),i=e.type;return"input"===e.nodeName.toLowerCase()&&"text"===i&&(t===i||null===t)},radio:function(e){return"input"===e.nodeName.toLowerCase()&&"radio"===e.type},checkbox:function(e){return"input"===e.nodeName.toLowerCase()&&"checkbox"===e.type},file:function(e){return"input"===e.nodeName.toLowerCase()&&"file"===e.type},password:function(e){return"input"===e.nodeName.toLowerCase()&&"password"===e.type},submit:function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&"submit"===e.type},image:function(e){return"input"===e.nodeName.toLowerCase()&&"image"===e.type},reset:function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&"reset"===e.type},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return/input|select|textarea|button/i.test(e.nodeName)},focus:function(e){return e===e.ownerDocument.activeElement}},setFilters:{first:function(e,t){return 0===t},last:function(e,t,i,s){return t===s.length-1},even:function(e,t){return t%2==0},odd:function(e,t){return t%2==1},lt:function(e,t,i){return t<i[3]-0},gt:function(e,t,i){return t>i[3]-0},nth:function(e,t,i){return i[3]-0===t},eq:function(e,t,i){return i[3]-0===t}},filter:{PSEUDO:function(e,t,i,s){var n=t[1],a=h.filters[n];if(a)return a(e,i,t,s);if("contains"===n)return(e.textContent||e.innerText||c.getText([e])||"").indexOf(t[3])>=0;if("not"===n){for(var r=t[3],o=0,l=r.length;o<l;o++)if(r[o]===e)return!1;return!0}c.error(n)},CHILD:function(e,t){var i=t[1],s=e;switch(i){case"only":case"first":for(;s=s.previousSibling;)if(1===s.nodeType)return!1;if("first"===i)return!0;s=e;case"last":for(;s=s.nextSibling;)if(1===s.nodeType)return!1;return!0;case"nth":var n=t[2],a=t[3];if(1===n&&0===a)return!0;var r=t[0],o=e.parentNode;if(o&&(o.sizcache!==r||!e.nodeIndex)){var l=0;for(s=o.firstChild;s;s=s.nextSibling)1===s.nodeType&&(s.nodeIndex=++l);o.sizcache=r}var d=e.nodeIndex-a;return 0===n?0===d:d%n==0&&d/n>=0}},ID:function(e,t){return 1===e.nodeType&&e.getAttribute("id")===t},TAG:function(e,t){return"*"===t&&1===e.nodeType||e.nodeName.toLowerCase()===t},CLASS:function(e,t){return(" "+(e.className||e.getAttribute("class"))+" ").indexOf(t)>-1},ATTR:function(e,t){var i=t[1],s=h.attrHandle[i]?h.attrHandle[i](e):null!=e[i]?e[i]:e.getAttribute(i),n=s+"",a=t[2],r=t[4];return null==s?"!="===a:"="===a?n===r:"*="===a?n.indexOf(r)>=0:"~="===a?(" "+n+" ").indexOf(r)>=0:r?"!="===a?n!==r:"^="===a?0===n.indexOf(r):"$="===a?n.substr(n.length-r.length)===r:"|="===a&&(n===r||n.substr(0,r.length+1)===r+"-"):n&&!1!==s},POS:function(e,t,i,s){var n=t[2],a=h.setFilters[n];if(a)return a(e,i,t,s)}}},u=h.match.POS,p=function(e,t){return"\\"+(t-0+1)};for(var f in h.match)h.match[f]=new RegExp(h.match[f].source+/(?![^\[]*\])(?![^\(]*\))/.source),h.leftMatch[f]=new RegExp(/(^(?:.|\r|\n)*?)/.source+h.match[f].source.replace(/\\(\d+)/g,p));var g,m,v=function(e,t){return e=Array.prototype.slice.call(e,0),t?(t.push.apply(t,e),t):e};try{Array.prototype.slice.call(I.documentElement.childNodes,0)[0].nodeType}catch(e){v=function(e,t){var i=0,s=t||[];if("[object Array]"===a.call(e))Array.prototype.push.apply(s,e);else if("number"==typeof e.length)for(var n=e.length;i<n;i++)s.push(e[i]);else for(;e[i];i++)s.push(e[i]);return s}}I.documentElement.compareDocumentPosition?g=function(e,t){return e===t?(r=!0,0):e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t)?-1:1:e.compareDocumentPosition?-1:1}:(g=function(e,t){if(e===t)return r=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var i,s,n=[],a=[],o=e.parentNode,l=t.parentNode,d=o;if(o===l)return m(e,t);if(!o)return-1;if(!l)return 1;for(;d;)n.unshift(d),d=d.parentNode;for(d=l;d;)a.unshift(d),d=d.parentNode;i=n.length,s=a.length;for(var c=0;c<i&&c<s;c++)if(n[c]!==a[c])return m(n[c],a[c]);return c===i?m(e,a[c],-1):m(n[c],t,1)},m=function(e,t,i){if(e===t)return i;for(var s=e.nextSibling;s;){if(s===t)return-1;s=s.nextSibling}return 1}),c.getText=function(e){for(var t,i="",s=0;e[s];s++)3===(t=e[s]).nodeType||4===t.nodeType?i+=t.nodeValue:8!==t.nodeType&&(i+=c.getText(t.childNodes));return i},function(){var e=I.createElement("div"),i="script"+(new Date).getTime(),s=I.documentElement;e.innerHTML="<a name='"+i+"'/>",s.insertBefore(e,s.firstChild),I.getElementById(i)&&(h.find.ID=function(e,i,s){if(void 0!==i.getElementById&&!s){var n=i.getElementById(e[1]);return n?n.id===e[1]||void 0!==n.getAttributeNode&&n.getAttributeNode("id").nodeValue===e[1]?[n]:t:[]}},h.filter.ID=function(e,t){var i=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return 1===e.nodeType&&i&&i.nodeValue===t}),s.removeChild(e),s=e=null}(),function(){var e=I.createElement("div");e.appendChild(I.createComment("")),e.getElementsByTagName("*").length>0&&(h.find.TAG=function(e,t){var i=t.getElementsByTagName(e[1]);if("*"===e[1]){for(var s=[],n=0;i[n];n++)1===i[n].nodeType&&s.push(i[n]);i=s}return i}),e.innerHTML="<a href='#'></a>",e.firstChild&&void 0!==e.firstChild.getAttribute&&"#"!==e.firstChild.getAttribute("href")&&(h.attrHandle.href=function(e){return e.getAttribute("href",2)}),e=null}(),I.querySelectorAll&&function(){var e=c,t=I.createElement("div");if(t.innerHTML="<p class='TEST'></p>",!t.querySelectorAll||0!==t.querySelectorAll(".TEST").length){for(var i in c=function(t,i,s,n){if(i=i||I,!n&&!c.isXML(i)){var a=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(t);if(a&&(1===i.nodeType||9===i.nodeType)){if(a[1])return v(i.getElementsByTagName(t),s);if(a[2]&&h.find.CLASS&&i.getElementsByClassName)return v(i.getElementsByClassName(a[2]),s)}if(9===i.nodeType){if("body"===t&&i.body)return v([i.body],s);if(a&&a[3]){var r=i.getElementById(a[3]);if(!r||!r.parentNode)return v([],s);if(r.id===a[3])return v([r],s)}try{return v(i.querySelectorAll(t),s)}catch(e){}}else if(1===i.nodeType&&"object"!==i.nodeName.toLowerCase()){var o=i,l=i.getAttribute("id"),d=l||"__sizzle__",u=i.parentNode,p=/^\s*[+~]/.test(t);l?d=d.replace(/'/g,"\\$&"):i.setAttribute("id",d),p&&u&&(i=i.parentNode);try{if(!p||u)return v(i.querySelectorAll("[id='"+d+"'] "+t),s)}catch(e){}finally{l||o.removeAttribute("id")}}}return e(t,i,s,n)},e)c[i]=e[i];t=null}}(),function(){var e=I.documentElement,t=e.matchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.msMatchesSelector;if(t){var i=!t.call(I.createElement("div"),"div"),s=!1;try{t.call(I.documentElement,"[test!='']:sizzle")}catch(e){s=!0}c.matchesSelector=function(e,n){if(n=n.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']"),!c.isXML(e))try{if(s||!h.match.PSEUDO.test(n)&&!/!=/.test(n)){var a=t.call(e,n);if(a||!i||e.document&&11!==e.document.nodeType)return a}}catch(e){}return c(n,null,null,[e]).length>0}}}(),function(){var e=I.createElement("div");if(e.innerHTML="<div class='test e'></div><div class='test'></div>",e.getElementsByClassName&&0!==e.getElementsByClassName("e").length){if(e.lastChild.className="e",1===e.getElementsByClassName("e").length)return;h.order.splice(1,0,"CLASS"),h.find.CLASS=function(e,t,i){if(void 0!==t.getElementsByClassName&&!i)return t.getElementsByClassName(e[1])},e=null}}(),I.documentElement.contains?c.contains=function(e,t){return e!==t&&(!e.contains||e.contains(t))}:I.documentElement.compareDocumentPosition?c.contains=function(e,t){return!!(16&e.compareDocumentPosition(t))}:c.contains=function(){return!1},c.isXML=function(e){var t=(e?e.ownerDocument||e:0).documentElement;return!!t&&"HTML"!==t.nodeName};var b=function(e,t){for(var i,s=[],n="",a=t.nodeType?[t]:t;i=h.match.PSEUDO.exec(e);)n+=i[0],e=e.replace(h.match.PSEUDO,"");e=h.relative[e]?e+"*":e;for(var r=0,o=a.length;r<o;r++)c(e,a[r],s);return c.filter(n,s)};N.find=c,N.expr=c.selectors,N.expr[":"]=N.expr.filters,N.unique=c.uniqueSort,N.text=c.getText,N.isXMLDoc=c.isXML,N.contains=c.contains}();var ae=/Until$/,re=/^(?:parents|prevUntil|prevAll)/,oe=/,/,le=/^.[^:#\[\.,]*$/,de=Array.prototype.slice,ce=N.expr.match.POS,he={children:!0,contents:!0,next:!0,prev:!0};N.fn.extend({find:function(e){var t,i,s=this;if("string"!=typeof e)return N(e).filter(function(){for(t=0,i=s.length;t<i;t++)if(N.contains(s[t],this))return!0});var n,a,r,o=this.pushStack("","find",e);for(t=0,i=this.length;t<i;t++)if(n=o.length,N.find(e,this[t],o),t>0)for(a=n;a<o.length;a++)for(r=0;r<n;r++)if(o[r]===o[a]){o.splice(a--,1);break}return o},has:function(e){var t=N(e);return this.filter(function(){for(var e=0,i=t.length;e<i;e++)if(N.contains(this,t[e]))return!0})},not:function(e){return this.pushStack(w(this,e,!1),"not",e)},filter:function(e){return this.pushStack(w(this,e,!0),"filter",e)},is:function(e){return!!e&&("string"==typeof e?N.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var i,s,n=[],a=this[0];if(N.isArray(e)){var r,o,l={},d=1;if(a&&e.length){for(i=0,s=e.length;i<s;i++)l[o=e[i]]||(l[o]=ce.test(o)?N(o,t||this.context):o);for(;a&&a.ownerDocument&&a!==t;){for(o in l)((r=l[o]).jquery?r.index(a)>-1:N(a).is(r))&&n.push({selector:o,elem:a,level:d});a=a.parentNode,d++}}return n}var c=ce.test(e)||"string"!=typeof e?N(e,t||this.context):0;for(i=0,s=this.length;i<s;i++)for(a=this[i];a;){if(c?c.index(a)>-1:N.find.matchesSelector(a,e)){n.push(a);break}if(!(a=a.parentNode)||!a.ownerDocument||a===t||11===a.nodeType)break}return n=n.length>1?N.unique(n):n,this.pushStack(n,"closest",e)},index:function(e){return e?"string"==typeof e?N.inArray(this[0],N(e)):N.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var i="string"==typeof e?N(e,t):N.makeArray(e&&e.nodeType?[e]:e),s=N.merge(this.get(),i);return this.pushStack(x(i[0])||x(s[0])?s:N.unique(s))},andSelf:function(){return this.add(this.prevObject)}}),N.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return N.dir(e,"parentNode")},parentsUntil:function(e,t,i){return N.dir(e,"parentNode",i)},next:function(e){return N.nth(e,2,"nextSibling")},prev:function(e){return N.nth(e,2,"previousSibling")},nextAll:function(e){return N.dir(e,"nextSibling")},prevAll:function(e){return N.dir(e,"previousSibling")},nextUntil:function(e,t,i){return N.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return N.dir(e,"previousSibling",i)},siblings:function(e){return N.sibling(e.parentNode.firstChild,e)},children:function(e){return N.sibling(e.firstChild)},contents:function(e){return N.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:N.makeArray(e.childNodes)}},function(e,t){N.fn[e]=function(i,s){var n=N.map(this,t,i),a=de.call(arguments);return ae.test(e)||(s=i),s&&"string"==typeof s&&(n=N.filter(s,n)),n=this.length>1&&!he[e]?N.unique(n):n,(this.length>1||oe.test(s))&&re.test(e)&&(n=n.reverse()),this.pushStack(n,e,a.join(","))}}),N.extend({filter:function(e,t,i){return i&&(e=":not("+e+")"),1===t.length?N.find.matchesSelector(t[0],e)?[t[0]]:[]:N.find.matches(e,t)},dir:function(e,i,s){for(var n=[],a=e[i];a&&9!==a.nodeType&&(s===t||1!==a.nodeType||!N(a).is(s));)1===a.nodeType&&n.push(a),a=a[i];return n},nth:function(e,t,i,s){t=t||1;for(var n=0;e&&(1!==e.nodeType||++n!==t);e=e[i]);return e},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}});var ue=/ jQuery\d+="(?:\d+|null)"/g,pe=/^\s+/,fe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ge=/<([\w:]+)/,me=/<tbody/i,ve=/<|&#?\w+;/,be=/<(?:script|object|embed|option|style)/i,ye=/checked\s*(?:[^=]|=\s*.checked.)/i,we=/\/(java|ecma)script/i,xe=/^\s*<!(?:\[CDATA\[|\-\-)/,_e={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};_e.optgroup=_e.option,_e.tbody=_e.tfoot=_e.colgroup=_e.caption=_e.thead,_e.th=_e.td,N.support.htmlSerialize||(_e._default=[1,"div<div>","</div>"]),N.fn.extend({text:function(e){return N.isFunction(e)?this.each(function(t){var i=N(this);i.text(e.call(this,t,i.text()))}):"object"!=typeof e&&e!==t?this.empty().append((this[0]&&this[0].ownerDocument||I).createTextNode(e)):N.text(this)},wrapAll:function(e){if(N.isFunction(e))return this.each(function(t){N(this).wrapAll(e.call(this,t))});if(this[0]){var t=N(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return N.isFunction(e)?this.each(function(t){N(this).wrapInner(e.call(this,t))}):this.each(function(){var t=N(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){return this.each(function(){N(this).wrapAll(e)})},unwrap:function(){return this.parent().each(function(){N.nodeName(this,"body")||N(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){1===this.nodeType&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){1===this.nodeType&&this.insertBefore(e,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=N(arguments[0]);return e.push.apply(e,this.toArray()),this.pushStack(e,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=this.pushStack(this,"after",arguments);return e.push.apply(e,N(arguments[0]).toArray()),e}},remove:function(e,t){for(var i,s=0;null!=(i=this[s]);s++)e&&!N.filter(e,[i]).length||(!t&&1===i.nodeType&&(N.cleanData(i.getElementsByTagName("*")),N.cleanData([i])),i.parentNode&&i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)for(1===e.nodeType&&N.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return N.clone(this,e,t)})},html:function(e){if(e===t)return this[0]&&1===this[0].nodeType?this[0].innerHTML.replace(ue,""):null;if("string"!=typeof e||be.test(e)||!N.support.leadingWhitespace&&pe.test(e)||_e[(ge.exec(e)||["",""])[1].toLowerCase()])N.isFunction(e)?this.each(function(t){var i=N(this);i.html(e.call(this,t,i.html()))}):this.empty().append(e);else{e=e.replace(fe,"<$1></$2>");try{for(var i=0,s=this.length;i<s;i++)1===this[i].nodeType&&(N.cleanData(this[i].getElementsByTagName("*")),this[i].innerHTML=e)}catch(t){this.empty().append(e)}}return this},replaceWith:function(e){return this[0]&&this[0].parentNode?N.isFunction(e)?this.each(function(t){var i=N(this),s=i.html();i.replaceWith(e.call(this,t,s))}):("string"!=typeof e&&(e=N(e).detach()),this.each(function(){var t=this.nextSibling,i=this.parentNode;N(this).remove(),t?N(t).before(e):N(i).append(e)})):this.length?this.pushStack(N(N.isFunction(e)?e():e),"replaceWith",e):this},detach:function(e){return this.remove(e,!0)},domManip:function(e,i,s){var n,a,r,o,l=e[0],d=[];if(!N.support.checkClone&&3===arguments.length&&"string"==typeof l&&ye.test(l))return this.each(function(){N(this).domManip(e,i,s,!0)});if(N.isFunction(l))return this.each(function(n){var a=N(this);e[0]=l.call(this,n,i?a.html():t),a.domManip(e,i,s)});if(this[0]){if(o=l&&l.parentNode,a=1===(r=(n=N.support.parentNode&&o&&11===o.nodeType&&o.childNodes.length===this.length?{fragment:o}:N.buildFragment(e,this,d)).fragment).childNodes.length?r=r.firstChild:r.firstChild){i=i&&N.nodeName(a,"tr");for(var c=0,h=this.length,u=h-1;c<h;c++)s.call(i?y(this[c]):this[c],n.cacheable||h>1&&c<u?N.clone(r,!0,!0):r)}d.length&&N.each(d,p)}return this}}),N.buildFragment=function(e,t,i){var s,n,a,r;return t&&t[0]&&(r=t[0].ownerDocument||t[0]),r.createDocumentFragment||(r=I),1===e.length&&"string"==typeof e[0]&&e[0].length<512&&r===I&&"<"===e[0].charAt(0)&&!be.test(e[0])&&(N.support.checkClone||!ye.test(e[0]))&&(n=!0,(a=N.fragments[e[0]])&&1!==a&&(s=a)),s||(s=r.createDocumentFragment(),N.clean(e,r,s,i)),n&&(N.fragments[e[0]]=a?s:1),{fragment:s,cacheable:n}},N.fragments={},N.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){N.fn[e]=function(i){var s=[],n=N(i),a=1===this.length&&this[0].parentNode;if(a&&11===a.nodeType&&1===a.childNodes.length&&1===n.length)return n[t](this[0]),this;for(var r=0,o=n.length;r<o;r++){var l=(r>0?this.clone(!0):this).get();N(n[r])[t](l),s=s.concat(l)}return this.pushStack(s,e,n.selector)}}),N.extend({clone:function(e,t,i){var s,n,a,r=e.cloneNode(!0);if(!(N.support.noCloneEvent&&N.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||N.isXMLDoc(e)))for(v(e,r),s=m(e),n=m(r),a=0;s[a];++a)n[a]&&v(s[a],n[a]);if(t&&(b(e,r),i))for(s=m(e),n=m(r),a=0;s[a];++a)b(s[a],n[a]);return s=n=null,r},clean:function(e,t,i,s){var n;void 0===(t=t||I).createElement&&(t=t.ownerDocument||t[0]&&t[0].ownerDocument||I);for(var a,r,o=[],l=0;null!=(r=e[l]);l++)if("number"==typeof r&&(r+=""),r){if("string"==typeof r)if(ve.test(r)){r=r.replace(fe,"<$1></$2>");var d=(ge.exec(r)||["",""])[1].toLowerCase(),c=_e[d]||_e._default,h=c[0],u=t.createElement("div");for(u.innerHTML=c[1]+r+c[2];h--;)u=u.lastChild;if(!N.support.tbody){var p=me.test(r),g="table"!==d||p?"<table>"!==c[1]||p?[]:u.childNodes:u.firstChild&&u.firstChild.childNodes;for(a=g.length-1;a>=0;--a)N.nodeName(g[a],"tbody")&&!g[a].childNodes.length&&g[a].parentNode.removeChild(g[a])}!N.support.leadingWhitespace&&pe.test(r)&&u.insertBefore(t.createTextNode(pe.exec(r)[0]),u.firstChild),r=u.childNodes}else r=t.createTextNode(r);var m;if(!N.support.appendChecked)if(r[0]&&"number"==typeof(m=r.length))for(a=0;a<m;a++)f(r[a]);else f(r);r.nodeType?o.push(r):o=N.merge(o,r)}if(i)for(n=function(e){return!e.type||we.test(e.type)},l=0;o[l];l++)if(!s||!N.nodeName(o[l],"script")||o[l].type&&"text/javascript"!==o[l].type.toLowerCase()){if(1===o[l].nodeType){var v=N.grep(o[l].getElementsByTagName("script"),n);o.splice.apply(o,[l+1,0].concat(v))}i.appendChild(o[l])}else s.push(o[l].parentNode?o[l].parentNode.removeChild(o[l]):o[l]);return o},cleanData:function(e){for(var t,i,s,n=N.cache,a=N.expando,r=N.event.special,o=N.support.deleteExpando,l=0;null!=(s=e[l]);l++)if((!s.nodeName||!N.noData[s.nodeName.toLowerCase()])&&(i=s[N.expando])){if((t=n[i]&&n[i][a])&&t.events){for(var d in t.events)r[d]?N.event.remove(s,d):N.removeEvent(s,d,t.handle);t.handle&&(t.handle.elem=null)}o?delete s[N.expando]:s.removeAttribute&&s.removeAttribute(N.expando),delete n[i]}}});var Ce,ke,je,De=/alpha\([^)]*\)/i,Me=/opacity=([^)]*)/,Te=/([A-Z]|^ms)/g,Se=/^-?\d+(?:px)?$/i,Ie=/^-?\d/,Fe=/^([\-+])=([\-+.\de]+)/,qe={position:"absolute",visibility:"hidden",display:"block"},Ne=["Left","Right"],Ae=["Top","Bottom"];N.fn.css=function(e,i){return 2===arguments.length&&i===t?this:N.access(this,e,i,!0,function(e,i,s){return s!==t?N.style(e,i,s):N.css(e,i)})},N.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=Ce(e,"opacity","opacity");return""===i?"1":i}return e.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:N.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,i,s,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,r,o=N.camelCase(i),l=e.style,d=N.cssHooks[o];if(i=N.cssProps[o]||o,s===t)return d&&"get"in d&&(a=d.get(e,!1,n))!==t?a:l[i];if("string"===(r=typeof s)&&(a=Fe.exec(s))&&(s=+(a[1]+1)*+a[2]+parseFloat(N.css(e,i)),r="number"),null==s||"number"===r&&isNaN(s))return;if("number"===r&&!N.cssNumber[o]&&(s+="px"),!(d&&"set"in d&&(s=d.set(e,s))===t))try{l[i]=s}catch(e){}}},css:function(e,i,s){var n,a;return i=N.camelCase(i),a=N.cssHooks[i],"cssFloat"===(i=N.cssProps[i]||i)&&(i="float"),a&&"get"in a&&(n=a.get(e,!0,s))!==t?n:Ce?Ce(e,i):void 0},swap:function(e,t,i){var s={};for(var n in t)s[n]=e.style[n],e.style[n]=t[n];for(n in i.call(e),t)e.style[n]=s[n]}}),N.curCSS=N.css,N.each(["height","width"],function(e,t){N.cssHooks[t]={get:function(e,i,s){var n;if(i)return 0!==e.offsetWidth?u(e,t,s):(N.swap(e,qe,function(){n=u(e,t,s)}),n)},set:function(e,t){return Se.test(t)?(t=parseFloat(t))>=0?t+"px":void 0:t}}}),N.support.opacity||(N.cssHooks.opacity={get:function(e,t){return Me.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100+"":t?"1":""},set:function(e,t){var i=e.style,s=e.currentStyle,n=N.isNaN(t)?"":"alpha(opacity="+100*t+")",a=s&&s.filter||i.filter||"";i.zoom=1,t>=1&&""===N.trim(a.replace(De,""))&&(i.removeAttribute("filter"),s&&!s.filter)||(i.filter=De.test(a)?a.replace(De,n):a+" "+n)}}),N(function(){N.support.reliableMarginRight||(N.cssHooks.marginRight={get:function(e,t){var i;return N.swap(e,{display:"inline-block"},function(){i=t?Ce(e,"margin-right","marginRight"):e.style.marginRight}),i}})}),I.defaultView&&I.defaultView.getComputedStyle&&(ke=function(e,i){var s,n,a;return i=i.replace(Te,"-$1").toLowerCase(),(n=e.ownerDocument.defaultView)?((a=n.getComputedStyle(e,null))&&(""===(s=a.getPropertyValue(i))&&!N.contains(e.ownerDocument.documentElement,e)&&(s=N.style(e,i))),s):t}),I.documentElement.currentStyle&&(je=function(e,t){var i,s=e.currentStyle&&e.currentStyle[t],n=e.runtimeStyle&&e.runtimeStyle[t],a=e.style;return!Se.test(s)&&Ie.test(s)&&(i=a.left,n&&(e.runtimeStyle.left=e.currentStyle.left),a.left="fontSize"===t?"1em":s||0,s=a.pixelLeft+"px",a.left=i,n&&(e.runtimeStyle.left=n)),""===s?"auto":s}),Ce=ke||je,N.expr&&N.expr.filters&&(N.expr.filters.hidden=function(e){var t=e.offsetWidth,i=e.offsetHeight;return 0===t&&0===i||!N.support.reliableHiddenOffsets&&"none"===(e.style.display||N.css(e,"display"))},N.expr.filters.visible=function(e){return!N.expr.filters.hidden(e)});var Pe,Ee,ze=/%20/g,Oe=/\[\]$/,Re=/\r?\n/g,Ge=/#.*$/,Le=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,He=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,We=/^(?:GET|HEAD)$/,Qe=/^\/\//,Be=/\?/,Ye=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Ve=/^(?:select|textarea)/i,Ue=/\s+/,Xe=/([?&])_=[^&]*/,$e=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,Ke=N.fn.load,Je={},Ze={},et=["*/"]+["*"];try{Pe=q.href}catch(e){(Pe=I.createElement("a")).href="",Pe=Pe.href}Ee=$e.exec(Pe.toLowerCase())||[],N.fn.extend({load:function(e,i,s){if("string"!=typeof e&&Ke)return Ke.apply(this,arguments);if(!this.length)return this;var n=e.indexOf(" ");if(n>=0){var a=e.slice(n,e.length);e=e.slice(0,n)}var r="GET";i&&(N.isFunction(i)?(s=i,i=t):"object"==typeof i&&(i=N.param(i,N.ajaxSettings.traditional),r="POST"));var o=this;return N.ajax({url:e,type:r,dataType:"html",data:i,complete:function(e,t,i){i=e.responseText,e.isResolved()&&(e.done(function(e){i=e}),o.html(a?N("<div>").append(i.replace(Ye,"")).find(a):i)),s&&o.each(s,[i,t,e])}}),this},serialize:function(){return N.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?N.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Ve.test(this.nodeName)||He.test(this.type))}).map(function(e,t){var i=N(this).val();return null==i?null:N.isArray(i)?N.map(i,function(e,i){return{name:t.name,value:e.replace(Re,"\r\n")}}):{name:t.name,value:i.replace(Re,"\r\n")}}).get()}}),N.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){N.fn[t]=function(e){return this.bind(t,e)}}),N.each(["get","post"],function(e,i){N[i]=function(e,s,n,a){return N.isFunction(s)&&(a=a||n,n=s,s=t),N.ajax({type:i,url:e,data:s,success:n,dataType:a})}}),N.extend({getScript:function(e,i){return N.get(e,t,i,"script")},getJSON:function(e,t,i){return N.get(e,t,i,"json")},ajaxSetup:function(e,t){return t?d(e,N.ajaxSettings):(t=e,e=N.ajaxSettings),d(e,t),e},ajaxSettings:{url:Pe,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(Ee[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":et},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":N.parseJSON,"text xml":N.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:h(Je),ajaxTransport:h(Ze),ajax:function(e,i){function s(e,i,s,r){if(2!==x){x=2,l&&clearTimeout(l),o=t,a=r||"",_.readyState=e>0?4:0;var d,c,u,y,w,C=i,k=s?function(e,i,s){var n,a,r,o,l=e.contents,d=e.dataTypes,c=e.responseFields;for(a in c)a in s&&(i[c[a]]=s[a]);for(;"*"===d[0];)d.shift(),n===t&&(n=e.mimeType||i.getResponseHeader("content-type"));if(n)for(a in l)if(l[a]&&l[a].test(n)){d.unshift(a);break}if(d[0]in s)r=d[0];else{for(a in s){if(!d[0]||e.converters[a+" "+d[0]]){r=a;break}o||(o=a)}r=r||o}if(r)return r!==d[0]&&d.unshift(r),s[r]}(p,_,s):t;if(e>=200&&e<300||304===e)if(p.ifModified&&((y=_.getResponseHeader("Last-Modified"))&&(N.lastModified[n]=y),(w=_.getResponseHeader("Etag"))&&(N.etag[n]=w)),304===e)C="notmodified",d=!0;else try{c=function(e,i){e.dataFilter&&(i=e.dataFilter(i,e.dataType));var s,n,a,r,o,l,d,c,h=e.dataTypes,u={},p=h.length,f=h[0];for(s=1;s<p;s++){if(1===s)for(n in e.converters)"string"==typeof n&&(u[n.toLowerCase()]=e.converters[n]);if(r=f,"*"===(f=h[s]))f=r;else if("*"!==r&&r!==f){if(!(l=u[o=r+" "+f]||u["* "+f]))for(d in c=t,u)if(((a=d.split(" "))[0]===r||"*"===a[0])&&(c=u[a[1]+" "+f])){!0===(d=u[d])?l=c:!0===c&&(l=d);break}!l&&!c&&N.error("No conversion from "+o.replace(" "," to ")),!0!==l&&(i=l?l(i):c(d(i)))}}return i}(p,k),C="success",d=!0}catch(e){C="parsererror",u=e}else u=C,C&&!e||(C="error",e<0&&(e=0));_.status=e,_.statusText=""+(i||C),d?m.resolveWith(f,[c,C,_]):m.rejectWith(f,[_,C,u]),_.statusCode(b),b=t,h&&g.trigger("ajax"+(d?"Success":"Error"),[_,p,d?c:u]),v.resolveWith(f,[_,C]),h&&(g.trigger("ajaxComplete",[_,p]),--N.active||N.event.trigger("ajaxStop"))}}"object"==typeof e&&(i=e,e=t),i=i||{};var n,a,r,o,l,d,h,u,p=N.ajaxSetup({},i),f=p.context||p,g=f!==p&&(f.nodeType||f instanceof N)?N(f):N.event,m=N.Deferred(),v=N._Deferred(),b=p.statusCode||{},y={},w={},x=0,_={readyState:0,setRequestHeader:function(e,t){if(!x){var i=e.toLowerCase();e=w[i]=w[i]||e,y[e]=t}return this},getAllResponseHeaders:function(){return 2===x?a:null},getResponseHeader:function(e){var i;if(2===x){if(!r)for(r={};i=Le.exec(a);)r[i[1].toLowerCase()]=i[2];i=r[e.toLowerCase()]}return i===t?null:i},overrideMimeType:function(e){return x||(p.mimeType=e),this},abort:function(e){return e=e||"abort",o&&o.abort(e),s(0,e),this}};if(m.promise(_),_.success=_.done,_.error=_.fail,_.complete=v.done,_.statusCode=function(e){var t;if(e)if(x<2)for(t in e)b[t]=[b[t],e[t]];else t=e[_.status],_.then(t,t);return this},p.url=((e||p.url)+"").replace(Ge,"").replace(Qe,Ee[1]+"//"),p.dataTypes=N.trim(p.dataType||"*").toLowerCase().split(Ue),null==p.crossDomain&&(d=$e.exec(p.url.toLowerCase()),p.crossDomain=!(!d||d[1]==Ee[1]&&d[2]==Ee[2]&&(d[3]||("http:"===d[1]?80:443))==(Ee[3]||("http:"===Ee[1]?80:443)))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=N.param(p.data,p.traditional)),c(Je,p,i,_),2===x)return!1;if(h=p.global,p.type=p.type.toUpperCase(),p.hasContent=!We.test(p.type),h&&0==N.active++&&N.event.trigger("ajaxStart"),!p.hasContent&&(p.data&&(p.url+=(Be.test(p.url)?"&":"?")+p.data,delete p.data),n=p.url,!1===p.cache)){var C=N.now(),k=p.url.replace(Xe,"$1_="+C);p.url=k+(k===p.url?(Be.test(p.url)?"&":"?")+"_="+C:"")}for(u in(p.data&&p.hasContent&&!1!==p.contentType||i.contentType)&&_.setRequestHeader("Content-Type",p.contentType),p.ifModified&&(n=n||p.url,N.lastModified[n]&&_.setRequestHeader("If-Modified-Since",N.lastModified[n]),N.etag[n]&&_.setRequestHeader("If-None-Match",N.etag[n])),_.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+et+"; q=0.01":""):p.accepts["*"]),p.headers)_.setRequestHeader(u,p.headers[u]);if(p.beforeSend&&(!1===p.beforeSend.call(f,_,p)||2===x))return _.abort(),!1;for(u in{success:1,error:1,complete:1})_[u](p[u]);if(o=c(Ze,p,i,_)){_.readyState=1,h&&g.trigger("ajaxSend",[_,p]),p.async&&p.timeout>0&&(l=setTimeout(function(){_.abort("timeout")},p.timeout));try{x=1,o.send(y,s)}catch(e){x<2?s(-1,e):N.error(e)}}else s(-1,"No Transport");return _},param:function(e,i){var s=[],n=function(e,t){t=N.isFunction(t)?t():t,s[s.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(i===t&&(i=N.ajaxSettings.traditional),N.isArray(e)||e.jquery&&!N.isPlainObject(e))N.each(e,function(){n(this.name,this.value)});else for(var a in e)l(a,e[a],i,n);return s.join("&").replace(ze,"+")}}),N.extend({active:0,lastModified:{},etag:{}});var tt=N.now(),it=/(\=)\?(&|$)|\?\?/i;N.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return N.expando+"_"+tt++}}),N.ajaxPrefilter("json jsonp",function(t,i,s){var n="application/x-www-form-urlencoded"===t.contentType&&"string"==typeof t.data;if("jsonp"===t.dataTypes[0]||!1!==t.jsonp&&(it.test(t.url)||n&&it.test(t.data))){var a,r=t.jsonpCallback=N.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,o=e[r],l=t.url,d=t.data,c="$1"+r+"$2";return!1!==t.jsonp&&(l=l.replace(it,c),t.url===l&&(n&&(d=d.replace(it,c)),t.data===d&&(l+=(/\?/.test(l)?"&":"?")+t.jsonp+"="+r))),t.url=l,t.data=d,e[r]=function(e){a=[e]},s.always(function(){e[r]=o,a&&N.isFunction(o)&&e[r](a[0])}),t.converters["script json"]=function(){return a||N.error(r+" was not called"),a[0]},t.dataTypes[0]="json","script"}}),N.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return N.globalEval(e),e}}}),N.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),N.ajaxTransport("script",function(e){if(e.crossDomain){var i,s=I.head||I.getElementsByTagName("head")[0]||I.documentElement;return{send:function(n,a){(i=I.createElement("script")).async="async",e.scriptCharset&&(i.charset=e.scriptCharset),i.src=e.url,i.onload=i.onreadystatechange=function(e,n){(n||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,s&&i.parentNode&&s.removeChild(i),i=t,n||a(200,"success"))},s.insertBefore(i,s.firstChild)},abort:function(){i&&i.onload(0,1)}}}});var st,nt=!!e.ActiveXObject&&function(){for(var e in st)st[e](0,1)},at=0;N.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&o()||function(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}()}:o,function(e){N.extend(N.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(N.ajaxSettings.xhr()),N.support.ajax&&N.ajaxTransport(function(i){var s;if(!i.crossDomain||N.support.cors)return{send:function(n,a){var r,o,l=i.xhr();if(i.username?l.open(i.type,i.url,i.async,i.username,i.password):l.open(i.type,i.url,i.async),i.xhrFields)for(o in i.xhrFields)l[o]=i.xhrFields[o];i.mimeType&&l.overrideMimeType&&l.overrideMimeType(i.mimeType),!i.crossDomain&&!n["X-Requested-With"]&&(n["X-Requested-With"]="XMLHttpRequest");try{for(o in n)l.setRequestHeader(o,n[o])}catch(e){}l.send(i.hasContent&&i.data||null),s=function(e,n){var o,d,c,h,u;try{if(s&&(n||4===l.readyState))if(s=t,r&&(l.onreadystatechange=N.noop,nt&&delete st[r]),n)4!==l.readyState&&l.abort();else{o=l.status,c=l.getAllResponseHeaders(),h={},(u=l.responseXML)&&u.documentElement&&(h.xml=u),h.text=l.responseText;try{d=l.statusText}catch(e){d=""}o||!i.isLocal||i.crossDomain?1223===o&&(o=204):o=h.text?200:404}}catch(e){n||a(-1,e)}h&&a(o,d,h,c)},i.async&&4!==l.readyState?(r=++at,nt&&(st||(st={},N(e).unload(nt)),st[r]=s),l.onreadystatechange=s):s()},abort:function(){s&&s(0,1)}}});var rt,ot,lt,dt,ct={},ht=/^(?:toggle|show|hide)$/,ut=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,pt=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];N.fn.extend({show:function(e,t,i){var a,r;if(e||0===e)return this.animate(n("show",3),e,t,i);for(var o=0,l=this.length;o<l;o++)(a=this[o]).style&&(r=a.style.display,!N._data(a,"olddisplay")&&"none"===r&&(r=a.style.display=""),""===r&&"none"===N.css(a,"display")&&N._data(a,"olddisplay",s(a.nodeName)));for(o=0;o<l;o++)(a=this[o]).style&&(""!==(r=a.style.display)&&"none"!==r||(a.style.display=N._data(a,"olddisplay")||""));return this},hide:function(e,t,i){if(e||0===e)return this.animate(n("hide",3),e,t,i);for(var s=0,a=this.length;s<a;s++)if(this[s].style){var r=N.css(this[s],"display");"none"!==r&&!N._data(this[s],"olddisplay")&&N._data(this[s],"olddisplay",r)}for(s=0;s<a;s++)this[s].style&&(this[s].style.display="none");return this},_toggle:N.fn.toggle,toggle:function(e,t,i){var s="boolean"==typeof e;return N.isFunction(e)&&N.isFunction(t)?this._toggle.apply(this,arguments):null==e||s?this.each(function(){var t=s?e:N(this).is(":hidden");N(this)[t?"show":"hide"]()}):this.animate(n("toggle",3),e,t,i),this},fadeTo:function(e,t,i,s){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:t},e,i,s)},animate:function(e,t,i,n){var a=N.speed(t,i,n);return N.isEmptyObject(e)?this.each(a.complete,[!1]):(e=N.extend({},e),this[!1===a.queue?"each":"queue"](function(){!1===a.queue&&N._mark(this);var t,i,n,r,o,l,d,c,h=N.extend({},a),u=1===this.nodeType,p=u&&N(this).is(":hidden");for(n in h.animatedProperties={},e){if(n!==(t=N.camelCase(n))&&(e[t]=e[n],delete e[n]),i=e[t],N.isArray(i)?(h.animatedProperties[t]=i[1],i=e[t]=i[0]):h.animatedProperties[t]=h.specialEasing&&h.specialEasing[t]||h.easing||"swing","hide"===i&&p||"show"===i&&!p)return h.complete.call(this);u&&("height"===t||"width"===t)&&(h.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],"inline"===N.css(this,"display")&&"none"===N.css(this,"float")&&(N.support.inlineBlockNeedsLayout?"inline"===s(this.nodeName)?this.style.display="inline-block":(this.style.display="inline",this.style.zoom=1):this.style.display="inline-block"))}for(n in null!=h.overflow&&(this.style.overflow="hidden"),e)r=new N.fx(this,h,n),i=e[n],ht.test(i)?r["toggle"===i?p?"show":"hide":i]():(o=ut.exec(i),l=r.cur(),o?(d=parseFloat(o[2]),"px"!==(c=o[3]||(N.cssNumber[n]?"":"px"))&&(N.style(this,n,(d||1)+c),l=(d||1)/r.cur()*l,N.style(this,n,l+c)),o[1]&&(d=("-="===o[1]?-1:1)*d+l),r.custom(l,d,c)):r.custom(l,i,""));return!0}))},stop:function(e,t){return e&&this.queue([]),this.each(function(){var e=N.timers,i=e.length;for(t||N._unmark(!0,this);i--;)e[i].elem===this&&(t&&e[i](!0),e.splice(i,1))}),t||this.dequeue(),this}}),N.each({slideDown:n("show",1),slideUp:n("hide",1),slideToggle:n("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){N.fn[e]=function(e,i,s){return this.animate(t,e,i,s)}}),N.extend({speed:function(e,t,i){var s=e&&"object"==typeof e?N.extend({},e):{complete:i||!i&&t||N.isFunction(e)&&e,duration:e,easing:i&&t||t&&!N.isFunction(t)&&t};return s.duration=N.fx.off?0:"number"==typeof s.duration?s.duration:s.duration in N.fx.speeds?N.fx.speeds[s.duration]:N.fx.speeds._default,s.old=s.complete,s.complete=function(e){N.isFunction(s.old)&&s.old.call(this),!1!==s.queue?N.dequeue(this):!1!==e&&N._unmark(this)},s},easing:{linear:function(e,t,i,s){return i+s*e},swing:function(e,t,i,s){return(-Math.cos(e*Math.PI)/2+.5)*s+i}},timers:[],fx:function(e,t,i){this.options=t,this.elem=e,this.prop=i,t.orig=t.orig||{}}}),N.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(N.fx.step[this.prop]||N.fx.step._default)(this)},cur:function(){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];var e,t=N.css(this.elem,this.prop);return isNaN(e=parseFloat(t))?t&&"auto"!==t?t:0:e},custom:function(e,t,i){function s(e){return n.step(e)}var n=this,a=N.fx;this.startTime=dt||r(),this.start=e,this.end=t,this.unit=i||this.unit||(N.cssNumber[this.prop]?"":"px"),this.now=this.start,this.pos=this.state=0,s.elem=this.elem,s()&&N.timers.push(s)&&!lt&&(lt=setInterval(a.tick,a.interval))},show:function(){this.options.orig[this.prop]=N.style(this.elem,this.prop),this.options.show=!0,this.custom("width"===this.prop||"height"===this.prop?1:0,this.cur()),N(this.elem).show()},hide:function(){this.options.orig[this.prop]=N.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(e){var t,i,s=dt||r(),n=!0,a=this.elem,o=this.options;if(e||s>=o.duration+this.startTime){for(t in this.now=this.end,this.pos=this.state=1,this.update(),o.animatedProperties[this.prop]=!0,o.animatedProperties)!0!==o.animatedProperties[t]&&(n=!1);if(n){if(null!=o.overflow&&!N.support.shrinkWrapBlocks&&N.each(["","X","Y"],function(e,t){a.style["overflow"+t]=o.overflow[e]}),o.hide&&N(a).hide(),o.hide||o.show)for(var l in o.animatedProperties)N.style(a,l,o.orig[l]);o.complete.call(a)}return!1}return o.duration==1/0?this.now=s:(i=s-this.startTime,this.state=i/o.duration,this.pos=N.easing[o.animatedProperties[this.prop]](this.state,i,0,1,o.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},N.extend(N.fx,{tick:function(){for(var e=N.timers,t=0;t<e.length;++t)e[t]()||e.splice(t--,1);e.length||N.fx.stop()},interval:13,stop:function(){clearInterval(lt),lt=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(e){N.style(e.elem,"opacity",e.now)},_default:function(e){e.elem.style&&null!=e.elem.style[e.prop]?e.elem.style[e.prop]=("width"===e.prop||"height"===e.prop?Math.max(0,e.now):e.now)+e.unit:e.elem[e.prop]=e.now}}}),N.expr&&N.expr.filters&&(N.expr.filters.animated=function(e){return N.grep(N.timers,function(t){return e===t.elem}).length});var ft=/^t(?:able|d|h)$/i,gt=/^(?:body|html)$/i;"getBoundingClientRect"in I.documentElement?N.fn.offset=function(e){var t,s=this[0];if(e)return this.each(function(t){N.offset.setOffset(this,e,t)});if(!s||!s.ownerDocument)return null;if(s===s.ownerDocument.body)return N.offset.bodyOffset(s);try{t=s.getBoundingClientRect()}catch(e){}var n=s.ownerDocument,a=n.documentElement;if(!t||!N.contains(a,s))return t?{top:t.top,left:t.left}:{top:0,left:0};var r=n.body,o=i(n),l=a.clientTop||r.clientTop||0,d=a.clientLeft||r.clientLeft||0,c=o.pageYOffset||N.support.boxModel&&a.scrollTop||r.scrollTop,h=o.pageXOffset||N.support.boxModel&&a.scrollLeft||r.scrollLeft;return{top:t.top+c-l,left:t.left+h-d}}:N.fn.offset=function(e){var t=this[0];if(e)return this.each(function(t){N.offset.setOffset(this,e,t)});if(!t||!t.ownerDocument)return null;if(t===t.ownerDocument.body)return N.offset.bodyOffset(t);N.offset.initialize();for(var i,s=t.offsetParent,n=t.ownerDocument,a=n.documentElement,r=n.body,o=n.defaultView,l=o?o.getComputedStyle(t,null):t.currentStyle,d=t.offsetTop,c=t.offsetLeft;(t=t.parentNode)&&t!==r&&t!==a&&(!N.offset.supportsFixedPosition||"fixed"!==l.position);)i=o?o.getComputedStyle(t,null):t.currentStyle,d-=t.scrollTop,c-=t.scrollLeft,t===s&&(d+=t.offsetTop,c+=t.offsetLeft,N.offset.doesNotAddBorder&&(!N.offset.doesAddBorderForTableAndCells||!ft.test(t.nodeName))&&(d+=parseFloat(i.borderTopWidth)||0,c+=parseFloat(i.borderLeftWidth)||0),s,s=t.offsetParent),N.offset.subtractsBorderForOverflowNotVisible&&"visible"!==i.overflow&&(d+=parseFloat(i.borderTopWidth)||0,c+=parseFloat(i.borderLeftWidth)||0),l=i;return"relative"!==l.position&&"static"!==l.position||(d+=r.offsetTop,c+=r.offsetLeft),N.offset.supportsFixedPosition&&"fixed"===l.position&&(d+=Math.max(a.scrollTop,r.scrollTop),c+=Math.max(a.scrollLeft,r.scrollLeft)),{top:d,left:c}},N.offset={initialize:function(){var e,t,i,s=I.body,n=I.createElement("div"),a=parseFloat(N.css(s,"marginTop"))||0;N.extend(n.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"}),n.innerHTML="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>",s.insertBefore(n,s.firstChild),t=(e=n.firstChild).firstChild,i=e.nextSibling.firstChild.firstChild,this.doesNotAddBorder=5!==t.offsetTop,this.doesAddBorderForTableAndCells=5===i.offsetTop,t.style.position="fixed",t.style.top="20px",this.supportsFixedPosition=20===t.offsetTop||15===t.offsetTop,t.style.position=t.style.top="",e.style.overflow="hidden",e.style.position="relative",this.subtractsBorderForOverflowNotVisible=-5===t.offsetTop,this.doesNotIncludeMarginInBodyOffset=s.offsetTop!==a,s.removeChild(n),N.offset.initialize=N.noop},bodyOffset:function(e){var t=e.offsetTop,i=e.offsetLeft;return N.offset.initialize(),N.offset.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(N.css(e,"marginTop"))||0,i+=parseFloat(N.css(e,"marginLeft"))||0),{top:t,left:i}},setOffset:function(e,t,i){var s=N.css(e,"position");"static"===s&&(e.style.position="relative");var n,a,r=N(e),o=r.offset(),l=N.css(e,"top"),d=N.css(e,"left"),c={},h={};("absolute"===s||"fixed"===s)&&N.inArray("auto",[l,d])>-1?(n=(h=r.position()).top,a=h.left):(n=parseFloat(l)||0,a=parseFloat(d)||0),N.isFunction(t)&&(t=t.call(e,i,o)),null!=t.top&&(c.top=t.top-o.top+n),null!=t.left&&(c.left=t.left-o.left+a),"using"in t?t.using.call(e,c):r.css(c)}},N.fn.extend({position:function(){if(!this[0])return null;var e=this[0],t=this.offsetParent(),i=this.offset(),s=gt.test(t[0].nodeName)?{top:0,left:0}:t.offset();return i.top-=parseFloat(N.css(e,"marginTop"))||0,i.left-=parseFloat(N.css(e,"marginLeft"))||0,s.top+=parseFloat(N.css(t[0],"borderTopWidth"))||0,s.left+=parseFloat(N.css(t[0],"borderLeftWidth"))||0,{top:i.top-s.top,left:i.left-s.left}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||I.body;e&&!gt.test(e.nodeName)&&"static"===N.css(e,"position");)e=e.offsetParent;return e})}}),N.each(["Left","Top"],function(e,s){var n="scroll"+s;N.fn[n]=function(s){var a,r;return s===t?(a=this[0])?(r=i(a))?"pageXOffset"in r?r[e?"pageYOffset":"pageXOffset"]:N.support.boxModel&&r.document.documentElement[n]||r.document.body[n]:a[n]:null:this.each(function(){(r=i(this))?r.scrollTo(e?N(r).scrollLeft():s,e?s:N(r).scrollTop()):this[n]=s})}}),N.each(["Height","Width"],function(e,i){var s=i.toLowerCase();N.fn["inner"+i]=function(){var e=this[0];return e&&e.style?parseFloat(N.css(e,s,"padding")):null},N.fn["outer"+i]=function(e){var t=this[0];return t&&t.style?parseFloat(N.css(t,s,e?"margin":"border")):null},N.fn[s]=function(e){var n=this[0];if(!n)return null==e?null:this;if(N.isFunction(e))return this.each(function(t){var i=N(this);i[s](e.call(this,t,i[s]()))});if(N.isWindow(n)){var a=n.document.documentElement["client"+i],r=n.document.body;return"CSS1Compat"===n.document.compatMode&&a||r&&r["client"+i]||a}if(9===n.nodeType)return Math.max(n.documentElement["client"+i],n.body["scroll"+i],n.documentElement["scroll"+i],n.body["offset"+i],n.documentElement["offset"+i]);if(e===t){var o=N.css(n,s),l=parseFloat(o);return N.isNaN(l)?o:l}return this.css(s,"string"==typeof e?e:e+"px")}}),e.jQuery=e.$=N}(window),function(e){var t={"%":function(e){return"%"},b:function(e){return parseInt(e,10).toString(2)},c:function(e){return String.fromCharCode(parseInt(e,10))},d:function(e){return parseInt(e,10)?parseInt(e,10):0},u:function(e){return Math.abs(e)},f:function(e,t){return t>-1?Math.round(parseFloat(e)*Math.pow(10,t))/Math.pow(10,t):parseFloat(e)},o:function(e){return parseInt(e,10).toString(8)},s:function(e){return e},x:function(e){return(""+parseInt(e,10).toString(16)).toLowerCase()},X:function(e){return(""+parseInt(e,10).toString(16)).toUpperCase()}},i=/%(?:(\d+)?(?:\.(\d+))?|\(([^)]+)\))([%bcdufosxX])/g,s=function(e){if(1==e.length&&"object"==typeof e[0])return e=e[0],function(i,s,n,a,r,o,l){return t[r](e[a])};var i=0;return function(s,n,a,r,o,l,d){return t[o](e[i++],a)}};e.extend({sprintf:function(e){var t=Array.apply(null,arguments).slice(1);return e.replace(i,s(t))},vsprintf:function(e,t){return e.replace(i,s(t))}})}(jQuery),function(e,t){function i(t){return!e(t).parents().andSelf().filter(function(){return"hidden"===e.curCSS(this,"visibility")||e.expr.filters.hidden(this)}).length}e.ui=e.ui||{},e.ui.version||(e.extend(e.ui,{version:"1.8.12",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),e.fn.extend({_focus:e.fn.focus,focus:function(t,i){return"number"==typeof t?this.each(function(){var s=this;setTimeout(function(){e(s).focus(),i&&i.call(s)},t)}):this._focus.apply(this,arguments)},scrollParent:function(){var t;return t=e.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.curCSS(this,"position",1))&&/(auto|scroll)/.test(e.curCSS(this,"overflow",1)+e.curCSS(this,"overflow-y",1)+e.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.curCSS(this,"overflow",1)+e.curCSS(this,"overflow-y",1)+e.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(i){if(i!==t)return this.css("zIndex",i);if(this.length){i=e(this[0]);for(var s;i.length&&i[0]!==document;){if(("absolute"===(s=i.css("position"))||"relative"===s||"fixed"===s)&&(s=parseInt(i.css("zIndex"),10),!isNaN(s)&&0!==s))return s;i=i.parent()}}return 0},disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.each(["Width","Height"],function(i,s){function n(t,i,s,n){return e.each(a,function(){i-=parseFloat(e.curCSS(t,"padding"+this,!0))||0,s&&(i-=parseFloat(e.curCSS(t,"border"+this+"Width",!0))||0),n&&(i-=parseFloat(e.curCSS(t,"margin"+this,!0))||0)}),i}var a="Width"===s?["Left","Right"]:["Top","Bottom"],r=s.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+s]=function(i){return i===t?o["inner"+s].call(this):this.each(function(){e(this).css(r,n(this,i)+"px")})},e.fn["outer"+s]=function(t,i){return"number"!=typeof t?o["outer"+s].call(this,t):this.each(function(){e(this).css(r,n(this,t,!0,i)+"px")})}}),e.extend(e.expr[":"],{data:function(t,i,s){return!!e.data(t,s[3])},focusable:function(t){var s=t.nodeName.toLowerCase(),n=e.attr(t,"tabindex");return"area"===s?(n=(s=t.parentNode).name,!(!t.href||!n||"map"!==s.nodeName.toLowerCase())&&(!!(t=e("img[usemap=#"+n+"]")[0])&&i(t))):(/input|select|textarea|button|object/.test(s)?!t.disabled:"a"==s&&t.href||!isNaN(n))&&i(t)},tabbable:function(t){var i=e.attr(t,"tabindex");return(isNaN(i)||i>=0)&&e(t).is(":focusable")}}),e(function(){var t=document.body,i=t.appendChild(i=document.createElement("div"));e.extend(i.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),e.support.minHeight=100===i.offsetHeight,e.support.selectstart="onselectstart"in i,t.removeChild(i).style.display="none"}),e.extend(e.ui,{plugin:{add:function(t,i,s){for(var n in t=e.ui[t].prototype,s)t.plugins[n]=t.plugins[n]||[],t.plugins[n].push([i,s[n]])},call:function(e,t,i){if((t=e.plugins[t])&&e.element[0].parentNode)for(var s=0;s<t.length;s++)e.options[t[s][0]]&&t[s][1].apply(e.element,i)}},contains:function(e,t){return document.compareDocumentPosition?16&e.compareDocumentPosition(t):e!==t&&e.contains(t)},hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var s;return t[i=i&&"left"===i?"scrollLeft":"scrollTop"]>0||(t[i]=1,s=t[i]>0,t[i]=0,s)},isOverAxis:function(e,t,i){return e>t&&e<t+i},isOver:function(t,i,s,n,a,r){return e.ui.isOverAxis(t,s,a)&&e.ui.isOverAxis(i,n,r)}}))}(jQuery),function(e,t){if(e.cleanData){var i=e.cleanData;e.cleanData=function(t){for(var s,n=0;null!=(s=t[n]);n++)e(s).triggerHandler("remove");i(t)}}else{var s=e.fn.remove;e.fn.remove=function(t,i){return this.each(function(){return i||t&&!e.filter(t,[this]).length||e("*",this).add([this]).each(function(){e(this).triggerHandler("remove")}),s.call(e(this),t,i)})}}e.widget=function(t,i,s){var n,a=t.split(".")[0];n=a+"-"+(t=t.split(".")[1]),s||(s=i,i=e.Widget),e.expr[":"][n]=function(i){return!!e.data(i,t)},e[a]=e[a]||{},e[a][t]=function(e,t){arguments.length&&this._createWidget(e,t)},(i=new i).options=e.extend(!0,{},i.options),e[a][t].prototype=e.extend(!0,i,{namespace:a,widgetName:t,widgetEventPrefix:e[a][t].prototype.widgetEventPrefix||t,widgetBaseClass:n},s),e.widget.bridge(t,e[a][t])},e.widget.bridge=function(i,s){e.fn[i]=function(n){var a="string"==typeof n,r=Array.prototype.slice.call(arguments,1),o=this;return n=!a&&r.length?e.extend.apply(null,[!0,n].concat(r)):n,a&&"_"===n.charAt(0)?o:(a?this.each(function(){var s=e.data(this,i),a=s&&e.isFunction(s[n])?s[n].apply(s,r):s;if(a!==s&&a!==t)return o=a,!1}):this.each(function(){var t=e.data(this,i);t?t.option(n||{})._init():e.data(this,i,new s(n,this))}),o)}},e.Widget=function(e,t){arguments.length&&this._createWidget(e,t)},e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(t,i){e.data(i,this.widgetName,this),this.element=e(i),this.options=e.extend(!0,{},this.options,this._getCreateOptions(),t);var s=this;this.element.bind("remove."+this.widgetName,function(){s.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return e.metadata&&e.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(i,s){var n=i;if(0===arguments.length)return e.extend({},this.options);if("string"==typeof i){if(s===t)return this.options[i];(n={})[i]=s}return this._setOptions(n),this},_setOptions:function(t){var i=this;return e.each(t,function(e,t){i._setOption(e,t)}),this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&this.widget()[t?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",t),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(t,i,s){var n=this.options[t];if((i=e.Event(i)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),s=s||{},i.originalEvent){t=e.event.props.length;for(var a;t;)i[a=e.event.props[--t]]=i.originalEvent[a]}return this.element.trigger(i,s),!(e.isFunction(n)&&!1===n.call(this.element[0],i,s)||i.isDefaultPrevented())}}}(jQuery),function(e){e.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){if(!0===e.data(i.target,t.widgetName+".preventClickEvent"))return e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(t){if(t.originalEvent=t.originalEvent||{},!t.originalEvent.mouseHandled){this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var i=this,s=1==t.which,n="string"==typeof this.options.cancel&&e(t.target).parents().add(t.target).filter(this.options.cancel).length;return!(s&&!n&&this._mouseCapture(t))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),t.originalEvent.mouseHandled=!0))}},_mouseMove:function(t){return!e.browser.msie||document.documentMode>=9||t.button?this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&((this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t))?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted):this._mouseUp(t)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target==this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(e){e.ui=e.ui||{};var t=/left|center|right/,i=/top|center|bottom/,s=e.fn.position,n=e.fn.offset;e.fn.position=function(n){if(!n||!n.of)return s.apply(this,arguments);n=e.extend({},n);var a,r,o,l=e(n.of),d=l[0],c=(n.collision||"flip").split(" "),h=n.offset?n.offset.split(" "):[0,0];return 9===d.nodeType?(a=l.width(),r=l.height(),o={top:0,left:0}):d.setTimeout?(a=l.width(),r=l.height(),o={top:l.scrollTop(),left:l.scrollLeft()}):d.preventDefault?(n.at="left top",a=r=0,o={top:n.of.pageY,left:n.of.pageX}):(a=l.outerWidth(),r=l.outerHeight(),o=l.offset()),e.each(["my","at"],function(){var e=(n[this]||"").split(" ");1===e.length&&(e=t.test(e[0])?e.concat(["center"]):i.test(e[0])?["center"].concat(e):["center","center"]),e[0]=t.test(e[0])?e[0]:"center",e[1]=i.test(e[1])?e[1]:"center",n[this]=e}),1===c.length&&(c[1]=c[0]),h[0]=parseInt(h[0],10)||0,1===h.length&&(h[1]=h[0]),h[1]=parseInt(h[1],10)||0,"right"===n.at[0]?o.left+=a:"center"===n.at[0]&&(o.left+=a/2),"bottom"===n.at[1]?o.top+=r:"center"===n.at[1]&&(o.top+=r/2),o.left+=h[0],o.top+=h[1],this.each(function(){var t,i=e(this),s=i.outerWidth(),l=i.outerHeight(),d=parseInt(e.curCSS(this,"marginLeft",!0))||0,u=parseInt(e.curCSS(this,"marginTop",!0))||0,p=s+d+(parseInt(e.curCSS(this,"marginRight",!0))||0),f=l+u+(parseInt(e.curCSS(this,"marginBottom",!0))||0),g=e.extend({},o);"right"===n.my[0]?g.left-=s:"center"===n.my[0]&&(g.left-=s/2),"bottom"===n.my[1]?g.top-=l:"center"===n.my[1]&&(g.top-=l/2),g.left=Math.round(g.left),g.top=Math.round(g.top),t={left:g.left-d,top:g.top-u},e.each(["left","top"],function(i,o){e.ui.position[c[i]]&&e.ui.position[c[i]][o](g,{targetWidth:a,targetHeight:r,elemWidth:s,elemHeight:l,collisionPosition:t,collisionWidth:p,collisionHeight:f,offset:h,my:n.my,at:n.at})}),e.fn.bgiframe&&i.bgiframe(),i.offset(e.extend(g,{using:n.using}))})},e.ui.position={fit:{left:function(t,i){var s=e(window);s=i.collisionPosition.left+i.collisionWidth-s.width()-s.scrollLeft(),t.left=s>0?t.left-s:Math.max(t.left-i.collisionPosition.left,t.left)},top:function(t,i){var s=e(window);s=i.collisionPosition.top+i.collisionHeight-s.height()-s.scrollTop(),t.top=s>0?t.top-s:Math.max(t.top-i.collisionPosition.top,t.top)}},flip:{left:function(t,i){if("center"!==i.at[0]){var s=e(window);s=i.collisionPosition.left+i.collisionWidth-s.width()-s.scrollLeft();var n="left"===i.my[0]?-i.elemWidth:"right"===i.my[0]?i.elemWidth:0,a="left"===i.at[0]?i.targetWidth:-i.targetWidth,r=-2*i.offset[0];t.left+=i.collisionPosition.left<0?n+a+r:s>0?n+a+r:0}},top:function(t,i){if("center"!==i.at[1]){var s=e(window);s=i.collisionPosition.top+i.collisionHeight-s.height()-s.scrollTop();var n="top"===i.my[1]?-i.elemHeight:"bottom"===i.my[1]?i.elemHeight:0,a="top"===i.at[1]?i.targetHeight:-i.targetHeight,r=-2*i.offset[1];t.top+=i.collisionPosition.top<0?n+a+r:s>0?n+a+r:0}}}},e.offset.setOffset||(e.offset.setOffset=function(t,i){/static/.test(e.curCSS(t,"position"))&&(t.style.position="relative");var s=e(t),n=s.offset(),a=parseInt(e.curCSS(t,"top",!0),10)||0,r=parseInt(e.curCSS(t,"left",!0),10)||0;n={top:i.top-n.top+a,left:i.left-n.left+r},"using"in i?i.using.call(t,n):s.css(n)},e.fn.offset=function(t){var i=this[0];return i&&i.ownerDocument?t?this.each(function(){e.offset.setOffset(this,t)}):n.call(this):null})}(jQuery),function(e){e.widget("ui.draggable",e.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"!=this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},destroy:function(){if(this.element.data("draggable"))return this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this},_mouseCapture:function(t){var i=this.options;return!(this.helper||i.disabled||e(t.target).is(".ui-resizable-handle"))&&(this.handle=this._getHandle(t),!!this.handle)},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),i.containment&&this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.helper.addClass("ui-draggable-dragging"),this._mouseDrag(t,!0),!0)},_mouseDrag:function(t,i){if(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!i){if(i=this._uiHash(),!1===this._trigger("drag",t,i))return this._mouseUp({}),!1;this.position=i.position}return this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=!1;if(e.ui.ddmanager&&!this.options.dropBehaviour&&(i=e.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),!(this.element[0]&&this.element[0].parentNode||"original"!=this.options.helper))return!1;if("invalid"==this.options.revert&&!i||"valid"==this.options.revert&&i||!0===this.options.revert||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)){var s=this;e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==s._trigger("stop",t)&&s._clear()})}else!1!==this._trigger("stop",t)&&this._clear();return!1},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){var i=!this.options.handle||!e(this.options.handle,this.element).length;return e(this.options.handle,this.element).find("*").andSelf().each(function(){this==t.target&&(i=!0)}),i},_createHelper:function(t){var i=this.options;return(t=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t])):"clone"==i.helper?this.element.clone():this.element).parents("body").length||t.appendTo("parent"==i.appendTo?this.element[0].parentNode:i.appendTo),t[0]!=this.element[0]&&!/(fixed|absolute)/.test(t.css("position"))&&t.css("position","absolute"),t},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&e.browser.msie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this.options;if("parent"==t.containment&&(t.containment=this.helper[0].parentNode),"document"!=t.containment&&"window"!=t.containment||(this.containment=[("document"==t.containment?0:e(window).scrollLeft())-this.offset.relative.left-this.offset.parent.left,("document"==t.containment?0:e(window).scrollTop())-this.offset.relative.top-this.offset.parent.top,("document"==t.containment?0:e(window).scrollLeft())+e("document"==t.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"==t.containment?0:e(window).scrollTop())+(e("document"==t.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(t.containment)||t.containment.constructor==Array)t.containment.constructor==Array&&(this.containment=t.containment);else{var i=e(t.containment)[0];if(i){t=e(t.containment).offset();var s="hidden"!=e(i).css("overflow");this.containment=[t.left+(parseInt(e(i).css("borderLeftWidth"),10)||0)+(parseInt(e(i).css("paddingLeft"),10)||0),t.top+(parseInt(e(i).css("borderTopWidth"),10)||0)+(parseInt(e(i).css("paddingTop"),10)||0),t.left+(s?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(e(i).css("borderLeftWidth"),10)||0)-(parseInt(e(i).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,t.top+(s?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(e(i).css("borderTopWidth"),10)||0)-(parseInt(e(i).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom]}}},_convertPositionTo:function(t,i){i||(i=this.position),t="absolute"==t?1:-1;var s="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,n=/(html|body)/i.test(s[0].tagName);return{top:i.top+this.offset.relative.top*t+this.offset.parent.top*t-(e.browser.safari&&e.browser.version<526&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():n?0:s.scrollTop())*t),left:i.left+this.offset.relative.left*t+this.offset.parent.left*t-(e.browser.safari&&e.browser.version<526&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():n?0:s.scrollLeft())*t)}},_generatePosition:function(t){var i=this.options,s="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,n=/(html|body)/i.test(s[0].tagName),a=t.pageX,r=t.pageY;return this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(a=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(r=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(a=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(r=this.containment[3]+this.offset.click.top)),i.grid&&(r=this.originalPageY+Math.round((r-this.originalPageY)/i.grid[1])*i.grid[1],r=this.containment&&(r-this.offset.click.top<this.containment[1]||r-this.offset.click.top>this.containment[3])?r-this.offset.click.top<this.containment[1]?r+i.grid[1]:r-i.grid[1]:r,a=this.originalPageX+Math.round((a-this.originalPageX)/i.grid[0])*i.grid[0],a=this.containment&&(a-this.offset.click.left<this.containment[0]||a-this.offset.click.left>this.containment[2])?a-this.offset.click.left<this.containment[0]?a+i.grid[0]:a-i.grid[0]:a)),{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(e.browser.safari&&e.browser.version<526&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():n?0:s.scrollTop()),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(e.browser.safari&&e.browser.version<526&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():n?0:s.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,i,s){return s=s||this._uiHash(),e.ui.plugin.call(this,t,[i,s]),"drag"==t&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.extend(e.ui.draggable,{version:"1.8.12"}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i){var s=e(this).data("draggable"),n=s.options,a=e.extend({},i,{item:s.element});s.sortables=[],e(n.connectToSortable).each(function(){var i=e.data(this,"sortable");i&&!i.options.disabled&&(s.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",t,a))})},stop:function(t,i){var s=e(this).data("draggable"),n=e.extend({},i,{item:s.element});e.each(s.sortables,function(){this.instance.isOver?(this.instance.isOver=0,s.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"==s.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,n))})},drag:function(t,i){var s=e(this).data("draggable"),n=this;e.each(s.sortables,function(){this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(n).clone().appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=s.offset.click.top,this.instance.offset.click.left=s.offset.click.left,this.instance.offset.parent.left-=s.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=s.offset.parent.top-this.instance.offset.parent.top,s._trigger("toSortable",t),s.dropped=this.instance.element,s.currentItem=s.element,this.instance.fromOutside=s),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),s._trigger("fromSortable",t),s.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(){var t=e("body"),i=e(this).data("draggable").options;t.css("cursor")&&(i._cursor=t.css("cursor")),t.css("cursor",i.cursor)},stop:function(){var t=e(this).data("draggable").options;t._cursor&&e("body").css("cursor",t._cursor)}}),e.ui.plugin.add("draggable","iframeFix",{start:function(){var t=e(this).data("draggable").options;e(!0===t.iframeFix?"iframe":t.iframeFix).each(function(){e('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")})},stop:function(){e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)})}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i){t=e(i.helper),i=e(this).data("draggable").options,t.css("opacity")&&(i._opacity=t.css("opacity")),t.css("opacity",i.opacity)},stop:function(t,i){(t=e(this).data("draggable").options)._opacity&&e(i.helper).css("opacity",t._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(){var t=e(this).data("draggable");t.scrollParent[0]!=document&&"HTML"!=t.scrollParent[0].tagName&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var i=e(this).data("draggable"),s=i.options,n=!1;i.scrollParent[0]!=document&&"HTML"!=i.scrollParent[0].tagName?(s.axis&&"x"==s.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-t.pageY<s.scrollSensitivity?i.scrollParent[0].scrollTop=n=i.scrollParent[0].scrollTop+s.scrollSpeed:t.pageY-i.overflowOffset.top<s.scrollSensitivity&&(i.scrollParent[0].scrollTop=n=i.scrollParent[0].scrollTop-s.scrollSpeed)),s.axis&&"y"==s.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-t.pageX<s.scrollSensitivity?i.scrollParent[0].scrollLeft=n=i.scrollParent[0].scrollLeft+s.scrollSpeed:t.pageX-i.overflowOffset.left<s.scrollSensitivity&&(i.scrollParent[0].scrollLeft=n=i.scrollParent[0].scrollLeft-s.scrollSpeed))):(s.axis&&"x"==s.axis||(t.pageY-e(document).scrollTop()<s.scrollSensitivity?n=e(document).scrollTop(e(document).scrollTop()-s.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<s.scrollSensitivity&&(n=e(document).scrollTop(e(document).scrollTop()+s.scrollSpeed))),s.axis&&"y"==s.axis||(t.pageX-e(document).scrollLeft()<s.scrollSensitivity?n=e(document).scrollLeft(e(document).scrollLeft()-s.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<s.scrollSensitivity&&(n=e(document).scrollLeft(e(document).scrollLeft()+s.scrollSpeed)))),!1!==n&&e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(i,t)}}),e.ui.plugin.add("draggable","snap",{start:function(){var t=e(this).data("draggable"),i=t.options;t.snapElements=[],e(i.snap.constructor!=String?i.snap.items||":data(draggable)":i.snap).each(function(){var i=e(this),s=i.offset();this!=t.element[0]&&t.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:s.top,left:s.left})})},drag:function(t,i){for(var s=e(this).data("draggable"),n=s.options,a=n.snapTolerance,r=i.offset.left,o=r+s.helperProportions.width,l=i.offset.top,d=l+s.helperProportions.height,c=s.snapElements.length-1;c>=0;c--){var h=s.snapElements[c].left,u=h+s.snapElements[c].width,p=s.snapElements[c].top,f=p+s.snapElements[c].height;if(h-a<r&&r<u+a&&p-a<l&&l<f+a||h-a<r&&r<u+a&&p-a<d&&d<f+a||h-a<o&&o<u+a&&p-a<l&&l<f+a||h-a<o&&o<u+a&&p-a<d&&d<f+a){if("inner"!=n.snapMode){var g=Math.abs(p-d)<=a,m=Math.abs(f-l)<=a,v=Math.abs(h-o)<=a,b=Math.abs(u-r)<=a;g&&(i.position.top=s._convertPositionTo("relative",{top:p-s.helperProportions.height,left:0}).top-s.margins.top),m&&(i.position.top=s._convertPositionTo("relative",{top:f,left:0}).top-s.margins.top),v&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h-s.helperProportions.width}).left-s.margins.left),b&&(i.position.left=s._convertPositionTo("relative",{top:0,left:u}).left-s.margins.left)}var y=g||m||v||b;"outer"!=n.snapMode&&(g=Math.abs(p-l)<=a,m=Math.abs(f-d)<=a,v=Math.abs(h-r)<=a,b=Math.abs(u-o)<=a,g&&(i.position.top=s._convertPositionTo("relative",{top:p,left:0}).top-s.margins.top),m&&(i.position.top=s._convertPositionTo("relative",{top:f-s.helperProportions.height,left:0}).top-s.margins.top),v&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h}).left-s.margins.left),b&&(i.position.left=s._convertPositionTo("relative",{top:0,left:u-s.helperProportions.width}).left-s.margins.left)),!s.snapElements[c].snapping&&(g||m||v||b||y)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,t,e.extend(s._uiHash(),{snapItem:s.snapElements[c].item})),s.snapElements[c].snapping=g||m||v||b||y}else s.snapElements[c].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,t,e.extend(s._uiHash(),{snapItem:s.snapElements[c].item})),s.snapElements[c].snapping=!1}}}),e.ui.plugin.add("draggable","stack",{start:function(){var t=e(this).data("draggable").options;if((t=e.makeArray(e(t.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)})).length){var i=parseInt(t[0].style.zIndex)||0;e(t).each(function(e){this.style.zIndex=i+e}),this[0].style.zIndex=i+t.length}}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i){t=e(i.helper),i=e(this).data("draggable").options,t.css("zIndex")&&(i._zIndex=t.css("zIndex")),t.css("zIndex",i.zIndex)},stop:function(t,i){(t=e(this).data("draggable").options)._zIndex&&e(i.helper).css("zIndex",t._zIndex)}})}(jQuery),function(e){e.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var t=this.options,i=t.accept;this.isover=0,this.isout=1,this.accept=e.isFunction(i)?i:function(e){return e.is(i)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},e.ui.ddmanager.droppables[t.scope]=e.ui.ddmanager.droppables[t.scope]||[],e.ui.ddmanager.droppables[t.scope].push(this),t.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){for(var t=e.ui.ddmanager.droppables[this.options.scope],i=0;i<t.length;i++)t[i]==this&&t.splice(i,1);return this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable"),this},_setOption:function(t,i){"accept"==t&&(this.accept=e.isFunction(i)?i:function(e){return e.is(i)}),e.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!=this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!=this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var s=i||e.ui.ddmanager.current;if(!s||(s.currentItem||s.element)[0]==this.element[0])return!1;var n=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var t=e.data(this,"droppable");if(t.options.greedy&&!t.options.disabled&&t.options.scope==s.options.scope&&t.accept.call(t.element[0],s.currentItem||s.element)&&e.ui.intersect(s,e.extend(t,{offset:t.element.offset()}),t.options.tolerance))return n=!0,!1}),!n&&(!!this.accept.call(this.element[0],s.currentItem||s.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(s)),this.element))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.extend(e.ui.droppable,{version:"1.8.12"}),e.ui.intersect=function(t,i,s){if(!i.offset)return!1;var n=(t.positionAbs||t.position.absolute).left,a=n+t.helperProportions.width,r=(t.positionAbs||t.position.absolute).top,o=r+t.helperProportions.height,l=i.offset.left,d=l+i.proportions.width,c=i.offset.top,h=c+i.proportions.height;switch(s){case"fit":return l<=n&&a<=d&&c<=r&&o<=h;case"intersect":return l<n+t.helperProportions.width/2&&a-t.helperProportions.width/2<d&&c<r+t.helperProportions.height/2&&o-t.helperProportions.height/2<h;case"pointer":return e.ui.isOver((t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top,(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,c,l,i.proportions.height,i.proportions.width);case"touch":return(r>=c&&r<=h||o>=c&&o<=h||r<c&&o>h)&&(n>=l&&n<=d||a>=l&&a<=d||n<l&&a>d);default:return!1}},e.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,i){var s=e.ui.ddmanager.droppables[t.options.scope]||[],n=i?i.type:null,a=(t.currentItem||t.element).find(":data(droppable)").andSelf(),r=0;e:for(;r<s.length;r++)if(!(s[r].options.disabled||t&&!s[r].accept.call(s[r].element[0],t.currentItem||t.element))){for(var o=0;o<a.length;o++)if(a[o]==s[r].element[0]){s[r].proportions.height=0;continue e}s[r].visible="none"!=s[r].element.css("display"),s[r].visible&&("mousedown"==n&&s[r]._activate.call(s[r],i),s[r].offset=s[r].element.offset(),s[r].proportions={width:s[r].element[0].offsetWidth,height:s[r].element[0].offsetHeight})}},drop:function(t,i){var s=!1;return e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance)&&(s=s||this._drop.call(this,i)),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,i)))}),s},drag:function(t,i){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,i),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s=e.ui.intersect(t,this,this.options.tolerance);if(s=s||1!=this.isover?s&&0==this.isover?"isover":null:"isout"){var n;if(this.options.greedy){var a=this.element.parents(":data(droppable):eq(0)");a.length&&((n=e.data(a[0],"droppable")).greedyChild="isover"==s?1:0)}n&&"isover"==s&&(n.isover=0,n.isout=1,n._out.call(n,i)),this[s]=1,this["isout"==s?"isover":"isout"]=0,this["isover"==s?"_over":"_out"].call(this,i),n&&"isout"==s&&(n.isout=0,n.isover=1,n._over.call(n,i))}}})}}}(jQuery),function(e){e.widget("ui.resizable",e.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var t=this,i=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(/relative/.test(this.element.css("position"))&&e.browser.opera&&this.element.css({position:"relative",top:"auto",left:"auto"}),this.element.wrap(e('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=i.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor==String){"all"==this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");var s=this.handles.split(",");this.handles={};for(var n=0;n<s.length;n++){var a=e.trim(s[n]),r=e('<div class="ui-resizable-handle ui-resizable-'+a+'"></div>');/sw|se|ne|nw/.test(a)&&r.css({zIndex:++i.zIndex}),"se"==a&&r.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[a]=".ui-resizable-"+a,this.element.append(r)}}this._renderAxis=function(t){for(var i in t=t||this.element,this.handles){if(this.handles[i].constructor==String&&(this.handles[i]=e(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var s,n=e(this.handles[i],this.element);s=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(n,s),this._proportionallyResize()}e(this.handles[i])}},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!t.resizing){if(this.className)var e=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);t.axis=e&&e[1]?e[1]:"se"}}),i.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").hover(function(){e(this).removeClass("ui-resizable-autohide"),t._handles.show()},function(){t.resizing||(e(this).addClass("ui-resizable-autohide"),t._handles.hide())})),this._mouseInit()},destroy:function(){this._mouseDestroy();var t=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){t(this.element);var i=this.element;i.after(this.originalElement.css({position:i.css("position"),width:i.outerWidth(),height:i.outerHeight(),top:i.css("top"),left:i.css("left")})).remove()}return this.originalElement.css("resize",this.originalResizeStyle),t(this.originalElement),this},_mouseCapture:function(t){var i=!1;for(var s in this.handles)e(this.handles[s])[0]==t.target&&(i=!0);return!this.options.disabled&&i},_mouseStart:function(i){var s=this.options,n=this.element.position(),a=this.element;this.resizing=!0,this.documentScroll={top:e(document).scrollTop(),left:e(document).scrollLeft()},(a.is(".ui-draggable")||/absolute/.test(a.css("position")))&&a.css({position:"absolute",top:n.top,left:n.left}),e.browser.opera&&/relative/.test(a.css("position"))&&a.css({position:"relative",top:"auto",left:"auto"}),this._renderProxy(),n=t(this.helper.css("left"));var r=t(this.helper.css("top"));return s.containment&&(n+=e(s.containment).scrollLeft()||0,r+=e(s.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:r},this.size=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.originalPosition={left:n,top:r},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalMousePosition={left:i.pageX,top:i.pageY},this.aspectRatio="number"==typeof s.aspectRatio?s.aspectRatio:this.originalSize.width/this.originalSize.height||1,s=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"==s?this.axis+"-resize":s),a.addClass("ui-resizable-resizing"),this._propagate("start",i),!0},_mouseDrag:function(e){var t=this.helper,i=this.originalMousePosition,s=this._change[this.axis];return!!s&&(i=s.apply(this,[e,e.pageX-i.left||0,e.pageY-i.top||0]),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._propagate("resize",e),t.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(i),this._trigger("resize",e,this.ui()),!1)},_mouseStop:function(t){this.resizing=!1;var i=this.options,s=this;if(this._helper){var n=this._proportionallyResizeElements,a=n.length&&/textarea/i.test(n[0].nodeName);n=a&&e.ui.hasScroll(n[0],"left")?0:s.sizeDiff.height,a=a?0:s.sizeDiff.width,a={width:s.helper.width()-a,height:s.helper.height()-n},n=parseInt(s.element.css("left"),10)+(s.position.left-s.originalPosition.left)||null;var r=parseInt(s.element.css("top"),10)+(s.position.top-s.originalPosition.top)||null;i.animate||this.element.css(e.extend(a,{top:r,left:n})),s.helper.height(s.size.height),s.helper.width(s.size.width),this._helper&&!i.animate&&this._proportionallyResize()}return e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateCache:function(e){this.offset=this.helper.offset(),i(e.left)&&(this.position.left=e.left),i(e.top)&&(this.position.top=e.top),i(e.height)&&(this.size.height=e.height),i(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,s=this.axis;return e.height?e.width=i.height*this.aspectRatio:e.width&&(e.height=i.width/this.aspectRatio),"sw"==s&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"==s&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this.options,s=this.axis,n=i(e.width)&&t.maxWidth&&t.maxWidth<e.width,a=i(e.height)&&t.maxHeight&&t.maxHeight<e.height,r=i(e.width)&&t.minWidth&&t.minWidth>e.width,o=i(e.height)&&t.minHeight&&t.minHeight>e.height;r&&(e.width=t.minWidth),o&&(e.height=t.minHeight),n&&(e.width=t.maxWidth),a&&(e.height=t.maxHeight);var l=this.originalPosition.left+this.originalSize.width,d=this.position.top+this.size.height,c=/sw|nw|w/.test(s);return s=/nw|ne|n/.test(s),r&&c&&(e.left=l-t.minWidth),n&&c&&(e.left=l-t.maxWidth),o&&s&&(e.top=d-t.minHeight),a&&s&&(e.top=d-t.maxHeight),(t=!e.width&&!e.height)&&!e.left&&e.top?e.top=null:t&&!e.top&&e.left&&(e.left=null),e},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t=this.helper||this.element,i=0;i<this._proportionallyResizeElements.length;i++){var s=this._proportionallyResizeElements[i];if(!this.borderDif){var n=[s.css("borderTopWidth"),s.css("borderRightWidth"),s.css("borderBottomWidth"),s.css("borderLeftWidth")],a=[s.css("paddingTop"),s.css("paddingRight"),s.css("paddingBottom"),s.css("paddingLeft")];this.borderDif=e.map(n,function(e,t){return(e=parseInt(e,10)||0)+(t=parseInt(a[t],10)||0)})}e.browser.msie&&(e(t).is(":hidden")||e(t).parents(":hidden").length)||s.css({height:t.height()-this.borderDif[0]-this.borderDif[2]||0,width:t.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var t=this.options;if(this.elementOffset=this.element.offset(),this._helper){this.helper=this.helper||e('<div style="overflow:hidden;"></div>');var i=e.browser.msie&&e.browser.version<7,s=i?1:0;i=i?2:-1,this.helper.addClass(this._helper).css({width:this.element.outerWidth()+i,height:this.element.outerHeight()+i,position:"absolute",left:this.elementOffset.left-s+"px",top:this.elementOffset.top-s+"px",zIndex:++t.zIndex}),this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){return{left:this.originalPosition.left+t,width:this.originalSize.width-t}},n:function(e,t,i){return{top:this.originalPosition.top+i,height:this.originalSize.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,s){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,s]))},sw:function(t,i,s){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,s]))},ne:function(t,i,s){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,s]))},nw:function(t,i,s){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,s]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!=t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.extend(e.ui.resizable,{version:"1.8.12"}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).data("resizable").options,i=function(t){e(t).each(function(){var t=e(this);t.data("resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10),position:t.css("position")})})};"object"!=typeof t.alsoResize||t.alsoResize.parentNode?i(t.alsoResize):t.alsoResize.length?(t.alsoResize=t.alsoResize[0],i(t.alsoResize)):e.each(t.alsoResize,function(e){i(e)})},resize:function(t,i){var s=e(this).data("resizable");t=s.options;var n=s.originalSize,a=s.originalPosition,r={height:s.size.height-n.height||0,width:s.size.width-n.width||0,top:s.position.top-a.top||0,left:s.position.left-a.left||0},o=function(t,n){e(t).each(function(){var t=e(this),a=e(this).data("resizable-alsoresize"),o={},l=n&&n.length?n:t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(l,function(e,t){(e=(a[t]||0)+(r[t]||0))&&e>=0&&(o[t]=e||null)}),e.browser.opera&&/relative/.test(t.css("position"))&&(s._revertToRelativePosition=!0,t.css({position:"absolute",top:"auto",left:"auto"})),t.css(o)})};"object"!=typeof t.alsoResize||t.alsoResize.nodeType?o(t.alsoResize):e.each(t.alsoResize,function(e,t){o(e,t)})},stop:function(){var t=e(this).data("resizable"),i=t.options,s=function(t){e(t).each(function(){var t=e(this);t.css({position:t.data("resizable-alsoresize").position})})};t._revertToRelativePosition&&(t._revertToRelativePosition=!1,"object"!=typeof i.alsoResize||i.alsoResize.nodeType?s(i.alsoResize):e.each(i.alsoResize,function(e){s(e)})),e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).data("resizable"),s=i.options,n=i._proportionallyResizeElements,a=n.length&&/textarea/i.test(n[0].nodeName),r=a&&e.ui.hasScroll(n[0],"left")?0:i.sizeDiff.height;a={width:i.size.width-(a?0:i.sizeDiff.width),height:i.size.height-r},r=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null;var o=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(a,o&&r?{top:o,left:r}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};n&&n.length&&e(n[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var i=e(this).data("resizable"),s=i.element,n=i.options.containment;if(s=n instanceof e?n.get(0):/parent/.test(n)?s.parent().get(0):n)if(i.containerElement=e(s),/document/.test(n)||n==document)i.containerOffset={left:0,top:0},i.containerPosition={left:0,top:0},i.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight};else{var a=e(s),r=[];e(["Top","Right","Left","Bottom"]).each(function(e,i){r[e]=t(a.css("padding"+i))}),i.containerOffset=a.offset(),i.containerPosition=a.position(),i.containerSize={height:a.innerHeight()-r[3],width:a.innerWidth()-r[1]},n=i.containerOffset;var o=i.containerSize.height,l=i.containerSize.width;l=e.ui.hasScroll(s,"left")?s.scrollWidth:l,o=e.ui.hasScroll(s)?s.scrollHeight:o,i.parentData={element:s,left:n.left,top:n.top,width:l,height:o}}},resize:function(t){var i=e(this).data("resizable"),s=i.options,n=i.containerOffset,a=i.position;t=i._aspectRatio||t.shiftKey;var r={top:0,left:0},o=i.containerElement;o[0]!=document&&/static/.test(o.css("position"))&&(r=n),a.left<(i._helper?n.left:0)&&(i.size.width+=i._helper?i.position.left-n.left:i.position.left-r.left,t&&(i.size.height=i.size.width/s.aspectRatio),i.position.left=s.helper?n.left:0),a.top<(i._helper?n.top:0)&&(i.size.height+=i._helper?i.position.top-n.top:i.position.top,t&&(i.size.width=i.size.height*s.aspectRatio),i.position.top=i._helper?n.top:0),i.offset.left=i.parentData.left+i.position.left,i.offset.top=i.parentData.top+i.position.top,s=Math.abs((i._helper,i.offset.left-r.left+i.sizeDiff.width)),n=Math.abs((i._helper?i.offset.top-r.top:i.offset.top-n.top)+i.sizeDiff.height),a=i.containerElement.get(0)==i.element.parent().get(0),r=/relative|absolute/.test(i.containerElement.css("position")),a&&r&&(s-=i.parentData.left),s+i.size.width>=i.parentData.width&&(i.size.width=i.parentData.width-s,t&&(i.size.height=i.size.width/i.aspectRatio)),n+i.size.height>=i.parentData.height&&(i.size.height=i.parentData.height-n,t&&(i.size.width=i.size.height*i.aspectRatio))},stop:function(){var t=e(this).data("resizable"),i=t.options,s=t.containerOffset,n=t.containerPosition,a=t.containerElement,r=e(t.helper),o=r.offset(),l=r.outerWidth()-t.sizeDiff.width;r=r.outerHeight()-t.sizeDiff.height,t._helper&&!i.animate&&/relative/.test(a.css("position"))&&e(this).css({left:o.left-n.left-s.left,width:l,height:r}),t._helper&&!i.animate&&/static/.test(a.css("position"))&&e(this).css({left:o.left-n.left-s.left,width:l,height:r})}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).data("resizable"),i=t.options,s=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:s.height,width:s.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).data("resizable");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).data("resizable");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t=e(this).data("resizable"),i=t.options,s=t.size,n=t.originalSize,a=t.originalPosition,r=t.axis;i.grid="number"==typeof i.grid?[i.grid,i.grid]:i.grid;var o=Math.round((s.width-n.width)/(i.grid[0]||1))*(i.grid[0]||1);i=Math.round((s.height-n.height)/(i.grid[1]||1))*(i.grid[1]||1),/^(se|s|e)$/.test(r)?(t.size.width=n.width+o,t.size.height=n.height+i):/^(ne)$/.test(r)?(t.size.width=n.width+o,t.size.height=n.height+i,t.position.top=a.top-i):(/^(sw)$/.test(r)?(t.size.width=n.width+o,t.size.height=n.height+i):(t.size.width=n.width+o,t.size.height=n.height+i,t.position.top=a.top-i),t.position.left=a.left-o)}});var t=function(e){return parseInt(e,10)||0},i=function(e){return!isNaN(parseInt(e,10))}}(jQuery),function(e){e.widget("ui.selectable",e.ui.mouse,{options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var t,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){(t=e(i.options.filter,i.element[0])).each(function(){var t=e(this),i=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},destroy:function(){return this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable"),this._mouseDestroy(),this},_mouseStart:function(t){var i=this;if(this.opos=[t.pageX,t.pageY],!this.options.disabled){var s=this.options;this.selectees=e(s.filter,this.element[0]),this._trigger("start",t),e(s.appendTo).append(this.helper),this.helper.css({left:t.clientX,top:t.clientY,width:0,height:0}),s.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var s=e.data(this,"selectable-item");s.startselected=!0,t.metaKey||(s.$element.removeClass("ui-selected"),s.selected=!1,s.$element.addClass("ui-unselecting"),s.unselecting=!0,i._trigger("unselecting",t,{unselecting:s.element}))}),e(t.target).parents().andSelf().each(function(){var s=e.data(this,"selectable-item");if(s){var n=!t.metaKey||!s.$element.hasClass("ui-selected");return s.$element.removeClass(n?"ui-unselecting":"ui-selected").addClass(n?"ui-selecting":"ui-unselecting"),s.unselecting=!n,s.selecting=n,(s.selected=n)?i._trigger("selecting",t,{selecting:s.element}):i._trigger("unselecting",t,{unselecting:s.element}),!1}})}},_mouseDrag:function(t){var i=this;if(this.dragged=!0,!this.options.disabled){var s=this.options,n=this.opos[0],a=this.opos[1],r=t.pageX,o=t.pageY;if(n>r){var l=r;r=n,n=l}return a>o&&(l=o,o=a,a=l),this.helper.css({left:n,top:a,width:r-n,height:o-a}),this.selectees.each(function(){var l=e.data(this,"selectable-item");if(l&&l.element!=i.element[0]){var d=!1;"touch"==s.tolerance?d=!(l.left>r||l.right<n||l.top>o||l.bottom<a):"fit"==s.tolerance&&(d=l.left>n&&l.right<r&&l.top>a&&l.bottom<o),d?(l.selected&&(l.$element.removeClass("ui-selected"),l.selected=!1),l.unselecting&&(l.$element.removeClass("ui-unselecting"),l.unselecting=!1),l.selecting||(l.$element.addClass("ui-selecting"),l.selecting=!0,i._trigger("selecting",t,{selecting:l.element}))):(l.selecting&&(t.metaKey&&l.startselected?(l.$element.removeClass("ui-selecting"),l.selecting=!1,l.$element.addClass("ui-selected"),l.selected=!0):(l.$element.removeClass("ui-selecting"),l.selecting=!1,l.startselected&&(l.$element.addClass("ui-unselecting"),l.unselecting=!0),i._trigger("unselecting",t,{unselecting:l.element}))),l.selected&&(t.metaKey||l.startselected||(l.$element.removeClass("ui-selected"),l.selected=!1,l.$element.addClass("ui-unselecting"),l.unselecting=!0,i._trigger("unselecting",t,{unselecting:l.element}))))}}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var s=e.data(this,"selectable-item");s.$element.removeClass("ui-unselecting"),s.unselecting=!1,s.startselected=!1,i._trigger("unselected",t,{unselected:s.element})}),e(".ui-selecting",this.element[0]).each(function(){var s=e.data(this,"selectable-item");s.$element.removeClass("ui-selecting").addClass("ui-selected"),s.selecting=!1,s.selected=!0,s.startselected=!0,i._trigger("selected",t,{selected:s.element})}),this._trigger("stop",t),this.helper.remove(),!1}}),e.extend(e.ui.selectable,{version:"1.8.12"})}(jQuery),function(e){e.widget("ui.sortable",e.ui.mouse,{widgetEventPrefix:"sort",options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&(/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display"))),this.offset=this.element.offset(),this._mouseInit()},destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").removeData("sortable").unbind(".sortable"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData("sortable-item");return this},_setOption:function(t,i){"disabled"===t?(this.options[t]=i,this.widget()[i?"addClass":"removeClass"]("ui-sortable-disabled")):e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,i){if(this.reverting)return!1;if(this.options.disabled||"static"==this.options.type)return!1;this._refreshItems(t);var s=null,n=this;if(e(t.target).parents().each(function(){if(e.data(this,"sortable-item")==n)return s=e(this),!1}),e.data(t.target,"sortable-item")==n&&(s=e(t.target)),!s)return!1;if(this.options.handle&&!i){var a=!1;if(e(this.options.handle,s).find("*").andSelf().each(function(){this==t.target&&(a=!0)}),!a)return!1}return this.currentItem=s,this._removeCurrentsFromItems(),!0},_mouseStart:function(t,i,s){i=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),i.containment&&this._setContainment(),i.cursor&&(e("body").css("cursor")&&(this._storedCursor=e("body").css("cursor")),e("body").css("cursor",i.cursor)),i.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",i.opacity)),i.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",i.zIndex)),this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(s=this.containers.length-1;s>=0;s--)this.containers[s]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){if(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll){var i=this.options,s=!1;this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-this.overflowOffset.top<i.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-i.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-this.overflowOffset.left<i.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-i.scrollSpeed)):(t.pageY-e(document).scrollTop()<i.scrollSensitivity?s=e(document).scrollTop(e(document).scrollTop()-i.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<i.scrollSensitivity&&(s=e(document).scrollTop(e(document).scrollTop()+i.scrollSpeed)),t.pageX-e(document).scrollLeft()<i.scrollSensitivity?s=e(document).scrollLeft(e(document).scrollLeft()-i.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<i.scrollSensitivity&&(s=e(document).scrollLeft(e(document).scrollLeft()+i.scrollSpeed))),!1!==s&&e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)}for(this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--){var n=(s=this.items[i]).item[0],a=this._intersectsWithPointer(s);if(a&&!(n==this.currentItem[0]||this.placeholder[1==a?"next":"prev"]()[0]==n||e.ui.contains(this.placeholder[0],n)||"semi-dynamic"==this.options.type&&e.ui.contains(this.element[0],n))){if(this.direction=1==a?"down":"up","pointer"!=this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(t,s),this._trigger("change",t,this._uiHash());break}}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var s=this;i=s.placeholder.offset(),s.reverting=!0,e(this.helper).animate({left:i.left-this.offset.parent.left-s.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:i.top-this.offset.parent.top-s.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){s._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"==this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!=this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),s=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[-=_](.+)/);i&&s.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}),!s.length&&t.key&&s.push(t.key+"="),s.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),s=[];return t=t||{},i.each(function(){s.push(e(t.item||this).attr(t.attribute||"id")||"")}),s},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,a=e.left,r=a+e.width,o=e.top,l=o+e.height,d=this.offset.click.top,c=this.offset.click.left;return d=s+d>o&&s+d<l&&t+c>a&&t+c<r,"pointer"==this.options.tolerance||this.options.forcePointerForContainers||"pointer"!=this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?d:a<t+this.helperProportions.width/2&&i-this.helperProportions.width/2<r&&o<s+this.helperProportions.height/2&&n-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var i=e.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height);t=e.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),i=i&&t,t=this._getDragVerticalDirection();var s=this._getDragHorizontalDirection();return!!i&&(this.floating?s&&"right"==s||"down"==t?2:1:t&&("down"==t?2:1))},_intersectsWithSides:function(t){var i=e.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height);t=e.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width);var s=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return this.floating&&n?"right"==n&&t||"left"==n&&!t:s&&("down"==s&&i||"up"==s&&!i)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!=e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!=e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor==String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var i=[],s=[],n=this._connectWith();if(n&&t)for(t=n.length-1;t>=0;t--)for(var a=e(n[t]),r=a.length-1;r>=0;r--){var o=e.data(a[r],"sortable");o&&o!=this&&!o.options.disabled&&s.push([e.isFunction(o.options.items)?o.options.items.call(o.element):e(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o])}for(s.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),t=s.length-1;t>=0;t--)s[t][0].each(function(){i.push(this)});return e(i)},_removeCurrentsFromItems:function(){for(var e=this.currentItem.find(":data(sortable-item)"),t=0;t<this.items.length;t++)for(var i=0;i<e.length;i++)e[i]==this.items[t].item[0]&&this.items.splice(t,1)},_refreshItems:function(t){this.items=[],this.containers=[this];var i=this.items,s=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],n=this._connectWith();if(n)for(var a=n.length-1;a>=0;a--)for(var r=e(n[a]),o=r.length-1;o>=0;o--){var l=e.data(r[o],"sortable");l&&l!=this&&!l.options.disabled&&(s.push([e.isFunction(l.options.items)?l.options.items.call(l.element[0],t,{item:this.currentItem}):e(l.options.items,l.element),l]),this.containers.push(l))}for(a=s.length-1;a>=0;a--)for(t=s[a][1],o=0,r=(n=s[a][0]).length;o<r;o++)(l=e(n[o])).data("sortable-item",t),i.push({item:l,instance:t,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var i=this.items.length-1;i>=0;i--){var s=this.items[i];if(s.instance==this.currentContainer||!this.currentContainer||s.item[0]==this.currentItem[0]){var n=this.options.toleranceElement?e(this.options.toleranceElement,s.item):s.item;t||(s.width=n.outerWidth(),s.height=n.outerHeight()),n=n.offset(),s.left=n.left,s.top=n.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)n=this.containers[i].element.offset(),this.containers[i].containerCache.left=n.left,this.containers[i].containerCache.top=n.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){var i=t||this,s=i.options;if(!s.placeholder||s.placeholder.constructor==String){var n=s.placeholder;s.placeholder={element:function(){var t=e(document.createElement(i.currentItem[0].nodeName)).addClass(n||i.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return n||(t.style.visibility="hidden"),t},update:function(e,t){n&&!s.forcePlaceholderSize||(t.height()||t.height(i.currentItem.innerHeight()-parseInt(i.currentItem.css("paddingTop")||0,10)-parseInt(i.currentItem.css("paddingBottom")||0,10)),t.width()||t.width(i.currentItem.innerWidth()-parseInt(i.currentItem.css("paddingLeft")||0,10)-parseInt(i.currentItem.css("paddingRight")||0,10)))}}}i.placeholder=e(s.placeholder.element.call(i.element,i.currentItem)),i.currentItem.after(i.placeholder),s.placeholder.update(i,i.placeholder)},_contactContainers:function(t){for(var i=null,s=null,n=this.containers.length-1;n>=0;n--)e.ui.contains(this.currentItem[0],this.containers[n].element[0])||(this._intersectsWith(this.containers[n].containerCache)?i&&e.ui.contains(this.containers[n].element[0],i.element[0])||(i=this.containers[n],s=n):this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",t,this._uiHash(this)),this.containers[n].containerCache.over=0));if(i)if(1===this.containers.length)this.containers[s]._trigger("over",t,this._uiHash(this)),this.containers[s].containerCache.over=1;else if(this.currentContainer!=this.containers[s]){i=1e4,n=null;for(var a=this.positionAbs[this.containers[s].floating?"left":"top"],r=this.items.length-1;r>=0;r--)if(e.ui.contains(this.containers[s].element[0],this.items[r].item[0])){var o=this.items[r][this.containers[s].floating?"left":"top"];Math.abs(o-a)<i&&(i=Math.abs(o-a),n=this.items[r])}(n||this.options.dropOnEmpty)&&(this.currentContainer=this.containers[s],n?this._rearrange(t,n,null,!0):this._rearrange(t,null,this.containers[s].element,!0),this._trigger("change",t,this._uiHash()),this.containers[s]._trigger("change",t,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[s]._trigger("over",t,this._uiHash(this)),this.containers[s].containerCache.over=1)}},_createHelper:function(t){var i=this.options;return(t=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"==i.helper?this.currentItem.clone():this.currentItem).parents("body").length||e("parent"!=i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(t[0]),t[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(""==t[0].style.width||i.forceHelperSize)&&t.width(this.currentItem.width()),(""==t[0].style.height||i.forceHelperSize)&&t.height(this.currentItem.height()),t},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&e.browser.msie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this.options;if("parent"==t.containment&&(t.containment=this.helper[0].parentNode),"document"!=t.containment&&"window"!=t.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"==t.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"==t.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),!/^(document|window|parent)$/.test(t.containment)){var i=e(t.containment)[0];t=e(t.containment).offset();var s="hidden"!=e(i).css("overflow");this.containment=[t.left+(parseInt(e(i).css("borderLeftWidth"),10)||0)+(parseInt(e(i).css("paddingLeft"),10)||0)-this.margins.left,t.top+(parseInt(e(i).css("borderTopWidth"),10)||0)+(parseInt(e(i).css("paddingTop"),10)||0)-this.margins.top,t.left+(s?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(e(i).css("borderLeftWidth"),10)||0)-(parseInt(e(i).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,t.top+(s?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(e(i).css("borderTopWidth"),10)||0)-(parseInt(e(i).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(t,i){i||(i=this.position),t="absolute"==t?1:-1;var s="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,n=/(html|body)/i.test(s[0].tagName);return{top:i.top+this.offset.relative.top*t+this.offset.parent.top*t-(e.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():n?0:s.scrollTop())*t),left:i.left+this.offset.relative.left*t+this.offset.parent.left*t-(e.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():n?0:s.scrollLeft())*t)}},_generatePosition:function(t){var i=this.options,s="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,n=/(html|body)/i.test(s[0].tagName);"relative"!=this.cssPosition||this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset());var a=t.pageX,r=t.pageY;return this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(a=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(r=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(a=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(r=this.containment[3]+this.offset.click.top)),i.grid&&(r=this.originalPageY+Math.round((r-this.originalPageY)/i.grid[1])*i.grid[1],r=this.containment&&(r-this.offset.click.top<this.containment[1]||r-this.offset.click.top>this.containment[3])?r-this.offset.click.top<this.containment[1]?r+i.grid[1]:r-i.grid[1]:r,a=this.originalPageX+Math.round((a-this.originalPageX)/i.grid[0])*i.grid[0],a=this.containment&&(a-this.offset.click.left<this.containment[0]||a-this.offset.click.left>this.containment[2])?a-this.offset.click.left<this.containment[0]?a+i.grid[0]:a-i.grid[0]:a)),{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(e.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():n?0:s.scrollTop()),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(e.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():n?0:s.scrollLeft())}},_rearrange:function(e,t,i,s){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"==this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this,a=this.counter;window.setTimeout(function(){a==n.counter&&n.refreshPositions(!s)},0)},_clear:function(t,i){this.reverting=!1;var s=[];if(!this._noFinalSort&&this.currentItem[0].parentNode&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]==this.currentItem[0]){for(var n in this._storedCSS)"auto"!=this._storedCSS[n]&&"static"!=this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();if(this.fromOutside&&!i&&s.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev==this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent==this.currentItem.parent()[0]||i||s.push(function(e){this._trigger("update",e,this._uiHash())}),!e.ui.contains(this.element[0],this.currentItem[0]))for(i||s.push(function(e){this._trigger("remove",e,this._uiHash())}),n=this.containers.length-1;n>=0;n--)e.ui.contains(this.containers[n].element[0],this.currentItem[0])&&!i&&(s.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.containers[n])),s.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.containers[n])));for(n=this.containers.length-1;n>=0;n--)i||s.push(function(e){return function(t){e._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[n])),this.containers[n].containerCache.over&&(s.push(function(e){return function(t){e._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[n])),this.containers[n].containerCache.over=0);if(this._storedCursor&&e("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"==this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!i){for(this._trigger("beforeStop",t,this._uiHash()),n=0;n<s.length;n++)s[n].call(this,t);this._trigger("stop",t,this._uiHash())}return!1}if(i||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null,!i){for(n=0;n<s.length;n++)s[n].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){!1===e.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}}),e.extend(e.ui.sortable,{version:"1.8.12"})}(jQuery),function(e){e.widget("ui.accordion",{options:{active:0,animated:"slide",autoHeight:!0,clearStyle:!1,collapsible:!1,event:"click",fillSpace:!1,header:"> li > :first-child,> :not(li):even",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}},_create:function(){var t=this,i=t.options;if(t.running=0,t.element.addClass("ui-accordion ui-widget ui-helper-reset").children("li").addClass("ui-accordion-li-fix"),t.headers=t.element.find(i.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",function(){i.disabled||e(this).addClass("ui-state-hover")}).bind("mouseleave.accordion",function(){i.disabled||e(this).removeClass("ui-state-hover")}).bind("focus.accordion",function(){i.disabled||e(this).addClass("ui-state-focus")}).bind("blur.accordion",function(){i.disabled||e(this).removeClass("ui-state-focus")}),t.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom"),i.navigation){var s=t.element.find("a").filter(i.navigationFilter).eq(0);if(s.length){var n=s.closest(".ui-accordion-header");t.active=n.length?n:s.closest(".ui-accordion-content").prev()}}t.active=t._findActive(t.active||i.active).addClass("ui-state-default ui-state-active").toggleClass("ui-corner-all").toggleClass("ui-corner-top"),t.active.next().addClass("ui-accordion-content-active"),t._createIcons(),t.resize(),t.element.attr("role","tablist"),t.headers.attr("role","tab").bind("keydown.accordion",function(e){return t._keydown(e)}).next().attr("role","tabpanel"),t.headers.not(t.active||"").attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).next().hide(),t.active.length?t.active.attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}):t.headers.eq(0).attr("tabIndex",0),e.browser.safari||t.headers.find("a").attr("tabIndex",-1),i.event&&t.headers.bind(i.event.split(" ").join(".accordion ")+".accordion",function(e){t._clickHandler.call(t,e,this),e.preventDefault()})},_createIcons:function(){var t=this.options;t.icons&&(e("<span></span>").addClass("ui-icon "+t.icons.header).prependTo(this.headers),this.active.children(".ui-icon").toggleClass(t.icons.header).toggleClass(t.icons.headerSelected),this.element.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.children(".ui-icon").remove(),this.element.removeClass("ui-accordion-icons")},destroy:function(){var t=this.options;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.unbind(".accordion").removeClass("ui-accordion-header ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("tabIndex"),this.headers.find("a").removeAttr("tabIndex"),this._destroyIcons();var i=this.headers.next().css("display","").removeAttr("role").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled");return(t.autoHeight||t.fillHeight)&&i.css("height",""),e.Widget.prototype.destroy.call(this)},_setOption:function(t,i){e.Widget.prototype._setOption.apply(this,arguments),"active"==t&&this.activate(i),"icons"==t&&(this._destroyIcons(),i&&this._createIcons()),"disabled"==t&&this.headers.add(this.headers.next())[i?"addClass":"removeClass"]("ui-accordion-disabled ui-state-disabled")},_keydown:function(t){if(!(this.options.disabled||t.altKey||t.ctrlKey)){var i=e.ui.keyCode,s=this.headers.length,n=this.headers.index(t.target),a=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:a=this.headers[(n+1)%s];break;case i.LEFT:case i.UP:a=this.headers[(n-1+s)%s];break;case i.SPACE:case i.ENTER:this._clickHandler({target:t.target},t.target),t.preventDefault()}return!a||(e(t.target).attr("tabIndex",-1),e(a).attr("tabIndex",0),a.focus(),!1)}},resize:function(){var t,i=this.options;if(i.fillSpace){if(e.browser.msie){var s=this.element.parent().css("overflow");this.element.parent().css("overflow","hidden")}t=this.element.parent().height(),e.browser.msie&&this.element.parent().css("overflow",s),this.headers.each(function(){t-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")}else i.autoHeight&&(t=0,this.headers.next().each(function(){t=Math.max(t,e(this).height("").height())}).height(t));return this},activate:function(e){return this.options.active=e,e=this._findActive(e)[0],this._clickHandler({target:e},e),this},_findActive:function(t){return t?"number"==typeof t?this.headers.filter(":eq("+t+")"):this.headers.not(this.headers.not(t)):!1===t?e([]):this.headers.filter(":eq(0)")},_clickHandler:function(t,i){var s=this.options;if(!s.disabled)if(t.target){if(i=(t=e(t.currentTarget||i))[0]===this.active[0],s.active=(!s.collapsible||!i)&&this.headers.index(t),!(this.running||!s.collapsible&&i)){var n=this.active;l=t.next(),r=this.active.next(),o={options:s,newHeader:i&&s.collapsible?e([]):t,oldHeader:this.active,newContent:i&&s.collapsible?e([]):l,oldContent:r};var a=this.headers.index(this.active[0])>this.headers.index(t[0]);this.active=i?e([]):t,this._toggle(l,r,o,i,a),n.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(s.icons.headerSelected).addClass(s.icons.header),i||(t.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top").children(".ui-icon").removeClass(s.icons.header).addClass(s.icons.headerSelected),t.next().addClass("ui-accordion-content-active"))}}else if(s.collapsible){this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(s.icons.headerSelected).addClass(s.icons.header),this.active.next().addClass("ui-accordion-content-active");var r=this.active.next(),o={options:s,newHeader:e([]),oldHeader:s.active,newContent:e([]),oldContent:r},l=this.active=e([]);this._toggle(l,r,o)}},_toggle:function(t,i,s,n,a){var r=this,o=r.options;r.toShow=t,r.toHide=i,r.data=s;var l=function(){if(r)return r._completed.apply(r,arguments)};if(r._trigger("changestart",null,r.data),r.running=0===i.size()?t.size():i.size(),o.animated){s={},s=o.collapsible&&n?{toShow:e([]),toHide:i,complete:l,down:a,autoHeight:o.autoHeight||o.fillSpace}:{toShow:t,toHide:i,complete:l,down:a,autoHeight:o.autoHeight||o.fillSpace},o.proxied||(o.proxied=o.animated),o.proxiedDuration||(o.proxiedDuration=o.duration),o.animated=e.isFunction(o.proxied)?o.proxied(s):o.proxied,o.duration=e.isFunction(o.proxiedDuration)?o.proxiedDuration(s):o.proxiedDuration,n=e.ui.accordion.animations;var d=o.duration,c=o.animated;!c||n[c]||e.easing[c]||(c="slide"),n[c]||(n[c]=function(e){this.slide(e,{easing:c,duration:d||700})}),n[c](s)}else o.collapsible&&n?t.toggle():(i.hide(),t.show()),l(!0);i.prev().attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).blur(),t.prev().attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}).focus()},_completed:function(e){this.running=e?0:--this.running,this.running||(this.options.clearStyle&&this.toShow.add(this.toHide).css({height:"",overflow:""}),this.toHide.removeClass("ui-accordion-content-active"),this.toHide.length&&(this.toHide.parent()[0].className=this.toHide.parent()[0].className),this._trigger("change",null,this.data))}}),e.extend(e.ui.accordion,{version:"1.8.12",animations:{slide:function(t,i){if((t=e.extend({easing:"swing",duration:300},t,i)).toHide.size())if(t.toShow.size()){var s,n=t.toShow.css("overflow"),a=0,r={},o={};i=t.toShow,s=i[0].style.width,i.width(parseInt(i.parent().width(),10)-parseInt(i.css("paddingLeft"),10)-parseInt(i.css("paddingRight"),10)-(parseInt(i.css("borderLeftWidth"),10)||0)-(parseInt(i.css("borderRightWidth"),10)||0)),e.each(["height","paddingTop","paddingBottom"],function(i,s){o[s]="hide",i=(""+e.css(t.toShow[0],s)).match(/^([\d+-.]+)(.*)$/),r[s]={value:i[1],unit:i[2]||"px"}}),t.toShow.css({height:0,overflow:"hidden"}).show(),t.toHide.filter(":hidden").each(t.complete).end().filter(":visible").animate(o,{step:function(e,i){"height"==i.prop&&(a=i.end-i.start==0?0:(i.now-i.start)/(i.end-i.start)),t.toShow[0].style[i.prop]=a*r[i.prop].value+r[i.prop].unit},duration:t.duration,easing:t.easing,complete:function(){t.autoHeight||t.toShow.css("height",""),t.toShow.css({width:s,overflow:n}),t.complete()}})}else t.toHide.animate({height:"hide",paddingTop:"hide",paddingBottom:"hide"},t);else t.toShow.animate({height:"show",paddingTop:"show",paddingBottom:"show"},t)},bounceslide:function(e){this.slide(e,{easing:e.down?"easeOutBounce":"swing",duration:e.down?1e3:200})}}})}(jQuery),function(e){var t=0;e.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var t,i=this,s=this.element[0].ownerDocument;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(s){if(!i.options.disabled&&!i.element.attr("readonly")){t=!1;var n=e.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:i._move("previousPage",s);break;case n.PAGE_DOWN:i._move("nextPage",s);break;case n.UP:i._move("previous",s),s.preventDefault();break;case n.DOWN:i._move("next",s),s.preventDefault();break;case n.ENTER:case n.NUMPAD_ENTER:i.menu.active&&(t=!0,s.preventDefault());case n.TAB:if(!i.menu.active)return;i.menu.select(s);break;case n.ESCAPE:i.element.val(i.term),i.close(s);break;default:clearTimeout(i.searching),i.searching=setTimeout(function(){i.term!=i.element.val()&&(i.selectedItem=null,i.search(null,s))},i.options.delay)}}}).bind("keypress.autocomplete",function(e){t&&(t=!1,e.preventDefault())}).bind("focus.autocomplete",function(){i.options.disabled||(i.selectedItem=null,i.previous=i.element.val())}).bind("blur.autocomplete",function(e){i.options.disabled||(clearTimeout(i.searching),i.closing=setTimeout(function(){i.close(e),i._change(e)},150))}),this._initSource(),this.response=function(){return i._response.apply(i,arguments)},this.menu=e("<ul></ul>").addClass("ui-autocomplete").appendTo(e(this.options.appendTo||"body",s)[0]).mousedown(function(t){var s=i.menu.element[0];e(t.target).closest(".ui-menu-item").length||setTimeout(function(){e(document).one("mousedown",function(t){t.target!==i.element[0]&&t.target!==s&&!e.ui.contains(s,t.target)&&i.close()})},1),setTimeout(function(){clearTimeout(i.closing)},13)}).menu({focus:function(e,t){t=t.item.data("item.autocomplete"),!1!==i._trigger("focus",e,{item:t})&&/^key/.test(e.originalEvent.type)&&i.element.val(t.value)},selected:function(e,t){var n=t.item.data("item.autocomplete"),a=i.previous;i.element[0]!==s.activeElement&&(i.element.focus(),i.previous=a,setTimeout(function(){i.previous=a,i.selectedItem=n},1)),!1!==i._trigger("select",e,{item:n})&&i.element.val(n.value),i.term=i.element.val(),i.close(e),i.selectedItem=n},blur:function(){i.menu.element.is(":visible")&&i.element.val()!==i.term&&i.element.val(i.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu"),e.fn.bgiframe&&this.menu.element.bgiframe()},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup"),this.menu.element.remove(),e.Widget.prototype.destroy.call(this)},_setOption:function(t,i){e.Widget.prototype._setOption.apply(this,arguments),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(e(i||"body",this.element[0].ownerDocument)[0]),"disabled"===t&&i&&this.xhr&&this.xhr.abort()},_initSource:function(){var i,s,n=this;e.isArray(this.options.source)?(i=this.options.source,this.source=function(t,s){s(e.ui.autocomplete.filter(i,t.term))}):"string"==typeof this.options.source?(s=this.options.source,this.source=function(i,a){n.xhr&&n.xhr.abort(),n.xhr=e.ajax({url:s,data:i,dataType:"json",autocompleteRequest:++t,success:function(e){this.autocompleteRequest===t&&a(e)},error:function(){this.autocompleteRequest===t&&a([])}})}):this.source=this.options.source},search:function(e,t){return e=null!=e?e:this.element.val(),this.term=this.element.val(),e.length<this.options.minLength?this.close(t):(clearTimeout(this.closing),!1!==this._trigger("search",t)?this._search(e):void 0)},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.source({term:e},this.response)},_response:function(e){!this.options.disabled&&e&&e.length?(e=this._normalize(e),this._suggest(e),this._trigger("open")):this.close(),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},close:function(e){clearTimeout(this.closing),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.deactivate(),this._trigger("close",e))},_change:function(e){this.previous!==this.element.val()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var i=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(i,t),this.menu.deactivate(),this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(new e.Event("mouseover"))},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth(),this.element.outerWidth()))},_renderMenu:function(t,i){var s=this;e.each(i,function(e,i){s._renderItem(t,i)})},_renderItem:function(t,i){return e("<li></li>").data("item.autocomplete",i).append(e("<a></a>").text(i.label)).appendTo(t)},_move:function(e,t){this.menu.element.is(":visible")?this.menu.first()&&/^previous/.test(e)||this.menu.last()&&/^next/.test(e)?(this.element.val(this.term),this.menu.deactivate()):this.menu[e](t):this.search(null,t)},widget:function(){return this.menu.element}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(t,i){var s=new RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,function(e){return s.test(e.label||e.value||e)})}})}(jQuery),function(e){e.widget("ui.menu",{_create:function(){var t=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(i){e(i.target).closest(".ui-menu-item a").length&&(i.preventDefault(),t.select(i))}),this.refresh()},refresh:function(){var t=this;this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem").children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(i){t.activate(i,e(this).parent())}).mouseleave(function(){t.deactivate()})},activate:function(e,t){if(this.deactivate(),this.hasScroll()){var i=t.offset().top-this.element.offset().top,s=this.element.attr("scrollTop"),n=this.element.height();i<0?this.element.attr("scrollTop",s+i):i>=n&&this.element.attr("scrollTop",s+i-n+t.height())}this.active=t.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end(),this._trigger("focus",e,{item:t})},deactivate:function(){this.active&&(this.active.children("a").removeClass("ui-state-hover").removeAttr("id"),this._trigger("blur"),this.active=null)},next:function(e){this.move("next",".ui-menu-item:first",e)},previous:function(e){this.move("prev",".ui-menu-item:last",e)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(e,t,i){this.active&&(e=this.active[e+"All"](".ui-menu-item").eq(0)).length?this.activate(i,e):this.activate(i,this.element.children(t))},nextPage:function(t){if(this.hasScroll())if(!this.active||this.last())this.activate(t,this.element.children(".ui-menu-item:first"));else{var i=this.active.offset().top,s=this.element.height(),n=this.element.children(".ui-menu-item").filter(function(){var t=e(this).offset().top-i-s+e(this).height();return t<10&&t>-10});n.length||(n=this.element.children(".ui-menu-item:last")),this.activate(t,n)}else this.activate(t,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))},previousPage:function(t){if(this.hasScroll())if(!this.active||this.first())this.activate(t,this.element.children(".ui-menu-item:last"));else{var i=this.active.offset().top,s=this.element.height();result=this.element.children(".ui-menu-item").filter(function(){var t=e(this).offset().top-i+s-e(this).height();return t<10&&t>-10}),result.length||(result=this.element.children(".ui-menu-item:first")),this.activate(t,result)}else this.activate(t,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))},hasScroll:function(){return this.element.height()<this.element.attr("scrollHeight")},select:function(e){this._trigger("selected",e,{item:this.active})}})}(jQuery),function(e){var t,i=function(t){e(":ui-button",t.target.form).each(function(){var t=e(this).data("button");setTimeout(function(){t.refresh()},1)})},s=function(t){var i=t.name,s=t.form,n=e([]);return i&&(n=s?e(s).find("[name='"+i+"']"):e("[name='"+i+"']",t.ownerDocument).filter(function(){return!this.form})),n};e.widget("ui.button",{options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",i),"boolean"!=typeof this.options.disabled&&(this.options.disabled=this.element.attr("disabled")),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var n=this,a=this.options,r="checkbox"===this.type||"radio"===this.type,o="ui-state-hover"+(r?"":" ui-state-active");null===a.label&&(a.label=this.buttonElement.html()),this.element.is(":disabled")&&(a.disabled=!0),this.buttonElement.addClass("ui-button ui-widget ui-state-default ui-corner-all").attr("role","button").bind("mouseenter.button",function(){a.disabled||(e(this).addClass("ui-state-hover"),this===t&&e(this).addClass("ui-state-active"))}).bind("mouseleave.button",function(){a.disabled||e(this).removeClass(o)}).bind("focus.button",function(){e(this).addClass("ui-state-focus")}).bind("blur.button",function(){e(this).removeClass("ui-state-focus")}),r&&this.element.bind("change.button",function(){n.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click.button",function(){if(a.disabled)return!1;e(this).toggleClass("ui-state-active"),n.buttonElement.attr("aria-pressed",n.element[0].checked)}):"radio"===this.type?this.buttonElement.bind("click.button",function(){if(a.disabled)return!1;e(this).addClass("ui-state-active"),n.buttonElement.attr("aria-pressed",!0);var t=n.element[0];s(t).not(t).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed",!1)}):(this.buttonElement.bind("mousedown.button",function(){if(a.disabled)return!1;e(this).addClass("ui-state-active"),t=this,e(document).one("mouseup",function(){t=null})}).bind("mouseup.button",function(){if(a.disabled)return!1;e(this).removeClass("ui-state-active")}).bind("keydown.button",function(t){if(a.disabled)return!1;t.keyCode!=e.ui.keyCode.SPACE&&t.keyCode!=e.ui.keyCode.ENTER||e(this).addClass("ui-state-active")}).bind("keyup.button",function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",a.disabled)},_determineButtonType:function(){if(this.type=this.element.is(":checkbox")?"checkbox":this.element.is(":radio")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type){var e=this.element.parents().filter(":last"),t="label[for="+this.element.attr("id")+"]";this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),(e=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.attr("aria-pressed",e)}else this.buttonElement=this.element},widget:function(){return this.buttonElement},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass("ui-button ui-widget ui-state-default ui-corner-all ui-state-hover ui-state-active  ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only").removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title"),e.Widget.prototype.destroy.call(this)},_setOption:function(t,i){e.Widget.prototype._setOption.apply(this,arguments),"disabled"===t&&(i?this.element.attr("disabled",!0):this.element.removeAttr("disabled")),this._resetButton()},refresh:function(){var t=this.element.is(":disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?s(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed",!0):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed",!1)}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed",!0):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed",!1))},_resetButton:function(){if("input"===this.type)this.options.label&&this.element.val(this.options.label);else{var t=this.buttonElement.removeClass("ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only"),i=e("<span></span>").addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),s=this.options.icons,n=s.primary&&s.secondary,a=[];s.primary||s.secondary?(this.options.text&&a.push("ui-button-text-icon"+(n?"s":s.primary?"-primary":"-secondary")),s.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+s.primary+"'></span>"),s.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+s.secondary+"'></span>"),this.options.text||(a.push(n?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",i))):a.push("ui-button-text-only"),t.addClass(a.join(" "))}}}),e.widget("ui.buttonset",{options:{items:":button, :submit, :reset, :checkbox, :radio, a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,i){"disabled"===t&&this.buttons.button("option",t,i),e.Widget.prototype._setOption.apply(this,arguments)},refresh:function(){this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass("ui-corner-left").end().filter(":last").addClass("ui-corner-right").end().end()},destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy"),e.Widget.prototype.destroy.call(this)}})}(jQuery),function(e,t){var i={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},s={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},n=e.attrFn||{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0,click:!0};e.widget("ui.dialog",{options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",collision:"fit",using:function(t){var i=e(this).css(t).offset().top;i<0&&e(this).css("top",t.top-i)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1e3},_create:function(){this.originalTitle=this.element.attr("title"),"string"!=typeof this.originalTitle&&(this.originalTitle=""),this.options.title=this.options.title||this.originalTitle;var t=this,i=t.options,s=i.title||"&#160;",n=e.ui.dialog.getTitleId(t.element),a=(t.uiDialog=e("<div></div>")).appendTo(document.body).hide().addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+i.dialogClass).css({zIndex:i.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(s){i.closeOnEscape&&s.keyCode&&s.keyCode===e.ui.keyCode.ESCAPE&&(t.close(s),s.preventDefault())}).attr({role:"dialog","aria-labelledby":n}).mousedown(function(e){t.moveToTop(!1,e)});t.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(a);var r=(t.uiDialogTitlebar=e("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(a),o=e('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){o.addClass("ui-state-hover")},function(){o.removeClass("ui-state-hover")}).focus(function(){o.addClass("ui-state-focus")}).blur(function(){o.removeClass("ui-state-focus")}).click(function(e){return t.close(e),!1}).appendTo(r);(t.uiDialogTitlebarCloseText=e("<span></span>")).addClass("ui-icon ui-icon-closethick").text(i.closeText).appendTo(o),e("<span></span>").addClass("ui-dialog-title").attr("id",n).html(s).prependTo(r),e.isFunction(i.beforeclose)&&!e.isFunction(i.beforeClose)&&(i.beforeClose=i.beforeclose),r.find("*").add(r).disableSelection(),i.draggable&&e.fn.draggable&&t._makeDraggable(),i.resizable&&e.fn.resizable&&t._makeResizable(),t._createButtons(i.buttons),t._isOpen=!1,e.fn.bgiframe&&a.bgiframe()},_init:function(){this.options.autoOpen&&this.open()},destroy:function(){var e=this;return e.overlay&&e.overlay.destroy(),e.uiDialog.hide(),e.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),e.uiDialog.remove(),e.originalTitle&&e.element.attr("title",e.originalTitle),e},widget:function(){return this.uiDialog},close:function(t){var i,s,n=this;if(!1!==n._trigger("beforeClose",t))return n.overlay&&n.overlay.destroy(),n.uiDialog.unbind("keypress.ui-dialog"),n._isOpen=!1,n.options.hide?n.uiDialog.hide(n.options.hide,function(){n._trigger("close",t)}):(n.uiDialog.hide(),n._trigger("close",t)),e.ui.dialog.overlay.resize(),n.options.modal&&(i=0,e(".ui-dialog").each(function(){this!==n.uiDialog[0]&&(s=e(this).css("z-index"),isNaN(s)||(i=Math.max(i,s)))}),e.ui.dialog.maxZ=i),n},isOpen:function(){return this._isOpen},moveToTop:function(t,i){var s=this,n=s.options;return n.modal&&!t||!n.stack&&!n.modal?s._trigger("focus",i):(n.zIndex>e.ui.dialog.maxZ&&(e.ui.dialog.maxZ=n.zIndex),s.overlay&&(e.ui.dialog.maxZ+=1,s.overlay.$el.css("z-index",e.ui.dialog.overlay.maxZ=e.ui.dialog.maxZ)),t={scrollTop:s.element.attr("scrollTop"),scrollLeft:s.element.attr("scrollLeft")},e.ui.dialog.maxZ+=1,s.uiDialog.css("z-index",e.ui.dialog.maxZ),s.element.attr(t),s._trigger("focus",i),s)},open:function(){if(!this._isOpen){var t=this,i=t.options,s=t.uiDialog;return t.overlay=i.modal?new e.ui.dialog.overlay(t):null,t._size(),t._position(i.position),s.show(i.show),t.moveToTop(!0),i.modal&&s.bind("keypress.ui-dialog",function(t){if(t.keyCode===e.ui.keyCode.TAB){var i=e(":tabbable",this),s=i.filter(":first");if(i=i.filter(":last"),t.target===i[0]&&!t.shiftKey)return s.focus(1),!1;if(t.target===s[0]&&t.shiftKey)return i.focus(1),!1}}),e(t.element.find(":tabbable").get().concat(s.find(".ui-dialog-buttonpane :tabbable").get().concat(s.get()))).eq(0).focus(),t._isOpen=!0,t._trigger("open"),t}},_createButtons:function(t){var i=this,s=!1,a=e("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),r=e("<div></div>").addClass("ui-dialog-buttonset").appendTo(a);i.uiDialog.find(".ui-dialog-buttonpane").remove(),"object"==typeof t&&null!==t&&e.each(t,function(){return!(s=!0)}),s&&(e.each(t,function(t,s){s=e.isFunction(s)?{click:s,text:t}:s;var a=e('<button type="button"></button>').click(function(){s.click.apply(i.element[0],arguments)}).appendTo(r);e.each(s,function(e,t){"click"!==e&&(e in n?a[e](t):a.attr(e,t))}),e.fn.button&&a.button()}),a.appendTo(i.uiDialog))},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var i,s=this,n=s.options,a=e(document);s.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(a,r){i="auto"===n.height?"auto":e(this).height(),e(this).height(e(this).height()).addClass("ui-dialog-dragging"),s._trigger("dragStart",a,t(r))},drag:function(e,i){s._trigger("drag",e,t(i))},stop:function(r,o){n.position=[o.position.left-a.scrollLeft(),o.position.top-a.scrollTop()],e(this).removeClass("ui-dialog-dragging").height(i),s._trigger("dragStop",r,t(o)),e.ui.dialog.overlay.resize()}})},_makeResizable:function(t){function i(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}t=void 0===t?this.options.resizable:t;var s=this,n=s.options,a=s.uiDialog.css("position");t="string"==typeof t?t:"n,e,s,w,se,sw,ne,nw",s.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:s.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:s._minHeight(),handles:t,start:function(t,n){e(this).addClass("ui-dialog-resizing"),s._trigger("resizeStart",t,i(n))},resize:function(e,t){s._trigger("resize",e,i(t))},stop:function(t,a){e(this).removeClass("ui-dialog-resizing"),n.height=e(this).height(),n.width=e(this).width(),s._trigger("resizeStop",t,i(a)),e.ui.dialog.overlay.resize()}}).css("position",a).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(t){var i,s=[],n=[0,0];t?(("string"==typeof t||"object"==typeof t&&"0"in t)&&(1===(s=t.split?t.split(" "):[t[0],t[1]]).length&&(s[1]=s[0]),e.each(["left","top"],function(e,t){+s[e]===s[e]&&(n[e]=s[e],s[e]=t)}),t={my:s.join(" "),at:s.join(" "),offset:n.join(" ")}),t=e.extend({},e.ui.dialog.prototype.options.position,t)):t=e.ui.dialog.prototype.options.position,(i=this.uiDialog.is(":visible"))||this.uiDialog.show(),this.uiDialog.css({top:0,left:0}).position(e.extend({of:window},t)),i||this.uiDialog.hide()},_setOptions:function(t){var n=this,a={},r=!1;e.each(t,function(e,t){n._setOption(e,t),e in i&&(r=!0),e in s&&(a[e]=t)}),r&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",a)},_setOption:function(t,i){var s=this,n=s.uiDialog;switch(t){case"beforeclose":t="beforeClose";break;case"buttons":s._createButtons(i);break;case"closeText":s.uiDialogTitlebarCloseText.text(""+i);break;case"dialogClass":n.removeClass(s.options.dialogClass).addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+i);break;case"disabled":i?n.addClass("ui-dialog-disabled"):n.removeClass("ui-dialog-disabled");break;case"draggable":var a=n.is(":data(draggable)");a&&!i&&n.draggable("destroy"),!a&&i&&s._makeDraggable();break;case"position":s._position(i);break;case"resizable":(a=n.is(":data(resizable)"))&&!i&&n.resizable("destroy"),a&&"string"==typeof i&&n.resizable("option","handles",i),!a&&!1!==i&&s._makeResizable(i);break;case"title":e(".ui-dialog-title",s.uiDialogTitlebar).html(""+(i||"&#160;"))}e.Widget.prototype._setOption.apply(s,arguments)},_size:function(){var t,i,s=this.options,n=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0}),s.minWidth>s.width&&(s.width=s.minWidth),t=this.uiDialog.css({height:"auto",width:s.width}).height(),i=Math.max(0,s.minHeight-t),"auto"===s.height?e.support.minHeight?this.element.css({minHeight:i,height:"auto"}):(this.uiDialog.show(),s=this.element.css("height","auto").height(),n||this.uiDialog.hide(),this.element.height(Math.max(s,i))):this.element.height(Math.max(s.height-t,0)),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),e.extend(e.ui.dialog,{version:"1.8.12",uuid:0,maxZ:0,getTitleId:function(e){return(e=e.attr("id"))||(this.uuid+=1,e=this.uuid),"ui-dialog-title-"+e},overlay:function(t){this.$el=e.ui.dialog.overlay.create(t)}}),e.extend(e.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:e.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(e){return e+".dialog-overlay"}).join(" "),create:function(t){0===this.instances.length&&(setTimeout(function(){e.ui.dialog.overlay.instances.length&&e(document).bind(e.ui.dialog.overlay.events,function(t){if(e(t.target).zIndex()<e.ui.dialog.overlay.maxZ)return!1})},1),e(document).bind("keydown.dialog-overlay",function(i){t.options.closeOnEscape&&i.keyCode&&i.keyCode===e.ui.keyCode.ESCAPE&&(t.close(i),i.preventDefault())}),e(window).bind("resize.dialog-overlay",e.ui.dialog.overlay.resize));var i=(this.oldInstances.pop()||e("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});return e.fn.bgiframe&&i.bgiframe(),this.instances.push(i),i},destroy:function(t){var i=e.inArray(t,this.instances);-1!=i&&this.oldInstances.push(this.instances.splice(i,1)[0]),0===this.instances.length&&e([document,window]).unbind(".dialog-overlay"),t.remove();var s=0;e.each(this.instances,function(){s=Math.max(s,this.css("z-index"))}),this.maxZ=s},height:function(){var t;return e.browser.msie&&e.browser.version<7?(t=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight))<Math.max(document.documentElement.offsetHeight,document.body.offsetHeight)?e(window).height()+"px":t+"px":e(document).height()+"px"},width:function(){var t;return e.browser.msie&&e.browser.version<7?(t=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth))<Math.max(document.documentElement.offsetWidth,document.body.offsetWidth)?e(window).width()+"px":t+"px":e(document).width()+"px"},resize:function(){var t=e([]);e.each(e.ui.dialog.overlay.instances,function(){t=t.add(this)}),t.css({width:0,height:0}).css({width:e.ui.dialog.overlay.width(),height:e.ui.dialog.overlay.height()})}}),e.extend(e.ui.dialog.overlay.prototype,{destroy:function(){e.ui.dialog.overlay.destroy(this.$el)}})}(jQuery),function(e){e.widget("ui.slider",e.ui.mouse,{widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var t=this,i=this.options;if(this._mouseSliding=this._keySliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),i.disabled&&this.element.addClass("ui-slider-disabled ui-disabled"),this.range=e([]),i.range&&(!0===i.range?(this.range=e("<div></div>"),i.values||(i.values=[this._valueMin(),this._valueMin()]),i.values.length&&2!==i.values.length&&(i.values=[i.values[0],i.values[0]])):this.range=e("<div></div>"),this.range.appendTo(this.element).addClass("ui-slider-range"),"min"!==i.range&&"max"!==i.range||this.range.addClass("ui-slider-range-"+i.range),this.range.addClass("ui-widget-header")),0===e(".ui-slider-handle",this.element).length&&e("<a href='#'></a>").appendTo(this.element).addClass("ui-slider-handle"),i.values&&i.values.length)for(;e(".ui-slider-handle",this.element).length<i.values.length;)e("<a href='#'></a>").appendTo(this.element).addClass("ui-slider-handle");this.handles=e(".ui-slider-handle",this.element).addClass("ui-state-default ui-corner-all"),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(e){e.preventDefault()}).hover(function(){i.disabled||e(this).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover")}).focus(function(){i.disabled?e(this).blur():(e(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),e(this).addClass("ui-state-focus"))}).blur(function(){e(this).removeClass("ui-state-focus")}),this.handles.each(function(t){e(this).data("index.ui-slider-handle",t)}),this.handles.keydown(function(i){var s,n,a,r=!0,o=e(this).data("index.ui-slider-handle");if(!t.options.disabled){switch(i.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(r=!1,!t._keySliding&&(t._keySliding=!0,e(this).addClass("ui-state-active"),!1===(s=t._start(i,o))))return}switch(a=t.options.step,s=n=t.options.values&&t.options.values.length?t.values(o):t.value(),i.keyCode){case e.ui.keyCode.HOME:n=t._valueMin();break;case e.ui.keyCode.END:n=t._valueMax();break;case e.ui.keyCode.PAGE_UP:n=t._trimAlignValue(s+(t._valueMax()-t._valueMin())/5);break;case e.ui.keyCode.PAGE_DOWN:n=t._trimAlignValue(s-(t._valueMax()-t._valueMin())/5);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(s===t._valueMax())return;n=t._trimAlignValue(s+a);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(s===t._valueMin())return;n=t._trimAlignValue(s-a)}return t._slide(i,o,n),r}}).keyup(function(i){var s=e(this).data("index.ui-slider-handle");t._keySliding&&(t._keySliding=!1,t._stop(i,s),t._change(i,s),e(this).removeClass("ui-state-active"))}),this._refreshValue(),this._animateOff=!1},destroy:function(){return this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider"),this._mouseDestroy(),this},_mouseCapture:function(t){var i,s,n,a,r,o=this.options;return!o.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i=this._normValueFromMouse({x:t.pageX,y:t.pageY}),s=this._valueMax()-this._valueMin()+1,a=this,this.handles.each(function(t){var o=Math.abs(i-a.values(t));s>o&&(s=o,n=e(this),r=t)}),!0===o.range&&this.values(1)===o.min&&(r+=1,n=e(this.handles[r])),!1!==this._start(t,r)&&(this._mouseSliding=!0,a._handleIndex=r,n.addClass("ui-state-active").focus(),o=n.offset(),this._clickOffset=e(t.target).parents().andSelf().is(".ui-slider-handle")?{left:t.pageX-o.left-n.width()/2,top:t.pageY-o.top-n.height()/2-(parseInt(n.css("borderTopWidth"),10)||0)-(parseInt(n.css("borderBottomWidth"),10)||0)+(parseInt(n.css("marginTop"),10)||0)}:{left:0,top:0},this.handles.hasClass("ui-state-hover")||this._slide(t,r,i),this._animateOff=!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t=this._normValueFromMouse({x:e.pageX,y:e.pageY});return this._slide(e,this._handleIndex,t),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._clickOffset=this._handleIndex=null,this._animateOff=!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t;return"horizontal"===this.orientation?(t=this.elementSize.width,e=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,e=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(t=e/t)>1&&(t=1),t<0&&(t=0),"vertical"===this.orientation&&(t=1-t),e=this._valueMax()-this._valueMin(),this._trimAlignValue(this._valueMin()+t*e)},_start:function(e,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",e,i)},_slide:function(e,t,i){var s;this.options.values&&this.options.values.length?(s=this.values(t?0:1),2===this.options.values.length&&!0===this.options.range&&(0===t&&i>s||1===t&&i<s)&&(i=s),i!==this.values(t)&&((s=this.values())[t]=i,e=this._trigger("slide",e,{handle:this.handles[t],value:i,values:s}),this.values(t?0:1),!1!==e&&this.values(t,i,!0))):i!==this.value()&&!1!==(e=this._trigger("slide",e,{handle:this.handles[t],value:i}))&&this.value(i)},_stop:function(e,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("stop",e,i)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("change",e,i)}},value:function(e){if(!arguments.length)return this._value();this.options.value=this._trimAlignValue(e),this._refreshValue(),this._change(null,0)},values:function(t,i){var s,n,a;if(arguments.length>1)this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),this._change(null,t);else{if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(s=this.options.values,n=arguments[0],a=0;a<s.length;a+=1)s[a]=this._trimAlignValue(n[a]),this._change(null,a);this._refreshValue()}},_setOption:function(t,i){var s,n=0;switch(e.isArray(this.options.values)&&(n=this.options.values.length),e.Widget.prototype._setOption.apply(this,arguments),t){case"disabled":i?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.attr("disabled","disabled"),this.element.addClass("ui-disabled")):(this.handles.removeAttr("disabled"),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),s=0;s<n;s+=1)this._change(null,s);this._animateOff=!1}},_value:function(){var e=this.options.value;return this._trimAlignValue(e)},_values:function(e){var t,i;if(arguments.length)return t=this.options.values[e],this._trimAlignValue(t);for(t=this.options.values.slice(),i=0;i<t.length;i+=1)t[i]=this._trimAlignValue(t[i]);return t},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(e-this._valueMin())%t;return alignValue=e-i,2*Math.abs(i)>=t&&(alignValue+=i>0?t:-t),parseFloat(alignValue.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var t,i,s,n,a,r=this.options.range,o=this.options,l=this,d=!this._animateOff&&o.animate,c={};this.options.values&&this.options.values.length?this.handles.each(function(s){t=(l.values(s)-l._valueMin())/(l._valueMax()-l._valueMin())*100,c["horizontal"===l.orientation?"left":"bottom"]=t+"%",e(this).stop(1,1)[d?"animate":"css"](c,o.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===s&&l.range.stop(1,1)[d?"animate":"css"]({left:t+"%"},o.animate),1===s&&l.range[d?"animate":"css"]({width:t-i+"%"},{queue:!1,duration:o.animate})):(0===s&&l.range.stop(1,1)[d?"animate":"css"]({bottom:t+"%"},o.animate),1===s&&l.range[d?"animate":"css"]({height:t-i+"%"},{queue:!1,duration:o.animate}))),i=t}):(s=this.value(),n=this._valueMin(),a=this._valueMax(),t=a!==n?(s-n)/(a-n)*100:0,c["horizontal"===l.orientation?"left":"bottom"]=t+"%",this.handle.stop(1,1)[d?"animate":"css"](c,o.animate),"min"===r&&"horizontal"===this.orientation&&this.range.stop(1,1)[d?"animate":"css"]({width:t+"%"},o.animate),"max"===r&&"horizontal"===this.orientation&&this.range[d?"animate":"css"]({width:100-t+"%"},{queue:!1,duration:o.animate}),"min"===r&&"vertical"===this.orientation&&this.range.stop(1,1)[d?"animate":"css"]({height:t+"%"},o.animate),"max"===r&&"vertical"===this.orientation&&this.range[d?"animate":"css"]({height:100-t+"%"},{queue:!1,duration:o.animate}))}}),e.extend(e.ui.slider,{version:"1.8.12"})}(jQuery),function(e,i){var s=0,n=0;e.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:!1,cookie:null,collapsible:!1,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div></div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;</em>",tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},_create:function(){this._tabify(!0)},_setOption:function(e,t){"selected"==e?this.options.collapsible&&t==this.options.selected||this.select(t):(this.options[e]=t,this._tabify())},_tabId:function(e){return e.title&&e.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+ ++s},_sanitizeSelector:function(e){return e.replace(/:/g,"\\:")},_cookie:function(){var t=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+ ++n);return e.cookie.apply(null,[t].concat(e.makeArray(arguments)))},_ui:function(e,t){return{tab:e,panel:t,index:this.anchors.index(e)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var t=e(this);t.html(t.data("label.tabs")).removeData("label.tabs")})},_tabify:function(t){function s(t,i){t.css("display",""),!e.support.opacity&&i.opacity&&t[0].style.removeAttribute("filter")}var n,a,r,o=this,l=this.options,d=/^#.+/;for(this.list=this.element.find("ol,ul").eq(0),this.lis=e(" > li:has(a[href])",this.list),this.anchors=this.lis.map(function(){return e("a",this)[0]}),this.panels=e([]),this.anchors.each(function(t,i){var s,n=e(i).attr("href"),a=n.split("#")[0];a&&(a===location.toString().split("#")[0]||(s=e("base")[0])&&a===s.href)&&(n=i.hash,i.href=n),d.test(n)?o.panels=o.panels.add(o.element.find(o._sanitizeSelector(n))):n&&"#"!==n?(e.data(i,"href.tabs",n),e.data(i,"load.tabs",n.replace(/#.*$/,"")),n=o._tabId(i),i.href="#"+n,(i=o.element.find("#"+n)).length||(i=e(l.panelTemplate).attr("id",n).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(o.panels[t-1]||o.list)).data("destroy.tabs",!0),o.panels=o.panels.add(i)):l.disabled.push(t)}),t?(this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all"),this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.lis.addClass("ui-state-default ui-corner-top"),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom"),l.selected===i?(location.hash&&this.anchors.each(function(e,t){if(t.hash==location.hash)return l.selected=e,!1}),"number"!=typeof l.selected&&l.cookie&&(l.selected=parseInt(o._cookie(),10)),"number"!=typeof l.selected&&this.lis.filter(".ui-tabs-selected").length&&(l.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"))),l.selected=l.selected||(this.lis.length?0:-1)):null===l.selected&&(l.selected=-1),l.selected=l.selected>=0&&this.anchors[l.selected]||l.selected<0?l.selected:0,l.disabled=e.unique(l.disabled.concat(e.map(this.lis.filter(".ui-state-disabled"),function(e){return o.lis.index(e)}))).sort(),-1!=e.inArray(l.selected,l.disabled)&&l.disabled.splice(e.inArray(l.selected,l.disabled),1),this.panels.addClass("ui-tabs-hide"),this.lis.removeClass("ui-tabs-selected ui-state-active"),l.selected>=0&&this.anchors.length&&(o.element.find(o._sanitizeSelector(o.anchors[l.selected].hash)).removeClass("ui-tabs-hide"),this.lis.eq(l.selected).addClass("ui-tabs-selected ui-state-active"),o.element.queue("tabs",function(){o._trigger("show",null,o._ui(o.anchors[l.selected],o.element.find(o._sanitizeSelector(o.anchors[l.selected].hash))[0]))}),this.load(l.selected)),e(window).bind("unload",function(){o.lis.add(o.anchors).unbind(".tabs"),o.lis=o.anchors=o.panels=null})):l.selected=this.lis.index(this.lis.filter(".ui-tabs-selected")),this.element[l.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible"),l.cookie&&this._cookie(l.selected,l.cookie),t=0;n=this.lis[t];t++)e(n)[-1==e.inArray(t,l.disabled)||e(n).hasClass("ui-tabs-selected")?"removeClass":"addClass"]("ui-state-disabled");if(!1===l.cache&&this.anchors.removeData("cache.tabs"),this.lis.add(this.anchors).unbind(".tabs"),"mouseover"!==l.event){var c=function(e,t){t.is(":not(.ui-state-disabled)")&&t.addClass("ui-state-"+e)},h=function(e,t){t.removeClass("ui-state-"+e)};this.lis.bind("mouseover.tabs",function(){c("hover",e(this))}),this.lis.bind("mouseout.tabs",function(){h("hover",e(this))}),this.anchors.bind("focus.tabs",function(){c("focus",e(this).closest("li"))}),this.anchors.bind("blur.tabs",function(){h("focus",e(this).closest("li"))})}l.fx&&(e.isArray(l.fx)?(a=l.fx[0],r=l.fx[1]):a=r=l.fx);var u=r?function(t,i){e(t).closest("li").addClass("ui-tabs-selected ui-state-active"),i.hide().removeClass("ui-tabs-hide").animate(r,r.duration||"normal",function(){s(i,r),o._trigger("show",null,o._ui(t,i[0]))})}:function(t,i){e(t).closest("li").addClass("ui-tabs-selected ui-state-active"),i.removeClass("ui-tabs-hide"),o._trigger("show",null,o._ui(t,i[0]))},p=a?function(e,t){t.animate(a,a.duration||"normal",function(){o.lis.removeClass("ui-tabs-selected ui-state-active"),t.addClass("ui-tabs-hide"),s(t,a),o.element.dequeue("tabs")})}:function(e,t){o.lis.removeClass("ui-tabs-selected ui-state-active"),t.addClass("ui-tabs-hide"),o.element.dequeue("tabs")};this.anchors.bind(l.event+".tabs",function(){var t=this,i=e(t).closest("li"),s=o.panels.filter(":not(.ui-tabs-hide)"),n=o.element.find(o._sanitizeSelector(t.hash));if(i.hasClass("ui-tabs-selected")&&!l.collapsible||i.hasClass("ui-state-disabled")||i.hasClass("ui-state-processing")||o.panels.filter(":animated").length||!1===o._trigger("select",null,o._ui(this,n[0])))return this.blur(),!1;if(l.selected=o.anchors.index(this),o.abort(),l.collapsible){if(i.hasClass("ui-tabs-selected"))return l.selected=-1,l.cookie&&o._cookie(l.selected,l.cookie),o.element.queue("tabs",function(){p(t,s)}).dequeue("tabs"),this.blur(),!1;if(!s.length)return l.cookie&&o._cookie(l.selected,l.cookie),o.element.queue("tabs",function(){u(t,n)}),o.load(o.anchors.index(this)),this.blur(),!1}if(l.cookie&&o._cookie(l.selected,l.cookie),!n.length)throw"jQuery UI Tabs: Mismatching fragment identifier.";s.length&&o.element.queue("tabs",function(){p(t,s)}),o.element.queue("tabs",function(){u(t,n)}),o.load(o.anchors.index(this)),e.browser.msie&&this.blur()}),this.anchors.bind("click.tabs",function(){return!1})},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$="+e+"]"))),e},destroy:function(){var t=this.options;return this.abort(),this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs"),this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.anchors.each(function(){var t=e.data(this,"href.tabs");t&&(this.href=t);var i=e(this).unbind(".tabs");e.each(["href","load","cache"],function(e,t){i.removeData(t+".tabs")})}),this.lis.unbind(".tabs").add(this.panels).each(function(){e.data(this,"destroy.tabs")?e(this).remove():e(this).removeClass("ui-state-default ui-corner-top ui-tabs-selected ui-state-active ui-state-hover ui-state-focus ui-state-disabled ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide")}),t.cookie&&this._cookie(null,t.cookie),this},add:function(t,s,n){n===i&&(n=this.anchors.length);var a=this,r=this.options;s=e(r.tabTemplate.replace(/#\{href\}/g,t).replace(/#\{label\}/g,s)),t=t.indexOf("#")?this._tabId(e("a",s)[0]):t.replace("#",""),s.addClass("ui-state-default ui-corner-top").data("destroy.tabs",!0);var o=a.element.find("#"+t);return o.length||(o=e(r.panelTemplate).attr("id",t).data("destroy.tabs",!0)),o.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"),n>=this.lis.length?(s.appendTo(this.list),o.appendTo(this.list[0].parentNode)):(s.insertBefore(this.lis[n]),o.insertBefore(this.panels[n])),r.disabled=e.map(r.disabled,function(e){return e>=n?++e:e}),this._tabify(),1==this.anchors.length&&(r.selected=0,s.addClass("ui-tabs-selected ui-state-active"),o.removeClass("ui-tabs-hide"),this.element.queue("tabs",function(){a._trigger("show",null,a._ui(a.anchors[0],a.panels[0]))}),this.load(0)),this._trigger("add",null,this._ui(this.anchors[n],this.panels[n])),this},remove:function(t){t=this._getIndex(t);var i=this.options,s=this.lis.eq(t).remove(),n=this.panels.eq(t).remove();return s.hasClass("ui-tabs-selected")&&this.anchors.length>1&&this.select(t+(t+1<this.anchors.length?1:-1)),i.disabled=e.map(e.grep(i.disabled,function(e){return e!=t}),function(e){return e>=t?--e:e}),this._tabify(),this._trigger("remove",null,this._ui(s.find("a")[0],n[0])),this},enable:function(t){t=this._getIndex(t);var i=this.options;if(-1!=e.inArray(t,i.disabled))return this.lis.eq(t).removeClass("ui-state-disabled"),i.disabled=e.grep(i.disabled,function(e){return e!=t}),this._trigger("enable",null,this._ui(this.anchors[t],this.panels[t])),this},disable:function(e){e=this._getIndex(e);var t=this.options;return e!=t.selected&&(this.lis.eq(e).addClass("ui-state-disabled"),t.disabled.push(e),t.disabled.sort(),this._trigger("disable",null,this._ui(this.anchors[e],this.panels[e]))),this},select:function(e){if(-1==(e=this._getIndex(e))){if(!this.options.collapsible||-1==this.options.selected)return this;e=this.options.selected}return this.anchors.eq(e).trigger(this.options.event+".tabs"),this},load:function(t){t=this._getIndex(t);var i=this,s=this.options,n=this.anchors.eq(t)[0],a=e.data(n,"load.tabs");if(this.abort(),a&&(0===this.element.queue("tabs").length||!e.data(n,"cache.tabs"))){if(this.lis.eq(t).addClass("ui-state-processing"),s.spinner){var r=e("span",n);r.data("label.tabs",r.html()).html(s.spinner)}return this.xhr=e.ajax(e.extend({},s.ajaxOptions,{url:a,success:function(a,r){i.element.find(i._sanitizeSelector(n.hash)).html(a),i._cleanup(),s.cache&&e.data(n,"cache.tabs",!0),i._trigger("load",null,i._ui(i.anchors[t],i.panels[t]));try{s.ajaxOptions.success(a,r)}catch(e){}},error:function(e,a){i._cleanup(),i._trigger("load",null,i._ui(i.anchors[t],i.panels[t]));try{s.ajaxOptions.error(e,a,t,n)}catch(e){}}})),i.element.dequeue("tabs"),this}this.element.dequeue("tabs")},abort:function(){return this.element.queue([]),this.panels.stop(!1,!0),this.element.queue("tabs",this.element.queue("tabs").splice(-2,2)),this.xhr&&(this.xhr.abort(),delete this.xhr),this._cleanup(),this},url:function(e,t){return this.anchors.eq(e).removeData("cache.tabs").data("load.tabs",t),this},length:function(){return this.anchors.length}}),e.extend(e.ui.tabs,{version:"1.8.12"}),e.extend(e.ui.tabs.prototype,{rotation:null,rotate:function(e,i){var s=this,n=this.options,a=s._rotate||(s._rotate=function(t){clearTimeout(s.rotation),s.rotation=setTimeout(function(){var e=n.selected;s.select(++e<s.anchors.length?e:0)},e),t&&t.stopPropagation()});return i=s._unrotate||(s._unrotate=i?function(){t=n.selected,a()}:function(e){e.clientX&&s.rotate(null)}),e?(this.element.bind("tabsshow",a),this.anchors.bind(n.event+".tabs",i),a()):(clearTimeout(s.rotation),this.element.unbind("tabsshow",a),this.anchors.unbind(n.event+".tabs",i),delete this._rotate,delete this._unrotate),this}})}(jQuery),function(d,A){function K(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._inDialog=this._datepickerShowing=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1},d.extend(this._defaults,this.regional[""]),this.dpDiv=d('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')}function F(e,t){for(var i in d.extend(e,t),t)null!=t[i]&&t[i]!=A||(e[i]=t[i]);return e}d.extend(d.ui,{datepicker:{version:"1.8.12"}});var y=(new Date).getTime();d.extend(K.prototype,{markerClassName:"hasDatepicker",log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return F(this._defaults,e||{}),this},_attachDatepicker:function(a,b){var c=null;for(var e in this._defaults){var f=a.getAttribute("date:"+e);if(f){c=c||{};try{c[e]=eval(f)}catch(t){c[e]=f}}}e=a.nodeName.toLowerCase(),f="div"==e||"span"==e,a.id||(this.uuid+=1,a.id="dp"+this.uuid);var i=this._newInst(d(a),f);i.settings=d.extend({},b||{},c||{}),"input"==e?this._connectDatepicker(a,i):f&&this._inlineDatepicker(a,i)},_newInst:function(e,t){return{id:e[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:t,dpDiv:t?d('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'):this.dpDiv}},_connectDatepicker:function(e,t){var i=d(e);t.append=d([]),t.trigger=d([]),i.hasClass(this.markerClassName)||(this._attachments(i,t),i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(e,i,s){t.settings[i]=s}).bind("getData.datepicker",function(e,i){return this._get(t,i)}),this._autoSize(t),d.data(e,"datepicker",t))},_attachments:function(e,t){var i=this._get(t,"appendText"),s=this._get(t,"isRTL");if(t.append&&t.append.remove(),i&&(t.append=d('<span class="'+this._appendClass+'">'+i+"</span>"),e[s?"before":"after"](t.append)),e.unbind("focus",this._showDatepicker),t.trigger&&t.trigger.remove(),"focus"!=(i=this._get(t,"showOn"))&&"both"!=i||e.focus(this._showDatepicker),"button"==i||"both"==i){i=this._get(t,"buttonText");var n=this._get(t,"buttonImage");t.trigger=d(this._get(t,"buttonImageOnly")?d("<img/>").addClass(this._triggerClass).attr({src:n,alt:i,title:i}):d('<button type="button"></button>').addClass(this._triggerClass).html(""==n?i:d("<img/>").attr({src:n,alt:i,title:i}))),e[s?"before":"after"](t.trigger),t.trigger.click(function(){return d.datepicker._datepickerShowing&&d.datepicker._lastInput==e[0]?d.datepicker._hideDatepicker():d.datepicker._showDatepicker(e[0]),!1})}},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t=new Date(2009,11,20),i=this._get(e,"dateFormat");if(i.match(/[DM]/)){var s=function(e){for(var t=0,i=0,s=0;s<e.length;s++)e[s].length>t&&(t=e[s].length,i=s);return i};t.setMonth(s(this._get(e,i.match(/MM/)?"monthNames":"monthNamesShort"))),t.setDate(s(this._get(e,i.match(/DD/)?"dayNames":"dayNamesShort"))+20-t.getDay())}e.input.attr("size",this._formatDate(e,t).length)}},_inlineDatepicker:function(e,t){var i=d(e);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(t.dpDiv).bind("setData.datepicker",function(e,i,s){t.settings[i]=s}).bind("getData.datepicker",function(e,i){return this._get(t,i)}),d.data(e,"datepicker",t),this._setDate(t,this._getDefaultDate(t),!0),this._updateDatepicker(t),this._updateAlternate(t),t.dpDiv.show())},_dialogDatepicker:function(e,t,i,s,n){return(e=this._dialogInst)||(this.uuid+=1,this._dialogInput=d('<input type="text" id="dp'+this.uuid+'" style="position: absolute; top: -100px; width: 0px; z-index: -10;"/>'),this._dialogInput.keydown(this._doKeyDown),d("body").append(this._dialogInput),(e=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},d.data(this._dialogInput[0],"datepicker",e)),F(e.settings,s||{}),t=t&&t.constructor==Date?this._formatDate(e,t):t,this._dialogInput.val(t),this._pos=n?n.length?n:[n.pageX,n.pageY]:null,this._pos||(this._pos=[document.documentElement.clientWidth/2-100+(document.documentElement.scrollLeft||document.body.scrollLeft),document.documentElement.clientHeight/2-150+(document.documentElement.scrollTop||document.body.scrollTop)]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),e.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),d.blockUI&&d.blockUI(this.dpDiv),d.data(this._dialogInput[0],"datepicker",e),this},_destroyDatepicker:function(e){var t=d(e),i=d.data(e,"datepicker");if(t.hasClass(this.markerClassName)){var s=e.nodeName.toLowerCase();d.removeData(e,"datepicker"),"input"==s?(i.append.remove(),i.trigger.remove(),t.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!=s&&"span"!=s||t.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(e){var t=d(e),i=d.data(e,"datepicker");if(t.hasClass(this.markerClassName)){var s=e.nodeName.toLowerCase();"input"==s?(e.disabled=!1,i.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!=s&&"span"!=s||t.children("."+this._inlineClass).children().removeClass("ui-state-disabled"),this._disabledInputs=d.map(this._disabledInputs,function(t){return t==e?null:t})}},_disableDatepicker:function(e){var t=d(e),i=d.data(e,"datepicker");if(t.hasClass(this.markerClassName)){var s=e.nodeName.toLowerCase();"input"==s?(e.disabled=!0,i.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!=s&&"span"!=s||t.children("."+this._inlineClass).children().addClass("ui-state-disabled"),this._disabledInputs=d.map(this._disabledInputs,function(t){return t==e?null:t}),this._disabledInputs[this._disabledInputs.length]=e}},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]==e)return!0;return!1},_getInst:function(e){try{return d.data(e,"datepicker")}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,t,i){var s=this._getInst(e);if(2==arguments.length&&"string"==typeof t)return"defaults"==t?d.extend({},d.datepicker._defaults):s?"all"==t?d.extend({},s.settings):this._get(s,t):null;var n=t||{};if("string"==typeof t&&((n={})[t]=i),s){this._curInst==s&&this._hideDatepicker();var a=this._getDateDatepicker(e,!0),r=this._getMinMaxDate(s,"min"),o=this._getMinMaxDate(s,"max");F(s.settings,n),null!==r&&n.dateFormat!==A&&n.minDate===A&&(s.settings.minDate=this._formatDate(s,r)),null!==o&&n.dateFormat!==A&&n.maxDate===A&&(s.settings.maxDate=this._formatDate(s,o)),this._attachments(d(e),s),this._autoSize(s),this._setDateDatepicker(e,a),this._updateDatepicker(s)}},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){(e=this._getInst(e))&&this._updateDatepicker(e)},_setDateDatepicker:function(e,t){(e=this._getInst(e))&&(this._setDate(e,t),this._updateDatepicker(e),this._updateAlternate(e))},_getDateDatepicker:function(e,t){return(e=this._getInst(e))&&!e.inline&&this._setDateFromField(e,t),e?this._getDate(e):null},_doKeyDown:function(e){var t=d.datepicker._getInst(e.target),i=!0,s=t.dpDiv.is(".ui-datepicker-rtl");if(t._keyEvent=!0,d.datepicker._datepickerShowing)switch(e.keyCode){case 9:d.datepicker._hideDatepicker(),i=!1;break;case 13:return(i=d("td."+d.datepicker._dayOverClass+":not(."+d.datepicker._currentClass+")",t.dpDiv))[0]?d.datepicker._selectDay(e.target,t.selectedMonth,t.selectedYear,i[0]):d.datepicker._hideDatepicker(),!1;case 27:d.datepicker._hideDatepicker();break;case 33:d.datepicker._adjustDate(e.target,e.ctrlKey?-d.datepicker._get(t,"stepBigMonths"):-d.datepicker._get(t,"stepMonths"),"M");break;case 34:d.datepicker._adjustDate(e.target,e.ctrlKey?+d.datepicker._get(t,"stepBigMonths"):+d.datepicker._get(t,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&d.datepicker._clearDate(e.target),i=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&d.datepicker._gotoToday(e.target),i=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&d.datepicker._adjustDate(e.target,s?1:-1,"D"),i=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&d.datepicker._adjustDate(e.target,e.ctrlKey?-d.datepicker._get(t,"stepBigMonths"):-d.datepicker._get(t,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&d.datepicker._adjustDate(e.target,-7,"D"),i=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&d.datepicker._adjustDate(e.target,s?-1:1,"D"),i=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&d.datepicker._adjustDate(e.target,e.ctrlKey?+d.datepicker._get(t,"stepBigMonths"):+d.datepicker._get(t,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&d.datepicker._adjustDate(e.target,7,"D"),i=e.ctrlKey||e.metaKey;break;default:i=!1}else 36==e.keyCode&&e.ctrlKey?d.datepicker._showDatepicker(this):i=!1;i&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var t=d.datepicker._getInst(e.target);if(d.datepicker._get(t,"constrainInput")){t=d.datepicker._possibleChars(d.datepicker._get(t,"dateFormat"));var i=String.fromCharCode(e.charCode==A?e.keyCode:e.charCode);return e.ctrlKey||e.metaKey||i<" "||!t||t.indexOf(i)>-1}},_doKeyUp:function(e){if((e=d.datepicker._getInst(e.target)).input.val()!=e.lastVal)try{d.datepicker.parseDate(d.datepicker._get(e,"dateFormat"),e.input?e.input.val():null,d.datepicker._getFormatConfig(e))&&(d.datepicker._setDateFromField(e),d.datepicker._updateAlternate(e),d.datepicker._updateDatepicker(e))}catch(e){d.datepicker.log(e)}return!0},_showDatepicker:function(e){if("input"!=(e=e.target||e).nodeName.toLowerCase()&&(e=d("input",e.parentNode)[0]),!d.datepicker._isDisabledDatepicker(e)&&d.datepicker._lastInput!=e){var t=d.datepicker._getInst(e);d.datepicker._curInst&&d.datepicker._curInst!=t&&d.datepicker._curInst.dpDiv.stop(!0,!0);var i=d.datepicker._get(t,"beforeShow");F(t.settings,i?i.apply(e,[e,t]):{}),t.lastVal=null,d.datepicker._lastInput=e,d.datepicker._setDateFromField(t),d.datepicker._inDialog&&(e.value=""),d.datepicker._pos||(d.datepicker._pos=d.datepicker._findPos(e),d.datepicker._pos[1]+=e.offsetHeight);var s=!1;if(d(e).parents().each(function(){return!(s|="fixed"==d(this).css("position"))}),s&&d.browser.opera&&(d.datepicker._pos[0]-=document.documentElement.scrollLeft,d.datepicker._pos[1]-=document.documentElement.scrollTop),i={left:d.datepicker._pos[0],top:d.datepicker._pos[1]},d.datepicker._pos=null,t.dpDiv.empty(),t.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),d.datepicker._updateDatepicker(t),i=d.datepicker._checkOffset(t,i,s),t.dpDiv.css({position:d.datepicker._inDialog&&d.blockUI?"static":s?"fixed":"absolute",display:"none",left:i.left+"px",top:i.top+"px"}),!t.inline){i=d.datepicker._get(t,"showAnim");var n=d.datepicker._get(t,"duration"),a=function(){d.datepicker._datepickerShowing=!0;var e=t.dpDiv.find("iframe.ui-datepicker-cover");if(e.length){var i=d.datepicker._getBorders(t.dpDiv);e.css({left:-i[0],top:-i[1],width:t.dpDiv.outerWidth(),height:t.dpDiv.outerHeight()})}};t.dpDiv.zIndex(d(e).zIndex()+1),d.effects&&d.effects[i]?t.dpDiv.show(i,d.datepicker._get(t,"showOptions"),n,a):t.dpDiv[i||"show"](i?n:null,a),i&&n||a(),t.input.is(":visible")&&!t.input.is(":disabled")&&t.input.focus(),d.datepicker._curInst=t}}},_updateDatepicker:function(e){var t=this,i=d.datepicker._getBorders(e.dpDiv);e.dpDiv.empty().append(this._generateHTML(e));var s=e.dpDiv.find("iframe.ui-datepicker-cover");if(s.length&&s.css({left:-i[0],top:-i[1],width:e.dpDiv.outerWidth(),height:e.dpDiv.outerHeight()}),e.dpDiv.find("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a").bind("mouseout",function(){d(this).removeClass("ui-state-hover"),-1!=this.className.indexOf("ui-datepicker-prev")&&d(this).removeClass("ui-datepicker-prev-hover"),-1!=this.className.indexOf("ui-datepicker-next")&&d(this).removeClass("ui-datepicker-next-hover")}).bind("mouseover",function(){t._isDisabledDatepicker(e.inline?e.dpDiv.parent()[0]:e.input[0])||(d(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),d(this).addClass("ui-state-hover"),-1!=this.className.indexOf("ui-datepicker-prev")&&d(this).addClass("ui-datepicker-prev-hover"),-1!=this.className.indexOf("ui-datepicker-next")&&d(this).addClass("ui-datepicker-next-hover"))}).end().find("."+this._dayOverClass+" a").trigger("mouseover").end(),(s=(i=this._getNumberOfMonths(e))[1])>1?e.dpDiv.addClass("ui-datepicker-multi-"+s).css("width",17*s+"em"):e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),e.dpDiv[(1!=i[0]||1!=i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e==d.datepicker._curInst&&d.datepicker._datepickerShowing&&e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&e.input[0]!=document.activeElement&&e.input.focus(),e.yearshtml){var n=e.yearshtml;setTimeout(function(){n===e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),n=e.yearshtml=null},0)}},_getBorders:function(e){var t=function(e){return{thin:1,medium:2,thick:3}[e]||e};return[parseFloat(t(e.css("border-left-width"))),parseFloat(t(e.css("border-top-width")))]},_checkOffset:function(e,t,i){var s=e.dpDiv.outerWidth(),n=e.dpDiv.outerHeight(),a=e.input?e.input.outerWidth():0,r=e.input?e.input.outerHeight():0,o=document.documentElement.clientWidth+d(document).scrollLeft(),l=document.documentElement.clientHeight+d(document).scrollTop();return t.left-=this._get(e,"isRTL")?s-a:0,t.left-=i&&t.left==e.input.offset().left?d(document).scrollLeft():0,t.top-=i&&t.top==e.input.offset().top+r?d(document).scrollTop():0,t.left-=Math.min(t.left,t.left+s>o&&o>s?Math.abs(t.left+s-o):0),t.top-=Math.min(t.top,t.top+n>l&&l>n?Math.abs(n+r):0),t},_findPos:function(e){for(var t=this._get(this._getInst(e),"isRTL");e&&("hidden"==e.type||1!=e.nodeType||d.expr.filters.hidden(e));)e=e[t?"previousSibling":"nextSibling"];return[(e=d(e).offset()).left,e.top]},_hideDatepicker:function(e){var t=this._curInst;if(t&&(!e||t==d.data(e,"datepicker"))&&this._datepickerShowing){e=this._get(t,"showAnim");var i=this._get(t,"duration"),s=function(){d.datepicker._tidyDialog(t),this._curInst=null};d.effects&&d.effects[e]?t.dpDiv.hide(e,d.datepicker._get(t,"showOptions"),i,s):t.dpDiv["slideDown"==e?"slideUp":"fadeIn"==e?"fadeOut":"hide"](e?i:null,s),e||s(),(e=this._get(t,"onClose"))&&e.apply(t.input?t.input[0]:null,[t.input?t.input.val():"",t]),this._datepickerShowing=!1,this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),d.blockUI&&(d.unblockUI(),d("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){d.datepicker._curInst&&(e=d(e.target))[0].id!=d.datepicker._mainDivId&&0==e.parents("#"+d.datepicker._mainDivId).length&&!e.hasClass(d.datepicker.markerClassName)&&!e.hasClass(d.datepicker._triggerClass)&&d.datepicker._datepickerShowing&&(!d.datepicker._inDialog||!d.blockUI)&&d.datepicker._hideDatepicker()},_adjustDate:function(e,t,i){e=d(e);var s=this._getInst(e[0]);this._isDisabledDatepicker(e[0])||(this._adjustInstDate(s,t+("M"==i?this._get(s,"showCurrentAtPos"):0),i),this._updateDatepicker(s))},_gotoToday:function(e){e=d(e);var t=this._getInst(e[0]);if(this._get(t,"gotoCurrent")&&t.currentDay)t.selectedDay=t.currentDay,t.drawMonth=t.selectedMonth=t.currentMonth,t.drawYear=t.selectedYear=t.currentYear;else{var i=new Date;t.selectedDay=i.getDate(),t.drawMonth=t.selectedMonth=i.getMonth(),t.drawYear=t.selectedYear=i.getFullYear()}this._notifyChange(t),this._adjustDate(e)},_selectMonthYear:function(e,t,i){e=d(e);var s=this._getInst(e[0]);s._selectingMonthYear=!1,s["selected"+("M"==i?"Month":"Year")]=s["draw"+("M"==i?"Month":"Year")]=parseInt(t.options[t.selectedIndex].value,10),this._notifyChange(s),this._adjustDate(e)},_clickMonthYear:function(e){var t=this._getInst(d(e)[0]);t.input&&t._selectingMonthYear&&setTimeout(function(){t.input.focus()},0),t._selectingMonthYear=!t._selectingMonthYear},_selectDay:function(e,t,i,s){var n=d(e);d(s).hasClass(this._unselectableClass)||this._isDisabledDatepicker(n[0])||((n=this._getInst(n[0])).selectedDay=n.currentDay=d("a",s).html(),n.selectedMonth=n.currentMonth=t,n.selectedYear=n.currentYear=i,this._selectDate(e,this._formatDate(n,n.currentDay,n.currentMonth,n.currentYear)))},_clearDate:function(e){e=d(e),this._getInst(e[0]),this._selectDate(e,"")},_selectDate:function(e,t){e=this._getInst(d(e)[0]),t=null!=t?t:this._formatDate(e),e.input&&e.input.val(t),this._updateAlternate(e);var i=this._get(e,"onSelect");i?i.apply(e.input?e.input[0]:null,[t,e]):e.input&&e.input.trigger("change"),e.inline?this._updateDatepicker(e):(this._hideDatepicker(),this._lastInput=e.input[0],"object"!=typeof e.input[0]&&e.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var t=this._get(e,"altField");if(t){var i=this._get(e,"altFormat")||this._get(e,"dateFormat"),s=this._getDate(e),n=this.formatDate(i,s,this._getFormatConfig(e));d(t).each(function(){d(this).val(n)})}},noWeekends:function(e){return[(e=e.getDay())>0&&e<6,""]},iso8601Week:function(e){(e=new Date(e.getTime())).setDate(e.getDate()+4-(e.getDay()||7));var t=e.getTime();return e.setMonth(0),e.setDate(1),Math.floor(Math.round((t-e)/864e5)/7)+1},parseDate:function(e,t,i){if(null==e||null==t)throw"Invalid arguments";if(""==(t="object"==typeof t?t.toString():t+""))return null;var s=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff;s="string"!=typeof s?s:(new Date).getFullYear()%100+parseInt(s,10);for(var n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,a=(i?i.dayNames:null)||this._defaults.dayNames,r=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,o=(i?i.monthNames:null)||this._defaults.monthNames,l=i=-1,d=-1,c=-1,h=!1,u=function(t){return(t=v+1<e.length&&e.charAt(v+1)==t)&&v++,t},p=function(e){var i=u(e);if(e=new RegExp("^\\d{1,"+("@"==e?14:"!"==e?20:"y"==e&&i?4:"o"==e?3:2)+"}"),!(e=t.substring(m).match(e)))throw"Missing number at position "+m;return m+=e[0].length,parseInt(e[0],10)},f=function(e,i,s){for(e=u(e)?s:i,i=0;i<e.length;i++)if(t.substr(m,e[i].length).toLowerCase()==e[i].toLowerCase())return m+=e[i].length,i+1;throw"Unknown name at position "+m},g=function(){if(t.charAt(m)!=e.charAt(v))throw"Unexpected literal at position "+m;m++},m=0,v=0;v<e.length;v++)if(h)"'"!=e.charAt(v)||u("'")?g():h=!1;else switch(e.charAt(v)){case"d":d=p("d");break;case"D":f("D",n,a);break;case"o":c=p("o");break;case"m":l=p("m");break;case"M":l=f("M",r,o);break;case"y":i=p("y");break;case"@":var b=new Date(p("@"));i=b.getFullYear(),l=b.getMonth()+1,d=b.getDate();break;case"!":i=(b=new Date((p("!")-this._ticksTo1970)/1e4)).getFullYear(),l=b.getMonth()+1,d=b.getDate();break;case"'":u("'")?g():h=!0;break;default:g()}if(-1==i?i=(new Date).getFullYear():i<100&&(i+=(new Date).getFullYear()-(new Date).getFullYear()%100+(i<=s?0:-100)),c>-1)for(l=1,d=c;;){if(d<=(s=this._getDaysInMonth(i,l-1)))break;l++,d-=s}if((b=this._daylightSavingAdjust(new Date(i,l-1,d))).getFullYear()!=i||b.getMonth()+1!=l||b.getDate()!=d)throw"Invalid date";return b},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,i){if(!t)return"";var s=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,n=(i?i.dayNames:null)||this._defaults.dayNames,a=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort;i=(i?i.monthNames:null)||this._defaults.monthNames;var r=function(t){return(t=h+1<e.length&&e.charAt(h+1)==t)&&h++,t},o=function(e,t,i){if(t=""+t,r(e))for(;t.length<i;)t="0"+t;return t},l=function(e,t,i,s){return r(e)?s[t]:i[t]},d="",c=!1;if(t)for(var h=0;h<e.length;h++)if(c)"'"!=e.charAt(h)||r("'")?d+=e.charAt(h):c=!1;else switch(e.charAt(h)){case"d":d+=o("d",t.getDate(),2);break;case"D":d+=l("D",t.getDay(),s,n);break;case"o":d+=o("o",(t.getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5,3);break;case"m":d+=o("m",t.getMonth()+1,2);break;case"M":d+=l("M",t.getMonth(),a,i);break;case"y":d+=r("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":d+=t.getTime();break;case"!":d+=1e4*t.getTime()+this._ticksTo1970;break;case"'":r("'")?d+="'":c=!0;break;default:d+=e.charAt(h)}return d},_possibleChars:function(e){for(var t="",i=!1,s=function(t){return(t=n+1<e.length&&e.charAt(n+1)==t)&&n++,t},n=0;n<e.length;n++)if(i)"'"!=e.charAt(n)||s("'")?t+=e.charAt(n):i=!1;else switch(e.charAt(n)){case"d":case"m":case"y":case"@":t+="0123456789";break;case"D":case"M":return null;case"'":s("'")?t+="'":i=!0;break;default:t+=e.charAt(n)}return t},_get:function(e,t){return e.settings[t]!==A?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!=e.lastVal){var i,s,n=this._get(e,"dateFormat"),a=e.lastVal=e.input?e.input.val():null;i=s=this._getDefaultDate(e);var r=this._getFormatConfig(e);try{i=this.parseDate(n,a,r)||s}catch(e){this.log(e),a=t?"":a}e.selectedDay=i.getDate(),e.drawMonth=e.selectedMonth=i.getMonth(),e.drawYear=e.selectedYear=i.getFullYear(),e.currentDay=a?i.getDate():0,e.currentMonth=a?i.getMonth():0,e.currentYear=a?i.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(e,t,i){var s,n;return(t=(t=null==t||""===t?i:"string"==typeof t?function(t){try{return d.datepicker.parseDate(d.datepicker._get(e,"dateFormat"),t,d.datepicker._getFormatConfig(e))}catch(e){}var i=(t.toLowerCase().match(/^c/)?d.datepicker._getDate(e):null)||new Date,s=i.getFullYear(),n=i.getMonth();i=i.getDate();for(var a=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,r=a.exec(t);r;){switch(r[2]||"d"){case"d":case"D":i+=parseInt(r[1],10);break;case"w":case"W":i+=7*parseInt(r[1],10);break;case"m":case"M":n+=parseInt(r[1],10),i=Math.min(i,d.datepicker._getDaysInMonth(s,n));break;case"y":case"Y":s+=parseInt(r[1],10),i=Math.min(i,d.datepicker._getDaysInMonth(s,n))}r=a.exec(t)}return new Date(s,n,i)}(t):"number"==typeof t?isNaN(t)?i:(s=t,(n=new Date).setDate(n.getDate()+s),n):new Date(t.getTime()))&&"Invalid Date"==t.toString()?i:t)&&(t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)),this._daylightSavingAdjust(t)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var s=!t,n=e.selectedMonth,a=e.selectedYear;t=this._restrictMinMax(e,this._determineDate(e,t,new Date)),e.selectedDay=e.currentDay=t.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=t.getMonth(),e.drawYear=e.selectedYear=e.currentYear=t.getFullYear(),n==e.selectedMonth&&a==e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(s?"":this._formatDate(e))},_getDate:function(e){return!e.currentYear||e.input&&""==e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay))},_generateHTML:function(e){var t=new Date;t=this._daylightSavingAdjust(new Date(t.getFullYear(),t.getMonth(),t.getDate()));var i=this._get(e,"isRTL"),s=this._get(e,"showButtonPanel"),n=this._get(e,"hideIfNoPrevNext"),a=this._get(e,"navigationAsDateFormat"),r=this._getNumberOfMonths(e),o=this._get(e,"showCurrentAtPos"),l=this._get(e,"stepMonths"),c=1!=r[0]||1!=r[1],h=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),u=this._getMinMaxDate(e,"min"),p=this._getMinMaxDate(e,"max");o=e.drawMonth-o;var f=e.drawYear;if(o<0&&(o+=12,f--),p){var g=this._daylightSavingAdjust(new Date(p.getFullYear(),p.getMonth()-r[0]*r[1]+1,p.getDate()));for(g=u&&g<u?u:g;this._daylightSavingAdjust(new Date(f,o,1))>g;)--o<0&&(o=11,f--)}e.drawMonth=o,e.drawYear=f,g=this._get(e,"prevText"),g=a?this.formatDate(g,this._daylightSavingAdjust(new Date(f,o-l,1)),this._getFormatConfig(e)):g,g=this._canAdjustMonth(e,-1,f,o)?'<a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery_'+y+".datepicker._adjustDate('#"+e.id+"', -"+l+", 'M');\" title=\""+g+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"e":"w")+'">'+g+"</span></a>":n?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+g+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"e":"w")+'">'+g+"</span></a>";var m=this._get(e,"nextText");m=a?this.formatDate(m,this._daylightSavingAdjust(new Date(f,o+l,1)),this._getFormatConfig(e)):m,n=this._canAdjustMonth(e,1,f,o)?'<a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery_'+y+".datepicker._adjustDate('#"+e.id+"', +"+l+", 'M');\" title=\""+m+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"w":"e")+'">'+m+"</span></a>":n?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+m+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"w":"e")+'">'+m+"</span></a>",l=this._get(e,"currentText"),m=this._get(e,"gotoCurrent")&&e.currentDay?h:t,l=a?this.formatDate(l,m,this._getFormatConfig(e)):l,a=e.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" onclick="DP_jQuery_'+y+'.datepicker._hideDatepicker();">'+this._get(e,"closeText")+"</button>",s=s?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(i?a:"")+(this._isInRange(e,m)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" onclick="DP_jQuery_'+y+".datepicker._gotoToday('#"+e.id+"');\">"+l+"</button>":"")+(i?"":a)+"</div>":"",a=parseInt(this._get(e,"firstDay"),10),a=isNaN(a)?0:a,l=this._get(e,"showWeek"),m=this._get(e,"dayNames"),this._get(e,"dayNamesShort");var v=this._get(e,"dayNamesMin"),b=this._get(e,"monthNames"),w=this._get(e,"monthNamesShort"),x=this._get(e,"beforeShowDay"),_=this._get(e,"showOtherMonths"),C=this._get(e,"selectOtherMonths");this._get(e,"calculateWeek");for(var k=this._getDefaultDate(e),j="",D=0;D<r[0];D++){for(var M="",T=0;T<r[1];T++){var S=this._daylightSavingAdjust(new Date(f,o,e.selectedDay)),I=" ui-corner-all",F="";if(c){if(F+='<div class="ui-datepicker-group',r[1]>1)switch(T){case 0:F+=" ui-datepicker-group-first",I=" ui-corner-"+(i?"right":"left");break;case r[1]-1:F+=" ui-datepicker-group-last",I=" ui-corner-"+(i?"left":"right");break;default:F+=" ui-datepicker-group-middle",I=""}F+='">'}F+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+I+'">'+(/all|left/.test(I)&&0==D?i?n:g:"")+(/all|right/.test(I)&&0==D?i?g:n:"")+this._generateMonthYearHeader(e,o,f,u,p,D>0||T>0,b,w)+'</div><table class="ui-datepicker-calendar"><thead><tr>';var q=l?'<th class="ui-datepicker-week-col">'+this._get(e,"weekHeader")+"</th>":"";for(I=0;I<7;I++){var N=(I+a)%7;q+="<th"+((I+a+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+m[N]+'">'+v[N]+"</span></th>"}F+=q+"</tr></thead><tbody>",q=this._getDaysInMonth(f,o),f==e.selectedYear&&o==e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,q)),I=(this._getFirstDayOfMonth(f,o)-a+7)%7,q=c?6:Math.ceil((I+q)/7),N=this._daylightSavingAdjust(new Date(f,o,1-I));for(var A=0;A<q;A++){F+="<tr>";var P=l?'<td class="ui-datepicker-week-col">'+this._get(e,"calculateWeek")(N)+"</td>":"";for(I=0;I<7;I++){var E=x?x.apply(e.input?e.input[0]:null,[N]):[!0,""],z=N.getMonth()!=o,O=z&&!C||!E[0]||u&&N<u||p&&N>p;P+='<td class="'+((I+a+6)%7>=5?" ui-datepicker-week-end":"")+(z?" ui-datepicker-other-month":"")+(N.getTime()==S.getTime()&&o==e.selectedMonth&&e._keyEvent||k.getTime()==N.getTime()&&k.getTime()==S.getTime()?" "+this._dayOverClass:"")+(O?" "+this._unselectableClass+" ui-state-disabled":"")+(z&&!_?"":" "+E[1]+(N.getTime()==h.getTime()?" "+this._currentClass:"")+(N.getTime()==t.getTime()?" ui-datepicker-today":""))+'"'+(z&&!_||!E[2]?"":' title="'+E[2]+'"')+(O?"":' onclick="DP_jQuery_'+y+".datepicker._selectDay('#"+e.id+"',"+N.getMonth()+","+N.getFullYear()+', this);return false;"')+">"+(z&&!_?"&#xa0;":O?'<span class="ui-state-default">'+N.getDate()+"</span>":'<a class="ui-state-default'+(N.getTime()==t.getTime()?" ui-state-highlight":"")+(N.getTime()==h.getTime()?" ui-state-active":"")+(z?" ui-priority-secondary":"")+'" href="#">'+N.getDate()+"</a>")+"</td>",N.setDate(N.getDate()+1),N=this._daylightSavingAdjust(N)}F+=P+"</tr>"}++o>11&&(o=0,f++),M+=F+="</tbody></table>"+(c?"</div>"+(r[0]>0&&T==r[1]-1?'<div class="ui-datepicker-row-break"></div>':""):"")}j+=M}return j+=s+(d.browser.msie&&parseInt(d.browser.version,10)<7&&!e.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),e._keyEvent=!1,j},_generateMonthYearHeader:function(e,t,i,s,n,a,r,o){var l=this._get(e,"changeMonth"),c=this._get(e,"changeYear"),h=this._get(e,"showMonthAfterYear"),u='<div class="ui-datepicker-title">',p="";if(a||!l)p+='<span class="ui-datepicker-month">'+r[t]+"</span>";else{r=s&&s.getFullYear()==i;var f=n&&n.getFullYear()==i;p+='<select class="ui-datepicker-month" onchange="DP_jQuery_'+y+".datepicker._selectMonthYear('#"+e.id+"', this, 'M');\" onclick=\"DP_jQuery_"+y+".datepicker._clickMonthYear('#"+e.id+"');\">";for(var g=0;g<12;g++)(!r||g>=s.getMonth())&&(!f||g<=n.getMonth())&&(p+='<option value="'+g+'"'+(g==t?' selected="selected"':"")+">"+o[g]+"</option>");p+="</select>"}if(h||(u+=p+(!a&&l&&c?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",a||!c)u+='<span class="ui-datepicker-year">'+i+"</span>";else{o=this._get(e,"yearRange").split(":");var m=(new Date).getFullYear();for(t=(r=function(e){return e=e.match(/c[+-].*/)?i+parseInt(e.substring(1),10):e.match(/[+-].*/)?m+parseInt(e,10):parseInt(e,10),isNaN(e)?m:e})(o[0]),o=Math.max(t,r(o[1]||"")),t=s?Math.max(t,s.getFullYear()):t,o=n?Math.min(o,n.getFullYear()):o,e.yearshtml+='<select class="ui-datepicker-year" onchange="DP_jQuery_'+y+".datepicker._selectMonthYear('#"+e.id+"', this, 'Y');\" onclick=\"DP_jQuery_"+y+".datepicker._clickMonthYear('#"+e.id+"');\">";t<=o;t++)e.yearshtml+='<option value="'+t+'"'+(t==i?' selected="selected"':"")+">"+t+"</option>";e.yearshtml+="</select>",d.browser.mozilla?u+='<select class="ui-datepicker-year"><option value="'+i+'" selected="selected">'+i+"</option></select>":(u+=e.yearshtml,e.yearshtml=null)}return u+=this._get(e,"yearSuffix"),h&&(u+=(!a&&l&&c?"":"&#xa0;")+p),u+="</div>"},_adjustInstDate:function(e,t,i){var s=e.drawYear+("Y"==i?t:0),n=e.drawMonth+("M"==i?t:0);t=Math.min(e.selectedDay,this._getDaysInMonth(s,n))+("D"==i?t:0),s=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(s,n,t))),e.selectedDay=s.getDate(),e.drawMonth=e.selectedMonth=s.getMonth(),e.drawYear=e.selectedYear=s.getFullYear(),"M"!=i&&"Y"!=i||this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min");return t=i&&t<i?i:t,(e=this._getMinMaxDate(e,"max"))&&t>e?e:t},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){return null==(e=this._get(e,"numberOfMonths"))?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,s){var n=this._getNumberOfMonths(e);return i=this._daylightSavingAdjust(new Date(i,s+(t<0?t:n[0]*n[1]),1)),t<0&&i.setDate(this._getDaysInMonth(i.getFullYear(),i.getMonth())),this._isInRange(e,i)},_isInRange:function(e,t){var i=this._getMinMaxDate(e,"min");return e=this._getMinMaxDate(e,"max"),(!i||t.getTime()>=i.getTime())&&(!e||t.getTime()<=e.getTime())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return{shortYearCutoff:t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,s){return t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear),t=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(s,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay)),this.formatDate(this._get(e,"dateFormat"),t,this._getFormatConfig(e))}}),d.fn.datepicker=function(e){if(!this.length)return this;d.datepicker.initialized||(d(document).mousedown(d.datepicker._checkExternalClick).find("body").append(d.datepicker.dpDiv),d.datepicker.initialized=!0);var t=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!=e&&"getDate"!=e&&"widget"!=e?"option"==e&&2==arguments.length&&"string"==typeof arguments[1]?d.datepicker["_"+e+"Datepicker"].apply(d.datepicker,[this[0]].concat(t)):this.each(function(){"string"==typeof e?d.datepicker["_"+e+"Datepicker"].apply(d.datepicker,[this].concat(t)):d.datepicker._attachDatepicker(this,e)}):d.datepicker["_"+e+"Datepicker"].apply(d.datepicker,[this[0]].concat(t))},d.datepicker=new K,d.datepicker.initialized=!1,d.datepicker.uuid=(new Date).getTime(),d.datepicker.version="1.8.12",window["DP_jQuery_"+y]=d}(jQuery),function(e,t){e.widget("ui.progressbar",{options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this.oldValue=this._value(),this._refreshValue()},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove(),e.Widget.prototype.destroy.apply(this,arguments)},value:function(e){return void 0===e?this._value():(this._setOption("value",e),this)},_setOption:function(t,i){"value"===t&&(this.options.value=i,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete")),e.Widget.prototype._setOption.apply(this,arguments)},_value:function(){var e=this.options.value;return"number"!=typeof e&&(e=0),Math.min(this.options.max,Math.max(this.min,e))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var e=this.value(),t=this._percentage();this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),this.valueDiv.toggle(e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(t.toFixed(0)+"%"),this.element.attr("aria-valuenow",e)}}),e.extend(e.ui.progressbar,{version:"1.8.12"})}(jQuery),jQuery.effects||function(e,t){function i(t){var i;return t&&t.constructor==Array&&3==t.length?t:(i=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(t))?[parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10)]:(i=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(t))?[2.55*parseFloat(i[1]),2.55*parseFloat(i[2]),2.55*parseFloat(i[3])]:(i=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(t))?[parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16)]:(i=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(t))?[parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16),parseInt(i[3]+i[3],16)]:/rgba\(0, 0, 0, 0\)/.exec(t)?o.transparent:o[e.trim(t).toLowerCase()]}function s(){var e,t=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,i={};if(t&&t.length&&t[0]&&t[t[0]])for(var s=t.length;s--;)"string"==typeof t[e=t[s]]&&(i[e.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()})]=t[e]);else for(e in t)"string"==typeof t[e]&&(i[e]=t[e]);return i}function n(t){var i,s;for(i in t)(null==(s=t[i])||e.isFunction(s)||i in d||/scrollbar/.test(i)||!/color/i.test(i)&&isNaN(parseFloat(s)))&&delete t[i];return t}function a(t,i,s,n){return"object"==typeof t&&(n=i,s=null,t=(i=t).effect),e.isFunction(i)&&(n=i,s=null,i={}),("number"==typeof i||e.fx.speeds[i])&&(n=s,s=i,i={}),e.isFunction(s)&&(n=s,s=null),i=i||{},s=s||i.duration,[t,i,s=e.fx.off?0:"number"==typeof s?s:s in e.fx.speeds?e.fx.speeds[s]:e.fx.speeds._default,n=n||i.complete]}function r(t){return!(t&&"number"!=typeof t&&!e.fx.speeds[t])||"string"==typeof t&&!e.effects[t]}e.effects={},e.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(t,s){e.fx.step[s]=function(t){t.colorInit||(t.start=function(t,s){var n;do{if(""!=(n=e.curCSS(t,s))&&"transparent"!=n||e.nodeName(t,"body"))break;s="backgroundColor"}while(t=t.parentNode);return i(n)}(t.elem,s),t.end=i(t.end),t.colorInit=!0),t.elem.style[s]="rgb("+Math.max(Math.min(parseInt(t.pos*(t.end[0]-t.start[0])+t.start[0],10),255),0)+","+Math.max(Math.min(parseInt(t.pos*(t.end[1]-t.start[1])+t.start[1],10),255),0)+","+Math.max(Math.min(parseInt(t.pos*(t.end[2]-t.start[2])+t.start[2],10),255),0)+")"}});var o={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},l=["add","remove","toggle"],d={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.effects.animateClass=function(t,i,a,r){return e.isFunction(a)&&(r=a,a=null),this.queue("fx",function(){var o,d=e(this),c=d.attr("style")||" ",h=n(s.call(this)),u=d.attr("className");e.each(l,function(e,i){t[i]&&d[i+"Class"](t[i])}),o=n(s.call(this)),d.attr("className",u),d.animate(function(e,t){var i,s={_:0};for(i in t)e[i]!=t[i]&&(s[i]=t[i]);return s}(h,o),i,a,function(){e.each(l,function(e,i){t[i]&&d[i+"Class"](t[i])}),"object"==typeof d.attr("style")?(d.attr("style").cssText="",d.attr("style").cssText=c):d.attr("style",c),r&&r.apply(this,arguments)}),o=(h=e.queue(this)).splice(h.length-1,1)[0],h.splice(1,0,o),e.dequeue(this)})},e.fn.extend({_addClass:e.fn.addClass,addClass:function(t,i,s,n){return i?e.effects.animateClass.apply(this,[{add:t},i,s,n]):this._addClass(t)},_removeClass:e.fn.removeClass,removeClass:function(t,i,s,n){return i?e.effects.animateClass.apply(this,[{remove:t},i,s,n]):this._removeClass(t)},_toggleClass:e.fn.toggleClass,toggleClass:function(i,s,n,a,r){return"boolean"==typeof s||s===t?n?e.effects.animateClass.apply(this,[s?{add:i}:{remove:i},n,a,r]):this._toggleClass(i,s):e.effects.animateClass.apply(this,[{toggle:i},s,n,a])},switchClass:function(t,i,s,n,a){return e.effects.animateClass.apply(this,[{add:i,remove:t},s,n,a])}}),e.extend(e.effects,{version:"1.8.12",save:function(e,t){for(var i=0;i<t.length;i++)null!==t[i]&&e.data("ec.storage."+t[i],e[0].style[t[i]])},restore:function(e,t){for(var i=0;i<t.length;i++)null!==t[i]&&e.css(t[i],e.data("ec.storage."+t[i]))},setMode:function(e,t){return"toggle"==t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var i;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":e=0;break;case"center":e=.5;break;case"right":e=1;break;default:e=e[1]/t.width}return{x:e,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},s=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0});return t.wrap(s),s=t.parent(),"static"==t.css("position")?(s.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,s){i[s]=t.css(s),isNaN(parseInt(i[s],10))&&(i[s]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),s.css(i).show()},removeWrapper:function(e){return e.parent().is(".ui-effects-wrapper")?e.parent().replaceWith(e):e},setTransition:function(t,i,s,n){return n=n||{},e.each(i,function(e,i){unit=t.cssUnit(i),unit[0]>0&&(n[i]=unit[0]*s+unit[1])}),n}}),e.fn.extend({effect:function(t){var i=a.apply(this,arguments),s={options:i[1],duration:i[2],callback:i[3]};i=s.options.mode;var n=e.effects[t];return e.fx.off||!n?i?this[i](s.duration,s.callback):this.each(function(){s.callback&&s.callback.call(this)}):n.call(this,s)},_show:e.fn.show,show:function(e){if(r(e))return this._show.apply(this,arguments);var t=a.apply(this,arguments);return t[1].mode="show",this.effect.apply(this,t)},_hide:e.fn.hide,hide:function(e){if(r(e))return this._hide.apply(this,arguments);var t=a.apply(this,arguments);return t[1].mode="hide",this.effect.apply(this,t)},__toggle:e.fn.toggle,toggle:function(t){if(r(t)||"boolean"==typeof t||e.isFunction(t))return this.__toggle.apply(this,arguments);var i=a.apply(this,arguments);return i[1].mode="toggle",this.effect.apply(this,i)},cssUnit:function(t){var i=this.css(t),s=[];return e.each(["em","px","%","pt"],function(e,t){i.indexOf(t)>0&&(s=[parseFloat(i),t])}),s}}),e.easing.jswing=e.easing.swing,e.extend(e.easing,{def:"easeOutQuad",swing:function(t,i,s,n,a){return e.easing[e.easing.def](t,i,s,n,a)},easeInQuad:function(e,t,i,s,n){return s*(t/=n)*t+i},easeOutQuad:function(e,t,i,s,n){return-s*(t/=n)*(t-2)+i},easeInOutQuad:function(e,t,i,s,n){return(t/=n/2)<1?s/2*t*t+i:-s/2*(--t*(t-2)-1)+i},easeInCubic:function(e,t,i,s,n){return s*(t/=n)*t*t+i},easeOutCubic:function(e,t,i,s,n){return s*((t=t/n-1)*t*t+1)+i},easeInOutCubic:function(e,t,i,s,n){return(t/=n/2)<1?s/2*t*t*t+i:s/2*((t-=2)*t*t+2)+i},easeInQuart:function(e,t,i,s,n){return s*(t/=n)*t*t*t+i},easeOutQuart:function(e,t,i,s,n){return-s*((t=t/n-1)*t*t*t-1)+i},easeInOutQuart:function(e,t,i,s,n){return(t/=n/2)<1?s/2*t*t*t*t+i:-s/2*((t-=2)*t*t*t-2)+i},easeInQuint:function(e,t,i,s,n){return s*(t/=n)*t*t*t*t+i},easeOutQuint:function(e,t,i,s,n){return s*((t=t/n-1)*t*t*t*t+1)+i},easeInOutQuint:function(e,t,i,s,n){return(t/=n/2)<1?s/2*t*t*t*t*t+i:s/2*((t-=2)*t*t*t*t+2)+i},easeInSine:function(e,t,i,s,n){return-s*Math.cos(t/n*(Math.PI/2))+s+i},easeOutSine:function(e,t,i,s,n){return s*Math.sin(t/n*(Math.PI/2))+i},easeInOutSine:function(e,t,i,s,n){return-s/2*(Math.cos(Math.PI*t/n)-1)+i},easeInExpo:function(e,t,i,s,n){return 0==t?i:s*Math.pow(2,10*(t/n-1))+i},easeOutExpo:function(e,t,i,s,n){return t==n?i+s:s*(1-Math.pow(2,-10*t/n))+i},easeInOutExpo:function(e,t,i,s,n){return 0==t?i:t==n?i+s:(t/=n/2)<1?s/2*Math.pow(2,10*(t-1))+i:s/2*(2-Math.pow(2,-10*--t))+i},easeInCirc:function(e,t,i,s,n){return-s*(Math.sqrt(1-(t/=n)*t)-1)+i},easeOutCirc:function(e,t,i,s,n){return s*Math.sqrt(1-(t=t/n-1)*t)+i},easeInOutCirc:function(e,t,i,s,n){return(t/=n/2)<1?-s/2*(Math.sqrt(1-t*t)-1)+i:s/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInElastic:function(e,t,i,s,n){e=1.70158;var a=0,r=s;return 0==t?i:1==(t/=n)?i+s:(a||(a=.3*n),r<Math.abs(s)?(r=s,e=a/4):e=a/(2*Math.PI)*Math.asin(s/r),-r*Math.pow(2,10*(t-=1))*Math.sin(2*(t*n-e)*Math.PI/a)+i)},easeOutElastic:function(e,t,i,s,n){e=1.70158;var a=0,r=s;return 0==t?i:1==(t/=n)?i+s:(a||(a=.3*n),r<Math.abs(s)?(r=s,e=a/4):e=a/(2*Math.PI)*Math.asin(s/r),r*Math.pow(2,-10*t)*Math.sin(2*(t*n-e)*Math.PI/a)+s+i)},easeInOutElastic:function(e,t,i,s,n){e=1.70158;var a=0,r=s;return 0==t?i:2==(t/=n/2)?i+s:(a||(a=.3*n*1.5),r<Math.abs(s)?(r=s,e=a/4):e=a/(2*Math.PI)*Math.asin(s/r),t<1?-.5*r*Math.pow(2,10*(t-=1))*Math.sin(2*(t*n-e)*Math.PI/a)+i:r*Math.pow(2,-10*(t-=1))*Math.sin(2*(t*n-e)*Math.PI/a)*.5+s+i)},easeInBack:function(e,i,s,n,a,r){return r==t&&(r=1.70158),n*(i/=a)*i*((r+1)*i-r)+s},easeOutBack:function(e,i,s,n,a,r){return r==t&&(r=1.70158),n*((i=i/a-1)*i*((r+1)*i+r)+1)+s},easeInOutBack:function(e,i,s,n,a,r){return r==t&&(r=1.70158),(i/=a/2)<1?n/2*i*i*((1+(r*=1.525))*i-r)+s:n/2*((i-=2)*i*((1+(r*=1.525))*i+r)+2)+s},easeInBounce:function(t,i,s,n,a){return n-e.easing.easeOutBounce(t,a-i,0,n,a)+s},easeOutBounce:function(e,t,i,s,n){return(t/=n)<1/2.75?7.5625*s*t*t+i:t<2/2.75?s*(7.5625*(t-=1.5/2.75)*t+.75)+i:t<2.5/2.75?s*(7.5625*(t-=2.25/2.75)*t+.9375)+i:s*(7.5625*(t-=2.625/2.75)*t+.984375)+i},easeInOutBounce:function(t,i,s,n,a){return i<a/2?.5*e.easing.easeInBounce(t,2*i,0,n,a)+s:.5*e.easing.easeOutBounce(t,2*i-a,0,n,a)+.5*n+s}})}(jQuery),function(e){e.effects.blind=function(t){return this.queue(function(){var i=e(this),s=["position","top","bottom","left","right"],n=e.effects.setMode(i,t.options.mode||"hide"),a=t.options.direction||"vertical";e.effects.save(i,s),i.show();var r=e.effects.createWrapper(i).css({overflow:"hidden"}),o="vertical"==a?"height":"width";a="vertical"==a?r.height():r.width(),"show"==n&&r.css(o,0);var l={};l[o]="show"==n?a:0,r.animate(l,t.duration,t.options.easing,function(){"hide"==n&&i.hide(),e.effects.restore(i,s),e.effects.removeWrapper(i),t.callback&&t.callback.apply(i[0],arguments),i.dequeue()})})}}(jQuery),function(e){e.effects.bounce=function(t){return this.queue(function(){var i=e(this),s=["position","top","bottom","left","right"],n=e.effects.setMode(i,t.options.mode||"effect"),a=t.options.direction||"up",r=t.options.distance||20,o=t.options.times||5,l=t.duration||250;/show|hide/.test(n)&&s.push("opacity"),e.effects.save(i,s),i.show(),e.effects.createWrapper(i);var d="up"==a||"down"==a?"top":"left";if(a="up"==a||"left"==a?"pos":"neg",r=t.options.distance||("top"==d?i.outerHeight({margin:!0})/3:i.outerWidth({margin:!0})/3),"show"==n&&i.css("opacity",0).css(d,"pos"==a?-r:r),"hide"==n&&(r/=2*o),"hide"!=n&&o--,"show"==n){var c={opacity:1};c[d]=("pos"==a?"+=":"-=")+r,i.animate(c,l/2,t.options.easing),r/=2,o--}for(c=0;c<o;c++){var h={},u={};h[d]=("pos"==a?"-=":"+=")+r,u[d]=("pos"==a?"+=":"-=")+r,i.animate(h,l/2,t.options.easing).animate(u,l/2,t.options.easing),r="hide"==n?2*r:r/2}"hide"==n?((c={opacity:0})[d]=("pos"==a?"-=":"+=")+r,i.animate(c,l/2,t.options.easing,function(){i.hide(),e.effects.restore(i,s),e.effects.removeWrapper(i),t.callback&&t.callback.apply(this,arguments)})):(u={},(h={})[d]=("pos"==a?"-=":"+=")+r,u[d]=("pos"==a?"+=":"-=")+r,i.animate(h,l/2,t.options.easing).animate(u,l/2,t.options.easing,function(){e.effects.restore(i,s),e.effects.removeWrapper(i),t.callback&&t.callback.apply(this,arguments)})),i.queue("fx",function(){i.dequeue()}),i.dequeue()})}}(jQuery),function(e){e.effects.clip=function(t){return this.queue(function(){var i=e(this),s=["position","top","bottom","left","right","height","width"],n=e.effects.setMode(i,t.options.mode||"hide"),a=t.options.direction||"vertical";e.effects.save(i,s),i.show();var r=e.effects.createWrapper(i).css({overflow:"hidden"});r="IMG"==i[0].tagName?r:i;var o={size:"vertical"==a?"height":"width",position:"vertical"==a?"top":"left"};a="vertical"==a?r.height():r.width(),"show"==n&&(r.css(o.size,0),r.css(o.position,a/2));var l={};l[o.size]="show"==n?a:0,l[o.position]="show"==n?0:a/2,r.animate(l,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){"hide"==n&&i.hide(),e.effects.restore(i,s),e.effects.removeWrapper(i),t.callback&&t.callback.apply(i[0],arguments),i.dequeue()}})})}}(jQuery),function(e){e.effects.drop=function(t){return this.queue(function(){var i=e(this),s=["position","top","bottom","left","right","opacity"],n=e.effects.setMode(i,t.options.mode||"hide"),a=t.options.direction||"left";e.effects.save(i,s),i.show(),e.effects.createWrapper(i);var r="up"==a||"down"==a?"top":"left";a="up"==a||"left"==a?"pos":"neg";var o=t.options.distance||("top"==r?i.outerHeight({margin:!0})/2:i.outerWidth({margin:!0})/2);"show"==n&&i.css("opacity",0).css(r,"pos"==a?-o:o);var l={opacity:"show"==n?1:0};l[r]=("show"==n?"pos"==a?"+=":"-=":"pos"==a?"-=":"+=")+o,i.animate(l,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){"hide"==n&&i.hide(),e.effects.restore(i,s),e.effects.removeWrapper(i),t.callback&&t.callback.apply(this,arguments),i.dequeue()}})})}}(jQuery),function(e){e.effects.explode=function(t){return this.queue(function(){var i=t.options.pieces?Math.round(Math.sqrt(t.options.pieces)):3,s=t.options.pieces?Math.round(Math.sqrt(t.options.pieces)):3;t.options.mode="toggle"==t.options.mode?e(this).is(":visible")?"hide":"show":t.options.mode;var n=e(this).show().css("visibility","hidden"),a=n.offset();a.top-=parseInt(n.css("marginTop"),10)||0,a.left-=parseInt(n.css("marginLeft"),10)||0;for(var r=n.outerWidth(!0),o=n.outerHeight(!0),l=0;l<i;l++)for(var d=0;d<s;d++)n.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:r/s*-d,top:o/i*-l}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:r/s,height:o/i,left:a.left+d*(r/s)+("show"==t.options.mode?(d-Math.floor(s/2))*(r/s):0),top:a.top+l*(o/i)+("show"==t.options.mode?(l-Math.floor(i/2))*(o/i):0),opacity:"show"==t.options.mode?0:1}).animate({left:a.left+d*(r/s)+("show"==t.options.mode?0:(d-Math.floor(s/2))*(r/s)),top:a.top+l*(o/i)+("show"==t.options.mode?0:(l-Math.floor(i/2))*(o/i)),opacity:"show"==t.options.mode?1:0},t.duration||500);setTimeout(function(){"show"==t.options.mode?n.css({visibility:"visible"}):n.css({visibility:"visible"}).hide(),t.callback&&t.callback.apply(n[0]),n.dequeue(),e("div.ui-effects-explode").remove()},t.duration||500)})}}(jQuery),function(e){e.effects.fade=function(t){return this.queue(function(){var i=e(this),s=e.effects.setMode(i,t.options.mode||"hide");i.animate({opacity:s},{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){t.callback&&t.callback.apply(this,arguments),i.dequeue()}})})}}(jQuery),function(e){e.effects.fold=function(t){return this.queue(function(){var i=e(this),s=["position","top","bottom","left","right"],n=e.effects.setMode(i,t.options.mode||"hide"),a=t.options.size||15,r=!!t.options.horizFirst,o=t.duration?t.duration/2:e.fx.speeds._default/2;e.effects.save(i,s),i.show();var l=e.effects.createWrapper(i).css({overflow:"hidden"}),d="show"==n!=r,c=d?["width","height"]:["height","width"];d=d?[l.width(),l.height()]:[l.height(),l.width()];var h=/([0-9]+)%/.exec(a);h&&(a=parseInt(h[1],10)/100*d["hide"==n?0:1]),"show"==n&&l.css(r?{height:0,width:a}:{height:a,width:0}),h={},(r={})[c[0]]="show"==n?d[0]:a,h[c[1]]="show"==n?d[1]:0,l.animate(r,o,t.options.easing).animate(h,o,t.options.easing,function(){"hide"==n&&i.hide(),e.effects.restore(i,s),e.effects.removeWrapper(i),t.callback&&t.callback.apply(i[0],arguments),i.dequeue()})})}}(jQuery),function(e){e.effects.highlight=function(t){return this.queue(function(){var i=e(this),s=["backgroundImage","backgroundColor","opacity"],n=e.effects.setMode(i,t.options.mode||"show"),a={backgroundColor:i.css("backgroundColor")};"hide"==n&&(a.opacity=0),e.effects.save(i,s),i.show().css({backgroundImage:"none",backgroundColor:t.options.color||"#ffff99"}).animate(a,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){"hide"==n&&i.hide(),e.effects.restore(i,s),"show"==n&&!e.support.opacity&&this.style.removeAttribute("filter"),t.callback&&t.callback.apply(this,arguments),i.dequeue()}})})}}(jQuery),function(e){e.effects.pulsate=function(t){return this.queue(function(){var i=e(this),s=e.effects.setMode(i,t.options.mode||"show");for(times=2*(t.options.times||5)-1,duration=t.duration?t.duration/2:e.fx.speeds._default/2,isVisible=i.is(":visible"),animateTo=0,isVisible||(i.css("opacity",0).show(),animateTo=1),("hide"==s&&isVisible||"show"==s&&!isVisible)&&times--,s=0;s<times;s++)i.animate({opacity:animateTo},duration,t.options.easing),animateTo=(animateTo+1)%2;i.animate({opacity:animateTo},duration,t.options.easing,function(){0==animateTo&&i.hide(),t.callback&&t.callback.apply(this,arguments)}),i.queue("fx",function(){i.dequeue()}).dequeue()})}}(jQuery),function(e){e.effects.puff=function(t){return this.queue(function(){var i=e(this),s=e.effects.setMode(i,t.options.mode||"hide"),n=parseInt(t.options.percent,10)||150,a=n/100,r={height:i.height(),width:i.width()};e.extend(t.options,{fade:!0,mode:s,percent:"hide"==s?n:100,from:"hide"==s?r:{height:r.height*a,width:r.width*a}}),i.effect("scale",t.options,t.duration,t.callback),i.dequeue()})},e.effects.scale=function(t){return this.queue(function(){var i=e(this),s=e.extend(!0,{},t.options),n=e.effects.setMode(i,t.options.mode||"effect"),a=parseInt(t.options.percent,10)||(0==parseInt(t.options.percent,10)?0:"hide"==n?0:100),r=t.options.direction||"both",o=t.options.origin;"effect"!=n&&(s.origin=o||["middle","center"],s.restore=!0),o={height:i.height(),width:i.width()},i.from=t.options.from||("show"==n?{height:0,width:0}:o),a={y:"horizontal"!=r?a/100:1,x:"vertical"!=r?a/100:1},i.to={height:o.height*a.y,width:o.width*a.x},t.options.fade&&("show"==n&&(i.from.opacity=0,i.to.opacity=1),"hide"==n&&(i.from.opacity=1,i.to.opacity=0)),s.from=i.from,s.to=i.to,s.mode=n,i.effect("size",s,t.duration,t.callback),i.dequeue()})},e.effects.size=function(t){return this.queue(function(){var i=e(this),s=["position","top","bottom","left","right","width","height","overflow","opacity"],n=["position","top","bottom","left","right","overflow","opacity"],a=["width","height","overflow"],r=["fontSize"],o=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],l=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],d=e.effects.setMode(i,t.options.mode||"effect"),c=t.options.restore||!1,h=t.options.scale||"both",u=t.options.origin,p={height:i.height(),width:i.width()};i.from=t.options.from||p,i.to=t.options.to||p,u&&(u=e.effects.getBaseline(u,p),i.from.top=(p.height-i.from.height)*u.y,i.from.left=(p.width-i.from.width)*u.x,i.to.top=(p.height-i.to.height)*u.y,i.to.left=(p.width-i.to.width)*u.x);var f={from:{y:i.from.height/p.height,x:i.from.width/p.width},to:{y:i.to.height/p.height,x:i.to.width/p.width}};"box"!=h&&"both"!=h||(f.from.y!=f.to.y&&(s=s.concat(o),i.from=e.effects.setTransition(i,o,f.from.y,i.from),i.to=e.effects.setTransition(i,o,f.to.y,i.to)),f.from.x!=f.to.x&&(s=s.concat(l),i.from=e.effects.setTransition(i,l,f.from.x,i.from),i.to=e.effects.setTransition(i,l,f.to.x,i.to))),"content"!=h&&"both"!=h||f.from.y!=f.to.y&&(s=s.concat(r),i.from=e.effects.setTransition(i,r,f.from.y,i.from),i.to=e.effects.setTransition(i,r,f.to.y,i.to)),e.effects.save(i,c?s:n),i.show(),e.effects.createWrapper(i),i.css("overflow","hidden").css(i.from),"content"!=h&&"both"!=h||(o=o.concat(["marginTop","marginBottom"]).concat(r),l=l.concat(["marginLeft","marginRight"]),a=s.concat(o).concat(l),i.find("*[width]").each(function(){child=e(this),c&&e.effects.save(child,a);var i=child.height(),s=child.width();child.from={height:i*f.from.y,width:s*f.from.x},child.to={height:i*f.to.y,width:s*f.to.x},f.from.y!=f.to.y&&(child.from=e.effects.setTransition(child,o,f.from.y,child.from),child.to=e.effects.setTransition(child,o,f.to.y,child.to)),f.from.x!=f.to.x&&(child.from=e.effects.setTransition(child,l,f.from.x,child.from),child.to=e.effects.setTransition(child,l,f.to.x,child.to)),child.css(child.from),child.animate(child.to,t.duration,t.options.easing,function(){c&&e.effects.restore(child,a)})})),i.animate(i.to,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){0===i.to.opacity&&i.css("opacity",i.from.opacity),"hide"==d&&i.hide(),e.effects.restore(i,c?s:n),e.effects.removeWrapper(i),t.callback&&t.callback.apply(this,arguments),i.dequeue()}})})}}(jQuery),function(e){e.effects.shake=function(t){return this.queue(function(){var i=e(this),s=["position","top","bottom","left","right"];e.effects.setMode(i,t.options.mode||"effect");var n=t.options.direction||"left",a=t.options.distance||20,r=t.options.times||3,o=t.duration||t.options.duration||140;e.effects.save(i,s),i.show(),e.effects.createWrapper(i);var l="up"==n||"down"==n?"top":"left",d="up"==n||"left"==n?"pos":"neg",c={},h={};for((n={})[l]=("pos"==d?"-=":"+=")+a,c[l]=("pos"==d?"+=":"-=")+2*a,h[l]=("pos"==d?"-=":"+=")+2*a,i.animate(n,o,t.options.easing),a=1;a<r;a++)i.animate(c,o,t.options.easing).animate(h,o,t.options.easing);i.animate(c,o,t.options.easing).animate(n,o/2,t.options.easing,function(){e.effects.restore(i,s),e.effects.removeWrapper(i),t.callback&&t.callback.apply(this,arguments)}),i.queue("fx",function(){i.dequeue()}),i.dequeue()})}}(jQuery),function(e){e.effects.slide=function(t){return this.queue(function(){var i=e(this),s=["position","top","bottom","left","right"],n=e.effects.setMode(i,t.options.mode||"show"),a=t.options.direction||"left";e.effects.save(i,s),i.show(),e.effects.createWrapper(i).css({overflow:"hidden"});var r="up"==a||"down"==a?"top":"left";a="up"==a||"left"==a?"pos":"neg";var o=t.options.distance||("top"==r?i.outerHeight({margin:!0}):i.outerWidth({margin:!0}));"show"==n&&i.css(r,"pos"==a?isNaN(o)?"-"+o:-o:o);var l={};l[r]=("show"==n?"pos"==a?"+=":"-=":"pos"==a?"-=":"+=")+o,i.animate(l,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){"hide"==n&&i.hide(),e.effects.restore(i,s),e.effects.removeWrapper(i),t.callback&&t.callback.apply(this,arguments),i.dequeue()}})})}}(jQuery),function(e){e.effects.transfer=function(t){return this.queue(function(){var i=e(this),s=e(t.options.to),n=s.offset();s={top:n.top,left:n.left,height:s.innerHeight(),width:s.innerWidth()},n=i.offset();var a=e('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(t.options.className).css({top:n.top,left:n.left,height:i.innerHeight(),width:i.innerWidth(),position:"absolute"}).animate(s,t.duration,t.options.easing,function(){a.remove(),t.callback&&t.callback.apply(i[0],arguments),i.dequeue()})})}}(jQuery),function(e){e.widget("ui.selectmenu",{getter:"value",version:"1.8",eventPrefix:"selectmenu",options:{transferClasses:!0,typeAhead:"sequential",style:"dropdown",positionOptions:{my:"left top",at:"left bottom",offset:null},width:null,menuWidth:null,handleWidth:26,maxHeight:null,icons:null,format:null,bgImage:function(){},wrapperElement:""},_create:function(){var t=this,i=this.options,s=this.element.attr("id")||"ui-selectmenu-"+Math.random().toString(16).slice(2,10);this.ids=[s+"-button",s+"-menu"],this._safemouseup=!0,e.browser.msie&&(i.typeAhead=""),this.newelement=e('<a class="'+this.widgetBaseClass+' ui-widget ui-state-default ui-corner-all" id="'+this.ids[0]+'" role="button" href="#" tabindex="0" aria-haspopup="true" aria-owns="'+this.ids[1]+'"></a>').insertAfter(this.element),this.newelement.wrap(i.wrapperElement);var n=this.element.attr("tabindex");n&&this.newelement.attr("tabindex",n),this.newelement.data("selectelement",this.element),this.selectmenuIcon=e('<span class="'+this.widgetBaseClass+'-icon ui-icon"></span>').prependTo(this.newelement),this.newelement.prepend('<span class="'+t.widgetBaseClass+'-status" />'),e('label[for="'+this.element.attr("id")+'"]').attr("for",this.ids[0]).bind("click.selectmenu",function(){return t.newelement[0].focus(),!1}),this.newelement.bind("mousedown.selectmenu",function(e){return t._toggle(e,!0),"popup"==i.style&&(t._safemouseup=!1,setTimeout(function(){t._safemouseup=!0},300)),!1}).bind("click.selectmenu",function(){return!1}).bind("keydown.selectmenu",function(i){var s=!1;switch(i.keyCode){case e.ui.keyCode.ENTER:s=!0;break;case e.ui.keyCode.SPACE:t._toggle(i);break;case e.ui.keyCode.UP:i.altKey?t.open(i):t._moveSelection(-1);break;case e.ui.keyCode.DOWN:i.altKey?t.open(i):t._moveSelection(1);break;case e.ui.keyCode.LEFT:t._moveSelection(-1);break;case e.ui.keyCode.RIGHT:t._moveSelection(1);break;case e.ui.keyCode.TAB:s=!0;break;default:s=!0,t._typeAhead(i.keyCode,"mouseup")}return s}).bind("mouseover.selectmenu focus.selectmenu",function(){i.disabled||e(this).addClass(t.widgetBaseClass+"-focus ui-state-hover")}).bind("mouseout.selectmenu blur.selectmenu",function(){i.disabled||e(this).removeClass(t.widgetBaseClass+"-focus ui-state-hover")}),e(document).bind("mousedown.selectmenu",function(e){t.close(e)}),this.element.bind("click.selectmenu",function(){t._refreshValue()}).bind("focus.selectmenu",function(){t.newelement&&t.newelement[0].focus()});var a=this.element.width();this.newelement.width(i.width?i.width:a),this.element.hide(),this.list=e('<ul class="'+t.widgetBaseClass+'-menu ui-widget ui-widget-content" aria-hidden="true" role="listbox" aria-labelledby="'+this.ids[0]+'" id="'+this.ids[1]+'"></ul>').appendTo("body"),this.list.wrap(i.wrapperElement),this.list.bind("keydown.selectmenu",function(i){var s=!1;switch(i.keyCode){case e.ui.keyCode.UP:i.altKey?t.close(i,!0):t._moveFocus(-1);break;case e.ui.keyCode.DOWN:i.altKey?t.close(i,!0):t._moveFocus(1);break;case e.ui.keyCode.LEFT:t._moveFocus(-1);break;case e.ui.keyCode.RIGHT:t._moveFocus(1);break;case e.ui.keyCode.HOME:t._moveFocus(":first");break;case e.ui.keyCode.PAGE_UP:t._scrollPage("up");break;case e.ui.keyCode.PAGE_DOWN:t._scrollPage("down");break;case e.ui.keyCode.END:t._moveFocus(":last");break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:t.close(i,!0),e(i.target).parents("li:eq(0)").trigger("mouseup");break;case e.ui.keyCode.TAB:s=!0,t.close(i,!0),e(i.target).parents("li:eq(0)").trigger("mouseup");break;case e.ui.keyCode.ESCAPE:t.close(i,!0);break;default:s=!0,t._typeAhead(i.keyCode,"focus")}return s}),e(window).bind("resize.selectmenu",e.proxy(t._refreshPosition,this))},_init:function(){var t=this,i=this.options,s=[];this.element.find("option").each(function(){s.push({value:e(this).attr("value"),text:t._formatText(e(this).text()),selected:e(this).attr("selected"),disabled:e(this).attr("disabled"),classes:e(this).attr("class"),typeahead:e(this).attr("typeahead"),parentOptGroup:e(this).parent("optgroup"),bgImage:i.bgImage.call(e(this))})});var n="popup"==t.options.style?" ui-state-active":"";this.list.html("");for(var a=0;a<s.length;a++){var r=e('<li role="presentation"'+(s[a].disabled?' class="'+this.namespace+'-state-disabled"':"")+'><a href="#" tabindex="-1" role="option"'+(s[a].disabled?' aria-disabled="true"':"")+' aria-selected="false"'+(s[a].typeahead?' typeahead="'+s[a].typeahead+'"':"")+">"+s[a].text+"</a></li>").data("index",a).addClass(s[a].classes).data("optionClasses",s[a].classes||"").bind("mouseup.selectmenu",function(i){if(t._safemouseup&&!t._disabled(i.currentTarget)&&!t._disabled(e(i.currentTarget).parents("ul>li."+t.widgetBaseClass+"-group "))){var s=e(this).data("index")!=t._selectedIndex();t.index(e(this).data("index")),t.select(i),s&&t.change(i),t.close(i,!0)}return!1}).bind("click.selectmenu",function(){return!1}).bind("mouseover.selectmenu focus.selectmenu",function(i){e(i.currentTarget).hasClass(t.namespace+"-state-disabled")||(t._selectedOptionLi().addClass(n),t._focusedOptionLi().removeClass(t.widgetBaseClass+"-item-focus ui-state-hover"),e(this).removeClass("ui-state-active").addClass(t.widgetBaseClass+"-item-focus ui-state-hover"))}).bind("mouseout.selectmenu blur.selectmenu",function(){e(this).is(t._selectedOptionLi().selector)&&e(this).addClass(n),e(this).removeClass(t.widgetBaseClass+"-item-focus ui-state-hover")});if(s[a].parentOptGroup.length){var o=t.widgetBaseClass+"-group-"+this.element.find("optgroup").index(s[a].parentOptGroup);this.list.find("li."+o).length?this.list.find("li."+o+":last ul").append(r):e(' <li role="presentation" class="'+t.widgetBaseClass+"-group "+o+(s[a].parentOptGroup.attr("disabled")?" "+this.namespace+'-state-disabled" aria-disabled="true"':'"')+'><span class="'+t.widgetBaseClass+'-group-label">'+s[a].parentOptGroup.attr("label")+"</span><ul></ul></li> ").appendTo(this.list).find("ul").append(r)}else r.appendTo(this.list);if(this.list.bind("mousedown.selectmenu mouseup.selectmenu",function(){return!1}),i.icons)for(var l in i.icons)if(r.is(i.icons[l].find)){r.data("optionClasses",s[a].classes+" "+t.widgetBaseClass+"-hasIcon").addClass(t.widgetBaseClass+"-hasIcon");var d=i.icons[l].icon||"";r.find("a:eq(0)").prepend('<span class="'+t.widgetBaseClass+"-item-icon ui-icon "+d+'"></span>'),s[a].bgImage&&r.find("span").css("background-image",s[a].bgImage)}}var c="dropdown"==i.style;if(this.newelement.toggleClass(t.widgetBaseClass+"-dropdown",c).toggleClass(t.widgetBaseClass+"-popup",!c),this.list.toggleClass(t.widgetBaseClass+"-menu-dropdown ui-corner-bottom",c).toggleClass(t.widgetBaseClass+"-menu-popup ui-corner-all",!c).find("li:first").toggleClass("ui-corner-top",!c).end().find("li:last").addClass("ui-corner-bottom"),this.selectmenuIcon.toggleClass("ui-icon-triangle-1-s",c).toggleClass("ui-icon-triangle-2-n-s",!c),i.transferClasses){var h=this.element.attr("class")||"";this.newelement.add(this.list).addClass(h)}var u=this.element.width();"dropdown"==i.style?this.list.width(i.menuWidth?i.menuWidth:i.width?i.width:u):this.list.width(i.menuWidth?i.menuWidth:i.width?i.width-i.handleWidth:u-i.handleWidth),i.maxHeight?i.maxHeight<this.list.height()&&this.list.height(i.maxHeight):!i.format&&e(window).height()/3<this.list.height()&&(i.maxHeight=e(window).height()/3,this.list.height(i.maxHeight)),this._optionLis=this.list.find("li:not(."+t.widgetBaseClass+"-group)"),!0===this.element.attr("disabled")&&this.disable(),this.index(this._selectedIndex()),window.setTimeout(function(){t._refreshPosition()},200)},destroy:function(){this.element.removeData(this.widgetName).removeClass(this.widgetBaseClass+"-disabled "+this.namespace+"-state-disabled").removeAttr("aria-disabled").unbind(".selectmenu"),e(window).unbind(".selectmenu"),e(document).unbind(".selectmenu"),e("label[for="+this.newelement.attr("id")+"]").attr("for",this.element.attr("id")).unbind(".selectmenu"),this.options.wrapperElement?(this.newelement.find(this.options.wrapperElement).remove(),this.list.find(this.options.wrapperElement).remove()):(this.newelement.remove(),this.list.remove()),this.element.show(),e.Widget.prototype.destroy.apply(this,arguments)},_typeAhead:function(t,i){var s=this,n=!1,a=String.fromCharCode(t);if(c=a.toLowerCase(),"sequential"==s.options.typeAhead){window.clearTimeout("ui.selectmenu-"+s.selectmenuId);var r=void 0===s._prevChar?"":s._prevChar.join("");function o(t,a,r){n=!0,e(t).trigger(i),void 0===s._prevChar?s._prevChar=[r]:s._prevChar[s._prevChar.length]=r}this.list.find("li a").each(function(t){if(!n){var i=e(this).attr("typeahead")||e(this).text();0==i.indexOf(r+a)?o(this,0,a):0==i.indexOf(r+c)&&o(this,0,c)}}),window.setTimeout(function(e){e._prevChar=void 0},1e3,s)}else{s._prevChar||(s._prevChar=["",0]);n=!1;function l(t,a){n=!0,e(t).trigger(i),s._prevChar[1]=a}this.list.find("li a").each(function(t){if(!n){var i=e(this).text();0!=i.indexOf(a)&&0!=i.indexOf(c)||(s._prevChar[0]==a?s._prevChar[1]<t&&l(this,t):l(this,t))}}),this._prevChar[0]=a}},_uiHash:function(){var t=this.index();return{index:t,option:e("option",this.element).get(t),value:this.element[0].value}},open:function(e){"true"!=this.newelement.attr("aria-disabled")&&(this._closeOthers(e),this.newelement.addClass("ui-state-active"),this.options.wrapperElement?this.list.parent().appendTo("body"):this.list.appendTo("body"),this.list.addClass(this.widgetBaseClass+"-open").attr("aria-hidden",!1),this._refreshPosition(),this.list.find("li:not(."+this.widgetBaseClass+"-group):eq("+this._selectedIndex()+") a")[0].focus(),"dropdown"==this.options.style&&this.newelement.removeClass("ui-corner-all").addClass("ui-corner-top"),this._trigger("open",e,this._uiHash()))},close:function(e,t){this.newelement.is(".ui-state-active")&&(this.newelement.removeClass("ui-state-active"),this.list.attr("aria-hidden",!0).removeClass(this.widgetBaseClass+"-open"),"dropdown"==this.options.style&&this.newelement.removeClass("ui-corner-top").addClass("ui-corner-all"),t&&this.newelement.focus(),this._trigger("close",e,this._uiHash()))},change:function(e){this.element.trigger("change"),this._trigger("change",e,this._uiHash())},select:function(e){this._trigger("select",e,this._uiHash())},_closeOthers:function(t){e("."+this.widgetBaseClass+".ui-state-active").not(this.newelement).each(function(){e(this).data("selectelement").selectmenu("close",t)}),e("."+this.widgetBaseClass+".ui-state-hover").trigger("mouseout")},_toggle:function(e,t){this.list.is("."+this.widgetBaseClass+"-open")?this.close(e,t):this.open(e)},_formatText:function(e){return this.options.format?this.options.format(e):e},_selectedIndex:function(){return this.element[0].selectedIndex},_selectedOptionLi:function(){return this._optionLis.eq(this._selectedIndex())},_focusedOptionLi:function(){return this.list.find("."+this.widgetBaseClass+"-item-focus")},_moveSelection:function(e){var t=parseInt(this._selectedOptionLi().data("index"),10)+e;if(t>=0)return this._optionLis.eq(t).trigger("mouseup")},_moveFocus:function(e){if(isNaN(e))t=parseInt(this._optionLis.filter(e).data("index"),10);else var t=parseInt(this._focusedOptionLi().data("index")||0,10)+e;t<0&&(t=0),t>this._optionLis.size()-1&&(t=this._optionLis.size()-1);var i=this.widgetBaseClass+"-item-"+Math.round(1e3*Math.random());this._focusedOptionLi().find("a:eq(0)").attr("id",""),this._optionLis.eq(t).hasClass(this.namespace+"-state-disabled")?(e>0?e++:e--,this._moveFocus(e,t)):this._optionLis.eq(t).find("a:eq(0)").attr("id",i).focus(),this.list.attr("aria-activedescendant",i)},_scrollPage:function(e){var t=Math.floor(this.list.outerHeight()/this.list.find("li:first").outerHeight());t="up"==e?-t:t,this._moveFocus(t)},_setOption:function(e,t){this.options[e]=t,"disabled"==e&&(this.close(),this.element.add(this.newelement).add(this.list)[t?"addClass":"removeClass"](this.widgetBaseClass+"-disabled "+this.namespace+"-state-disabled").attr("aria-disabled",t))},disable:function(e,t){void 0===e?this._setOption("disabled",!0):"optgroup"==t?this._disableOptgroup(e):this._disableOption(e)},enable:function(e,t){void 0===e?this._setOption("disabled",!1):"optgroup"==t?this._enableOptgroup(e):this._enableOption(e)},_disabled:function(t){return e(t).hasClass(this.namespace+"-state-disabled")},_disableOption:function(e){var t=this._optionLis.eq(e);t&&(t.addClass(this.namespace+"-state-disabled").find("a").attr("aria-disabled",!0),this.element.find("option").eq(e).attr("disabled","disabled"))},_enableOption:function(e){var t=this._optionLis.eq(e);t&&(t.removeClass(this.namespace+"-state-disabled").find("a").attr("aria-disabled",!1),this.element.find("option").eq(e).removeAttr("disabled"))},_disableOptgroup:function(e){var t=this.list.find("li."+this.widgetBaseClass+"-group-"+e);t&&(t.addClass(this.namespace+"-state-disabled").attr("aria-disabled",!0),this.element.find("optgroup").eq(e).attr("disabled","disabled"))},_enableOptgroup:function(e){var t=this.list.find("li."+this.widgetBaseClass+"-group-"+e);t&&(t.removeClass(this.namespace+"-state-disabled").attr("aria-disabled",!1),this.element.find("optgroup").eq(e).removeAttr("disabled"))},index:function(t){return arguments.length?!this._disabled(e(this._optionLis[t]))&&(this.element[0].selectedIndex=t,void this._refreshValue()):this._selectedIndex()},value:function(e){if(!arguments.length)return this.element[0].value;this.element[0].value=e,this._refreshValue()},_refreshValue:function(){var e="popup"==this.options.style?" ui-state-active":"",t=this.widgetBaseClass+"-item-"+Math.round(1e3*Math.random());this.list.find("."+this.widgetBaseClass+"-item-selected").removeClass(this.widgetBaseClass+"-item-selected"+e).find("a").attr("aria-selected","false").attr("id",""),this._selectedOptionLi().addClass(this.widgetBaseClass+"-item-selected"+e).find("a").attr("aria-selected","true").attr("id",t);var i=this.newelement.data("optionClasses")?this.newelement.data("optionClasses"):"",s=this._selectedOptionLi().data("optionClasses")?this._selectedOptionLi().data("optionClasses"):"";this.newelement.removeClass(i).data("optionClasses",s).addClass(s).find("."+this.widgetBaseClass+"-status").html(this._selectedOptionLi().find("a:eq(0)").html()),this.list.attr("aria-activedescendant",t)},_refreshPosition:function(){var e=this.options;if("popup"==e.style&&!e.positionOptions.offset)var t=this._selectedOptionLi(),i="0 -"+(t.outerHeight()+t.offset().top-this.list.offset().top);this.list.css({zIndex:this.element.zIndex()}).position({of:e.positionOptions.of||this.newelement,my:e.positionOptions.my,at:e.positionOptions.at,offset:e.positionOptions.offset||i})}})}(jQuery),function(e){if(e.fn.simpledraw=function(t,i,s){return s&&this[0].vcanvas?this[0].vcanvas:(null==t&&(t=e(this).innerWidth()),null==i&&(i=e(this).innerHeight()),e.browser.hasCanvas?new n(t,i,this):!!e.browser.msie&&new a(t,i,this))},e.fn.sparkline=function(t,i){i=e.extend({type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:!1},i||{});return this.each(function(){var s="html"==t||null==t?e(this).text().split(","):t,n="auto"==i.width?s.length*i.defaultPixelsPerValue:i.width;if("auto"==i.height){var a=document.createElement("span");a.innerHTML="a",e(this).append(a),height=e(a).innerHeight(),e(a).remove()}else height=i.height;e.fn.sparkline[i.type].call(this,s,i,n,height)})},e.fn.sparkline.line=function(t,i,s,n){i=e.extend({spotColor:"#f80",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",normalRangeMin:void 0,normalRangeMax:void 0,normalRangeColor:"#ccc",chartRangeMin:void 0,chartRangeMax:void 0},i||{});var a=[],r=[];for(D=0;D<t.length;D++){var o="string"==typeof t[D],l="object"==typeof t[D]&&t[D]instanceof Array,d=o&&t[D].split(":");o&&2==d.length?(a.push(Number(d[0])),r.push(Number(d[1]))):l?(a.push(t[D][0]),r.push(t[D][1])):(a.push(D),r.push(Number(t[D])))}i.xvalues&&(a=i.xvalues);var c=Math.max.apply(Math,r),h=c,u=Math.min.apply(Math,r),p=u,f=Math.max.apply(Math,a),g=Math.min.apply(Math,a);null!=i.normalRangeMin&&(i.normalRangeMin<u&&(u=i.normalRangeMin),i.normalRangeMax>c&&(c=i.normalRangeMax)),null!=i.chartRangeMin&&i.chartRangeMin<u&&(u=i.chartRangeMin),null!=i.chartRangeMax&&i.chartRangeMax>c&&(c=i.chartRangeMax);var m=f-g==0?1:f-g,v=c-u==0?1:c-u,b=r.length-1;if(b<1)this.innerHTML="";else{var y=e(this).simpledraw(s,n,i.composite);if(y){var w=y.pixel_width,x=y.pixel_height,_=0,C=0;if(i.spotRadius&&(w<4*i.spotRadius||x<4*i.spotRadius)&&(i.spotRadius=0),i.spotRadius&&((i.minSpotColor||i.spotColor&&r[b]==u)&&(x-=Math.ceil(i.spotRadius)),(i.maxSpotColor||i.spotColor&&r[b]==c)&&(x-=Math.ceil(i.spotRadius),_+=Math.ceil(i.spotRadius)),(i.minSpotColor||i.maxSpotColor&&(r[0]==u||r[0]==c))&&(C+=Math.ceil(i.spotRadius),w-=Math.ceil(i.spotRadius)),(i.spotColor||i.minSpotColor||i.maxSpotColor&&(r[b]==u||r[b]==c))&&(w-=Math.ceil(i.spotRadius))),x--,null!=i.normalRangeMin){var k=_+Math.round(x-x*((i.normalRangeMax-u)/v));n=Math.round(x*(i.normalRangeMax-i.normalRangeMin)/v);y.drawRect(C,k,w,n,void 0,i.normalRangeColor)}for(var j=[[C,_+x]],D=0;D<r.length;D++){var M=a[D],T=r[D];j.push([C+Math.round(w/m*(M-g)),_+Math.round(x-x*((T-u)/v))])}if(i.fillColor&&(j.push([C+w,_+x-1]),y.drawShape(j,void 0,i.fillColor),j.pop()),j[0]=[C,_+Math.round(x-x*((r[0]-u)/v))],y.drawShape(j,i.lineColor),i.spotRadius&&i.spotColor&&y.drawCircle(C+w,_+Math.round(x-x*((r[b]-u)/v)),i.spotRadius,void 0,i.spotColor),c!=p){if(i.spotRadius&&i.minSpotColor){M=a[r.indexOf(p)];y.drawCircle(C+Math.round(w/m*(M-g)),_+Math.round(x-x*((p-u)/v)),i.spotRadius,void 0,i.minSpotColor)}if(i.spotRadius&&i.maxSpotColor){M=a[r.indexOf(h)];y.drawCircle(C+Math.round(w/m*(M-g)),_+Math.round(x-x*((h-u)/v)),i.spotRadius,void 0,i.maxSpotColor)}}}else this.innerHTML=""}},e.fn.sparkline.bar=function(t,i,s,n){t=e.map(t,Number);i=e.extend({type:"bar",barColor:"#00f",negBarColor:"#f44",zeroColor:void 0,zeroAxis:void 0,barWidth:4,barSpacing:1,chartRangeMax:void 0,chartRangeMin:void 0},i||{}),s=t.length*i.barWidth+(t.length-1)*i.barSpacing;var a=Math.max.apply(Math,t),r=Math.min.apply(Math,t);null!=i.chartRangeMin&&i.chartRangeMin<r&&(r=i.chartRangeMin),null!=i.chartRangeMax&&i.chartRangeMax>a&&(a=i.chartRangeMax),null==i.zeroAxis&&(i.zeroAxis=r<0);var o=a-r+1,l=e(this).simpledraw(s,n);if(l){l.pixel_width;for(var d=l.pixel_height,c=r<0&&i.zeroAxis?d-Math.round(d*(Math.abs(r)/o))-1:d-1,h=0;h<t.length;h++){var u=h*(i.barWidth+i.barSpacing),p=t[h],f=p<0?i.negBarColor:i.barColor;if(i.zeroAxis&&r<0){n=Math.round(d*(Math.abs(p)/o))+1;var g=p<0?c:c-n}else g=d-(n=Math.round(d*((p-r)/o))+1);0==p&&null!=i.zeroColor&&(f=i.zeroColor),e.browser.msie?l.drawRect(u,g,i.barWidth-1,n-1,f,f):l.drawRect(u,g,i.barWidth,n,void 0,f)}}else this.innerHTML=""},e.fn.sparkline.tristate=function(t,i,s,n){t=e.map(t,Number);i=e.extend({barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{}},i),s=t.length*i.barWidth+(t.length-1)*i.barSpacing;var a=e(this).simpledraw(s,n);if(a){a.pixel_width;for(var r=a.pixel_height,o=Math.round(r/2),l=0;l<t.length;l++){var d=l*(i.barWidth+i.barSpacing);if(t[l]<0)var c=o,h=(n=o-1,i.negBarColor);else if(t[l]>0)c=0,n=o-1,h=i.posBarColor;else c=o-1,n=2,h=i.zeroBarColor;i.colorMap[t[l]]&&(h=i.colorMap[t[l]]),e.browser.msie?a.drawRect(d,c,i.barWidth-1,n-1,h,h):a.drawRect(d,c,i.barWidth,n,void 0,h)}}else this.innerHTML=""},e.fn.sparkline.discrete=function(t,i,s,n){t=e.map(t,Number),s="auto"==(i=e.extend({lineHeight:"auto",thresholdColor:void 0,thresholdValue:0,chartRangeMax:void 0,chartRangeMin:void 0},i)).width?2*t.length:s;var a=Math.floor(s/t.length),r=e(this).simpledraw(s,n);if(r){r.pixel_width;var o=r.pixel_height,l="auto"==i.lineHeight?Math.round(.3*o):i.lineHeight,d=o-l,c=Math.min.apply(Math,t),h=Math.max.apply(Math,t);null!=i.chartRangeMin&&i.chartRangeMin<c&&(c=i.chartRangeMin),null!=i.chartRangeMax&&i.chartRangeMax>h&&(h=i.chartRangeMax);for(var u=h-c,p=0;p<t.length;p++){var f=t[p],g=p*a,m=Math.round(d-d*((f-c)/u));r.drawLine(g,m,g,m+l,i.thresholdColor&&f<i.thresholdValue?i.thresholdColor:i.lineColor)}}else this.innerHTML=""},e.fn.sparkline.bullet=function(t,s,n,a){t=e.map(t,Number),n="auto"==(s=e.extend({targetColor:"red",targetWidth:3,performanceColor:"blue",rangeColors:["#D3DAFE","#A8B6FF","#7F94FF"],base:void 0},s)).width?"4.0em":n;var r=e(this).simpledraw(n,a);if(r&&t.length>1){var o=r.pixel_width-Math.ceil(s.targetWidth/2),l=r.pixel_height,d=Math.min.apply(Math,t),c=Math.max.apply(Math,t);if(null==s.base)d=d<0?d:0;else d=s.base;var h=c-d;for(i=2;i<t.length;i++){var u=parseInt(t[i]),p=Math.round(o*((u-d)/h));e.browser.msie?r.drawRect(0,0,p-1,l-1,s.rangeColors[i-2],s.rangeColors[i-2]):r.drawRect(0,0,p,l,void 0,s.rangeColors[i-2])}var f=parseInt(t[1]),g=Math.round(o*((f-d)/h));e.browser.msie?r.drawRect(0,Math.round(.3*l),g-1,Math.round(.4*l)-1,s.performanceColor,s.performanceColor):r.drawRect(0,Math.round(.3*l),g,Math.round(.4*l),void 0,s.performanceColor);var m=parseInt(t[0]),v=Math.round(o*((m-d)/h)-s.targetWidth/2),b=Math.round(.1*l),y=l-2*b;e.browser.msie?r.drawRect(v,b,s.targetWidth-1,y-1,s.targetColor,s.targetColor):r.drawRect(v,b,s.targetWidth,y,void 0,s.targetColor)}else this.innerHTML=""},e.fn.sparkline.pie=function(t,i,s,n){t=e.map(t,Number),s="auto"==(i=e.extend({sliceColors:["#f00","#0f0","#00f"]},i)).width?i.height:s;var a=e(this).simpledraw(s,n);if(a&&t.length>1){for(var r=a.pixel_width,o=a.pixel_height,l=Math.floor(Math.min(r,o)/2),d=0,c=0;c<t.length;c++)d+=t[c];var h=0;i.offset&&(h+=2*Math.PI*(i.offset/360));var u=2*Math.PI;for(c=0;c<t.length;c++){var p=h,f=h;d>0&&(f=h+u*(t[c]/d)),a.drawPieSlice(l,l,l,p,f,void 0,i.sliceColors[c%i.sliceColors.length]),h=f}}},Array.prototype.indexOf||(Array.prototype.indexOf=function(e){for(var t=0;t<this.length;t++)if(this[t]==e)return t;return-1}),e.browser.msie&&!document.namespaces.v&&(document.namespaces.add("v","urn:schemas-microsoft-com:vml"),document.createStyleSheet().cssText="v\\:*{behavior:url(#default#VML); display:inline-block; padding:0px; margin:0px;}"),null==e.browser.hasCanvas){var t=document.createElement("canvas");e.browser.hasCanvas=null!=t.getContext}var s=function(e,t,i){};s.prototype={init:function(e,t,i){this.width=e,this.height=t,this.target=i,i[0]&&(i=i[0]),i.vcanvas=this},drawShape:function(e,t,i){alert("drawShape not implemented")},drawLine:function(e,t,i,s,n){return this.drawShape([[e,t],[i,s]],n)},drawCircle:function(e,t,i,s,n){alert("drawCircle not implemented")},drawPieSlice:function(e,t,i,s,n,a,r){alert("drawPieSlice not implemented")},drawRect:function(e,t,i,s,n,a){alert("drawRect not implemented")},getElement:function(){return this.canvas},_insert:function(t,i){e(i).html(t)}};var n=function(e,t,i){return this.init(e,t,i)};n.prototype=e.extend(new s,{_super:s.prototype,init:function(t,i,s){this._super.init(t,i,s),this.canvas=document.createElement("canvas"),s[0]&&(s=s[0]),s.vcanvas=this,e(this.canvas).css({display:"inline",width:t,height:i}),this._insert(this.canvas,s),this.pixel_height=e(this.canvas).height(),this.pixel_width=e(this.canvas).width(),this.canvas.width=this.pixel_width,this.canvas.height=this.pixel_height},_getContext:function(e,t){var i=this.canvas.getContext("2d");return null!=e&&(i.strokeStyle=e),i.lineWidth=1,null!=t&&(i.fillStyle=t),i},drawShape:function(e,t,i){var s=this._getContext(t,i);s.beginPath(),s.moveTo(e[0][0]+.5,e[0][1]+.5);for(var n=1;n<e.length;n++)s.lineTo(e[n][0]+.5,e[n][1]+.5);null!=t&&s.stroke(),null!=i&&s.fill()},drawCircle:function(e,t,i,s,n){var a=this._getContext(s,n);a.beginPath(),a.arc(e,t,i,0,2*Math.PI,!1),null!=s&&a.stroke(),null!=n&&a.fill()},drawPieSlice:function(e,t,i,s,n,a,r){var o=this._getContext(a,r);o.beginPath(),o.moveTo(e,t),o.arc(e,t,i,s,n,!1),o.lineTo(e,t),o.closePath(),null!=a&&o.stroke(),r&&o.fill()},drawRect:function(e,t,i,s,n,a){var r=this._getContext(n,a);null!=a&&r.fillRect(e,t,i,s),null!=n&&r.strokeRect(e,t,i,s)}});var a=function(e,t,i){return this.init(e,t,i)};a.prototype=e.extend(new s,{_super:s.prototype,init:function(t,i,s){this._super.init(t,i,s),s[0]&&(s=s[0]),s.vcanvas=this,this.canvas=document.createElement("span"),e(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:t,height:i,margin:"0px",padding:"0px"}),this._insert(this.canvas,s),this.pixel_height=e(this.canvas).height(),this.pixel_width=e(this.canvas).width(),this.canvas.width=this.pixel_width,this.canvas.height=this.pixel_height;var n='<v:group coordorigin="0 0" coordsize="'+this.pixel_width+" "+this.pixel_height+'" style="position:absolute;top:0;left:0;width:'+this.pixel_width+"px;height="+this.pixel_height+'px;"></v:group>';this.canvas.insertAdjacentHTML("beforeEnd",n),this.group=e(this.canvas).children()[0]},drawShape:function(e,t,i){for(var s=[],n=0;n<e.length;n++)s[n]=e[n][0]-1+","+(e[n][1]-1);var a=s.splice(0,1),r=null==t?' stroked="false" ':' strokeWeight="1" strokeColor="'+t+'" ',o=null==i?' filled="false"':' fillColor="'+i+'" filled="true" ',l=s[0]==s[s.length-1]?"x ":"",d='<v:shape coordorigin="0 0" coordsize="'+this.pixel_width+" "+this.pixel_height+'" '+r+o+' style="position:absolute;left:0px;top:0px;height:'+this.pixel_height+"px;width:"+this.pixel_width+'px;padding:0px;margin:0px;"  path="m '+a+" l "+s.join(", ")+" "+l+'e"> </v:shape>';this.group.insertAdjacentHTML("beforeEnd",d)},drawCircle:function(e,t,i,s,n){var a="<v:oval "+(null==s?' stroked="false" ':' strokeWeight="1" strokeColor="'+s+'" ')+(null==n?' filled="false"':' fillColor="'+n+'" filled="true" ')+' style="position:absolute;top:'+(t-=i+1)+"; left:"+(e-=i+1)+"; width:"+2*i+"; height:"+2*i+'"></v:oval>';this.group.insertAdjacentHTML("beforeEnd",a)},drawPieSlice:function(e,t,i,s,n,a,r){if(s!=n){n-s==2*Math.PI&&(s=0,n=2*Math.PI);var o=[e-i,t-i,e+i,t+i,e+Math.round(Math.cos(s)*i),t+Math.round(Math.sin(s)*i),e+Math.round(Math.cos(n)*i),t+Math.round(Math.sin(n)*i)],l=null==a?' stroked="false" ':' strokeWeight="1" strokeColor="'+a+'" ',d=null==r?' filled="false"':' fillColor="'+r+'" filled="true" ',c='<v:shape coordorigin="0 0" coordsize="'+this.pixel_width+" "+this.pixel_height+'" '+l+d+' style="position:absolute;left:0px;top:0px;height:'+this.pixel_height+"px;width:"+this.pixel_width+'px;padding:0px;margin:0px;"  path="m '+e+","+t+" wa "+o.join(", ")+' x e"> </v:shape>';this.group.insertAdjacentHTML("beforeEnd",c)}},drawRect:function(e,t,i,s,n,a){return this.drawShape([[e,t],[e,t+s],[e+i,t+s],[e+i,t],[e,t]],n,a)}})}(jQuery),function(b){b.jgrid=b.jgrid||{},b.extend(b.jgrid,{htmlDecode:function(e){return"&nbsp;"==e||"&#160;"==e||1==e.length&&160==e.charCodeAt(0)?"":e?String(e).replace(/&amp;/g,"&").replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"'):e},htmlEncode:function(e){return e?String(e).replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/\"/g,"&quot;"):e},format:function(e){var t=b.makeArray(arguments).slice(1);return void 0===e&&(e=""),e.replace(/\{(\d+)\}/g,function(e,i){return t[i]})},getCellIndex:function(e){return e=((e=b(e)).is("td")||e.is("th")?e:e.closest("td,th"))[0],b.browser.msie?b.inArray(e,e.parentNode.cells):e.cellIndex},stripHtml:function(e){return(e+="")?(e=e.replace(/<("[^"]*"|'[^']*'|[^'">])*>/gi,""))&&"&nbsp;"!==e&&"&#160;"!==e?e.replace(/\"/g,"'"):"":e},stringToDoc:function(e){var t;if("string"!=typeof e)return e;try{t=(new DOMParser).parseFromString(e,"text/xml")}catch(i){(t=new ActiveXObject("Microsoft.XMLDOM")).async=!1,t.loadXML(e)}return t&&t.documentElement&&"parsererror"!=t.documentElement.tagName?t:null},parse:function(f){return f=f,"while(1);"==f.substr(0,9)&&(f=f.substr(9)),"/*"==f.substr(0,2)&&(f=f.substr(2,f.length-4)),f||(f="{}"),!0===b.jgrid.useJSON&&"object"==typeof JSON&&"function"==typeof JSON.parse?JSON.parse(f):eval("("+f+")")},jqID:function(e){return(e+="").replace(/([\.\:\[\]])/g,"\\$1")},ajaxOptions:{},extend:function(e){b.extend(b.fn.jqGrid,e),this.no_legacy_api||b.fn.extend(e)}}),b.fn.jqGrid=function(e){if("string"==typeof e){var t=b.fn.jqGrid[e];if(!t)throw"jqGrid - No such method: "+e;var i=b.makeArray(arguments).slice(1);return t.apply(this,i)}return this.each(function(){if(!this.grid){var t,i,s,n=b.extend(!0,{url:"",height:150,page:1,rowNum:20,records:0,pager:"",pgbuttons:!0,pginput:!0,colModel:[],rowList:[],colNames:[],sortorder:"asc",sortname:"",datatype:"xml",mtype:"GET",altRows:!1,selarrrow:[],savedRow:[],shrinkToFit:!0,xmlReader:{},jsonReader:{},subGrid:!1,subGridModel:[],reccount:0,lastpage:0,lastsort:0,selrow:null,beforeSelectRow:null,onSelectRow:null,onSortCol:null,ondblClickRow:null,onRightClickRow:null,onPaging:null,onSelectAll:null,loadComplete:null,gridComplete:null,loadError:null,loadBeforeSend:null,afterInsertRow:null,beforeRequest:null,onHeaderClick:null,viewrecords:!1,loadonce:!1,multiselect:!1,multikey:!1,editurl:null,search:!1,caption:"",hidegrid:!0,hiddengrid:!1,postData:{},userData:{},treeGrid:!1,treeGridModel:"nested",treeReader:{},treeANode:-1,ExpandColumn:null,tree_root_level:0,prmNames:{page:"page",rows:"rows",sort:"sidx",order:"sord",search:"_search",nd:"nd",id:"id",oper:"oper",editoper:"edit",addoper:"add",deloper:"del",subgridid:"id",npage:null},forceFit:!1,gridstate:"visible",cellEdit:!1,cellsubmit:"remote",nv:0,loadui:"enable",toolbar:[!1,""],scroll:!1,multiboxonly:!1,deselectAfterSort:!0,scrollrows:!1,autowidth:!1,scrollOffset:18,cellLayout:5,subGridWidth:20,multiselectWidth:20,gridview:!1,rownumWidth:25,rownumbers:!1,pagerpos:"center",recordpos:"right",footerrow:!1,userDataOnFooter:!1,hoverrows:!0,altclass:"ui-priority-secondary",viewsortcols:[!1,"vertical",!0],resizeclass:"",autoencode:!1,remapColumns:[],ajaxGridOptions:{},direction:"ltr",toppager:!1,headertitles:!1,scrollTimeout:200},b.jgrid.defaults,e||{}),a={headers:[],cols:[],footers:[],dragStart:function(e,t,i){this.resizing={idx:e,startX:t.clientX,sOL:i[0]},this.hDiv.style.cursor="col-resize",this.curGbox=b("#rs_m"+n.id,"#gbox_"+n.id),this.curGbox.css({display:"block",left:i[0],top:i[1],height:i[2]}),b.isFunction(n.resizeStart)&&n.resizeStart.call(this,t,e),document.onselectstart=function(){return!1}},dragMove:function(e){if(this.resizing){var t=e.clientX-this.resizing.startX;e=this.headers[this.resizing.idx];var i,s="ltr"===n.direction?e.width+t:e.width-t;s>33&&(this.curGbox.css({left:this.resizing.sOL+t}),!0===n.forceFit?(i=this.headers[this.resizing.idx+n.nv],(t="ltr"===n.direction?i.width-t:i.width+t)>33&&(e.newWidth=s,i.newWidth=t)):(this.newWidth="ltr"===n.direction?n.tblwidth+t:n.tblwidth-t,e.newWidth=s))}},dragEnd:function(){if(this.hDiv.style.cursor="default",this.resizing){var e=this.resizing.idx,t=this.headers[e].newWidth||this.headers[e].width;t=parseInt(t,10),this.resizing=!1,b("#rs_m"+n.id).css("display","none"),n.colModel[e].width=t,this.headers[e].width=t,this.headers[e].el.style.width=t+"px",this.cols.length>0&&(this.cols[e].style.width=t+"px"),this.footers.length>0&&(this.footers[e].style.width=t+"px"),!0===n.forceFit?(t=this.headers[e+n.nv].newWidth||this.headers[e+n.nv].width,this.headers[e+n.nv].width=t,this.headers[e+n.nv].el.style.width=t+"px",this.cols.length>0&&(this.cols[e+n.nv].style.width=t+"px"),this.footers.length>0&&(this.footers[e+n.nv].style.width=t+"px"),n.colModel[e+n.nv].width=t):(n.tblwidth=this.newWidth||n.tblwidth,b("table:first",this.bDiv).css("width",n.tblwidth+"px"),b("table:first",this.hDiv).css("width",n.tblwidth+"px"),this.hDiv.scrollLeft=this.bDiv.scrollLeft,n.footerrow&&(b("table:first",this.sDiv).css("width",n.tblwidth+"px"),this.sDiv.scrollLeft=this.bDiv.scrollLeft)),b.isFunction(n.resizeStop)&&n.resizeStop.call(this,t,e)}this.curGbox=null,document.onselectstart=function(){return!0}},populateVisible:function(){a.timer&&clearTimeout(a.timer),a.timer=null;var e=b(a.bDiv).height();if(e){var t=b("table:first",a.bDiv),i=b("> tbody > tr:visible:first",t).outerHeight()||a.prevRowHeight;if(i){a.prevRowHeight=i;var s,r,o,l=n.rowNum,d=a.scrollTop=a.bDiv.scrollTop,c=Math.round(t.position().top)-d,h=c+t.height();i*=l,c<=0&&(void 0===n.lastpage||parseInt((h+d+i-1)/i,10)<=n.lastpage)&&(r=parseInt((e-h+i-1)/i,10),h>=0||r<2||!0===n.scroll?(s=Math.round((h+d)/i)+1,c=-1):c=1),c>0&&(s=parseInt(d/i,10)+1,r=parseInt((d+e)/i,10)+2-s,o=!0),r&&(n.lastpage&&s>n.lastpage||(a.hDiv.loading?a.timer=setTimeout(a.populateVisible,n.scrollTimeout):(n.page=s,o&&(a.selectionPreserver(t[0]),a.emptyRows(a.bDiv,!1)),a.populate(r))))}}},scrollGrid:function(){if(n.scroll){var e=a.bDiv.scrollTop;e!=a.scrollTop&&(a.scrollTop=e,a.timer&&clearTimeout(a.timer),a.timer=setTimeout(a.populateVisible,200))}a.hDiv.scrollLeft=a.bDiv.scrollLeft,n.footerrow&&(a.sDiv.scrollLeft=a.bDiv.scrollLeft)},selectionPreserver:function(e){var t=e.p,i=t.selrow,s=t.selarrrow?b.makeArray(t.selarrrow):null,n=e.grid.bDiv.scrollLeft,a=t.gridComplete;t.gridComplete=function(){if(t.selrow=null,t.selarrrow=[],t.multiselect&&s&&s.length>0)for(var r=0;r<s.length;r++)s[r]!=i&&b(e).jqGrid("setSelection",s[r],!1);i&&b(e).jqGrid("setSelection",i,!1),e.grid.bDiv.scrollLeft=n,t.gridComplete=a,t.gridComplete&&a()}}};if(this.p=n,0===this.p.colNames.length)for(t=0;t<this.p.colModel.length;t++)this.p.colNames[t]=this.p.colModel[t].label||this.p.colModel[t].name;if(this.p.colNames.length!==this.p.colModel.length)alert(b.jgrid.errors.model);else{var r,o=b("<div class='ui-jqgrid-view'></div>"),l=!!b.browser.msie,d=!!b.browser.safari;(s=this).p.direction=b.trim(s.p.direction.toLowerCase()),-1==b.inArray(s.p.direction,["ltr","rtl"])&&(s.p.direction="ltr"),i=s.p.direction,b(o).insertBefore(this),b(this).appendTo(o).removeClass("scroll");var c=b("<div class='ui-jqgrid ui-widget ui-widget-content ui-corner-all'></div>");b(c).insertBefore(o).attr({id:"gbox_"+this.id,dir:i}),b(o).appendTo(c).attr("id","gview_"+this.id),r=l&&b.browser.version<=6?'<iframe style="display:block;position:absolute;z-index:-1;filter:Alpha(Opacity=\'0\');" src="javascript:false;"></iframe>':"",b("<div class='ui-widget-overlay jqgrid-overlay' id='lui_"+this.id+"'></div>").append(r).insertBefore(o),b("<div class='loading ui-state-default ui-state-active' id='load_"+this.id+"'>"+this.p.loadtext+"</div>").insertBefore(o),b(this).attr({cellSpacing:"0",cellPadding:"0",border:"0",role:"grid","aria-multiselectable":!!this.p.multiselect,"aria-labelledby":"gbox_"+this.id});var h=function(e,t){return e=parseInt(e,10),isNaN(e)?t||0:e},u=function(e,t,i){var n=s.p.colModel[e],r=n.align,o='style="',l=n.classes,d=n.name;return r&&(o+="text-align:"+r+";"),!0===n.hidden&&(o+="display:none;"),0===t&&(o+="width: "+a.headers[e].width+"px;"),o+='"'+(void 0!==l?' class="'+l+'"':"")+(n.title&&i?' title="'+b.jgrid.stripHtml(i)+'"':""),o+=' aria-describedby="'+s.p.id+"_"+d+'"'},p=function(e){return null==e||""===e?"&#160;":s.p.autoencode?b.jgrid.htmlEncode(e):e+""},f=function(e,t,i,n,a){return void 0!==(i=s.p.colModel[i]).formatter?(e={rowId:e,colModel:i,gid:s.p.id},t=b.isFunction(i.formatter)?i.formatter.call(s,t,e,n,a):b.fmatter?b.fn.fmatter(i.formatter,t,e,n,a):p(t)):t=p(t),t},g=function(e,t,i,s,n){return e=f(e,t,i,n,"add"),'<td role="gridcell" '+u(i,s,e)+">"+e+"</td>"},m=function(e,t,i){return e='<input role="checkbox" type="checkbox" id="jqg_'+e+'" class="cbox" name="jqg_'+e+'"/>',t=u(t,i,""),'<td role="gridcell" aria-describedby="'+s.p.id+'_cb" '+t+">"+e+"</td>"},v=function(e,t,i,n){return i=(parseInt(i,10)-1)*parseInt(n,10)+1+t,e=u(e,t,""),'<td role="gridcell" aria-describedby="'+s.p.id+'_rn" class="ui-state-default jqgrid-rownum" '+e+">"+i+"</td>"},y=function(e){var t,i,n=[],a=0;for(i=0;i<s.p.colModel.length;i++)"cb"!==(t=s.p.colModel[i]).name&&"subgrid"!==t.name&&"rn"!==t.name&&(n[a]="xml"==e?t.xmlmap||t.name:t.jsonmap||t.name,a++);return n},w=function(e){var t=s.p.remapColumns;return t&&t.length||(t=b.map(s.p.colModel,function(e,t){return t})),e&&(t=b.map(t,function(t){return t<e?null:t-e})),t},x=function(e,t){s.p.deepempty?b("tbody:first tr",e).remove():b("tbody:first",e).empty(),t&&s.p.scroll&&(b(">div:first",e).css({height:"auto"}).children("div:first").css({height:0,display:"none"}),e.scrollTop=0)},_=function(e,t){var i,s,n;if("function"==typeof t)return t(e);if(void 0===(i=e[t])){"string"==typeof t&&(s=t.split("."));try{if(n=s.length)for(i=e;i&&n--;)i=i[s.shift()]}catch(e){}}return i},C=function(e,t,i,n,a){var r=new Date;if(s.p.reccount=0,b.isXMLDoc(e)){-1!==s.p.treeANode||s.p.scroll?i=i>0?i:0:(x(t,!1),i=0);var o,l,d,c,h,u,p,f,_=0,C=0,k=0,D=0,M=[],T={},S=s.rows.length,I=[],F=0,q=!0===s.p.altRows?" "+s.p.altclass:"";s.p.xmlReader.repeatitems||(M=y("xml")),c=!1===s.p.keyIndex?s.p.xmlReader.id:s.p.keyIndex,M.length>0&&!isNaN(c)&&(s.p.remapColumns&&s.p.remapColumns.length&&(c=b.inArray(c,s.p.remapColumns)),c=M[c]),h=-1===(c+"").indexOf("[")?M.length?function(e,t){return b(c,e).text()||t}:function(e,t){return b(s.p.xmlReader.cell,e).eq(c).text()||t}:function(e,t){return e.getAttribute(c.replace(/[\[\]]/g,""))||t},s.p.userData={},b(s.p.xmlReader.page,e).each(function(){s.p.page=this.textContent||this.text||0}),b(s.p.xmlReader.total,e).each(function(){s.p.lastpage=this.textContent||this.text,void 0===s.p.lastpage&&(s.p.lastpage=1)}),b(s.p.xmlReader.records,e).each(function(){s.p.records=this.textContent||this.text||0}),b(s.p.xmlReader.userdata,e).each(function(){s.p.userData[this.getAttribute("name")]=this.textContent||this.text});var N=(e=b(s.p.xmlReader.root+" "+s.p.xmlReader.row,e)).length,A=0;if(e&&N){var P=parseInt(s.p.rowNum,10),E=s.p.scroll?(parseInt(s.p.page,10)-1)*P+1:1;for(a&&(P*=a+1),a=b.isFunction(s.p.afterInsertRow);A<N;){if(p=e[A],f=h(p,E+A),o=((o=0===i?0:i+1)+A)%2==1?q:"",I[F++]='<tr id="'+f+'" role="row" class ="ui-widget-content jqgrow ui-row-'+s.p.direction+o+'">',!0===s.p.rownumbers&&(I[F++]=v(0,A,s.p.page,s.p.rowNum),D=1),!0===s.p.multiselect&&(I[F++]=m(f,D,A),C=1),!0===s.p.subGrid&&(I[F++]=b(s).jqGrid("addSubGridCell",C+D,A+i),k=1),s.p.xmlReader.repeatitems){u||(u=w(C+k+D));var z=b(s.p.xmlReader.cell,p);b.each(u,function(e){var t=z[this];if(!t)return!1;l=t.textContent||t.text,T[s.p.colModel[e+C+k+D].name]=l,I[F++]=g(f,l,e+C+k+D,A+i,p)})}else for(o=0;o<M.length;o++)l=b(M[o],p).text(),T[s.p.colModel[o+C+k+D].name]=l,I[F++]=g(f,l,o+C+k+D,A+i,p);if(I[F++]="</tr>",!1===s.p.gridview){if(!0===s.p.treeGrid){o=s.p.treeANode>=-1?s.p.treeANode:0,d=b(I.join(""))[0];try{b(s).jqGrid("setTreeNode",T,d)}catch(e){}0===S?b("tbody:first",t).append(d):b(s.rows[A+o+i]).after(d)}else b("tbody:first",t).append(I.join(""));if(!0===s.p.subGrid)try{b(s).jqGrid("addSubGrid",s.rows[s.rows.length-1],C+D)}catch(e){}a&&s.p.afterInsertRow.call(s,f,T,p),I=[],F=0}if(T={},A++,++_==P)break}}!0===s.p.gridview&&b("tbody:first",t).append(I.join("")),s.p.totaltime=new Date-r,_>0&&(s.grid.cols=s.rows[0].cells,0===s.p.records&&(s.p.records=N)),I=null,s.p.treeGrid||s.p.scroll||(s.grid.bDiv.scrollTop=0),s.p.reccount=_,s.p.treeANode=-1,s.p.userDataOnFooter&&b(s).jqGrid("footerData","set",s.p.userData,!0),n||j(!1,!0)}},k=function(e,t,i,n,a){var r=new Date;if(s.p.reccount=0,e){-1!==s.p.treeANode||s.p.scroll?i=i>0?i:0:(x(t,!1),i=0);var o,l,d,c,h,u,p,f,C,k=0,D=[],M=0,T=0,S=0,I={},F=s.rows.length;d=[],f=0;var q=!0===s.p.altRows?" "+s.p.altclass:"";if(s.p.page=_(e,s.p.jsonReader.page)||0,p=_(e,s.p.jsonReader.total),s.p.lastpage=void 0===p?1:p,s.p.records=_(e,s.p.jsonReader.records)||0,s.p.userData=_(e,s.p.jsonReader.userdata)||{},s.p.jsonReader.repeatitems||(c=D=y("json")),p=!1===s.p.keyIndex?s.p.jsonReader.id:s.p.keyIndex,D.length>0&&!isNaN(p)&&(s.p.remapColumns&&s.p.remapColumns.length&&(p=b.inArray(p,s.p.remapColumns)),p=D[p]),u=_(e,s.p.jsonReader.root)){h=u.length,e=0;var N=parseInt(s.p.rowNum,10),A=s.p.scroll?(parseInt(s.p.page,10)-1)*N+1:1;a&&(N*=a+1);for(var P=b.isFunction(s.p.afterInsertRow);e<h;){for(a=u[e],void 0===(C=_(a,p))&&(C=A+e,0===D.length&&s.p.jsonReader.cell&&(C=a[s.p.jsonReader.cell][p]||C)),o=((o=0===i?0:i+1)+e)%2==1?q:"",d[f++]='<tr id="'+C+'" role="row" class= "ui-widget-content jqgrow ui-row-'+s.p.direction+o+'">',!0===s.p.rownumbers&&(d[f++]=v(0,e,s.p.page,s.p.rowNum),S=1),s.p.multiselect&&(d[f++]=m(C,S,e),M=1),s.p.subGrid&&(d[f++]=b(s).jqGrid("addSubGridCell",M+S,e+i),T=1),s.p.jsonReader.repeatitems&&(s.p.jsonReader.cell&&(a=_(a,s.p.jsonReader.cell)),c||(c=w(M+T+S))),l=0;l<c.length;l++)o=_(a,c[l]),d[f++]=g(C,o,l+M+T+S,e+i,a),I[s.p.colModel[l+M+T+S].name]=o;if(d[f++]="</tr>",!1===s.p.gridview){if(!0===s.p.treeGrid){f=s.p.treeANode>=-1?s.p.treeANode:0,d=b(d.join(""))[0];try{b(s).jqGrid("setTreeNode",I,d)}catch(e){}0===F?b("tbody:first",t).append(d):b(s.rows[e+f+i]).after(d)}else b("tbody:first",t).append(d.join(""));if(!0===s.p.subGrid)try{b(s).jqGrid("addSubGrid",s.rows[s.rows.length-1],M+S)}catch(e){}P&&s.p.afterInsertRow.call(s,C,I,a),d=[],f=0}if(I={},e++,++k==N)break}!0===s.p.gridview&&b("tbody:first",t).append(d.join("")),s.p.totaltime=new Date-r,k>0&&(s.grid.cols=s.rows[0].cells,0===s.p.records&&(s.p.records=h))}s.p.treeGrid||s.p.scroll||(s.grid.bDiv.scrollTop=0),s.p.reccount=k,s.p.treeANode=-1,s.p.userDataOnFooter&&b(s).jqGrid("footerData","set",s.p.userData,!0),n||j(!1,!0)}},j=function(e,t){var i,n,a,r,o,l,d,c="";(a=parseInt(s.p.page,10)-1)<0&&(a=0),o=(a*=parseInt(s.p.rowNum,10))+s.p.reccount,s.p.scroll&&(i=b("tbody:first > tr",s.grid.bDiv),a=o-i.length,(n=i.outerHeight())&&(i=a*n,n=parseInt(s.p.records,10)*n,b(">div:first",s.grid.bDiv).css({height:n}).children("div:first").css({height:i,display:i?"":"none"}))),c=s.p.pager?s.p.pager:"",(c+=s.p.toppager?c?","+s.p.toppager:s.p.toppager:"")&&(d=b.jgrid.formatter.integer||{},s.p.loadonce?(i=n=1,s.p.lastpage=s.page=1,b(".selbox",c).attr("disabled",!0)):(i=h(s.p.page),n=h(s.p.lastpage),b(".selbox",c).attr("disabled",!1)),!0===s.p.pginput&&(b(".ui-pg-input",c).val(s.p.page),b("#sp_1",c).html(b.fmatter?b.fmatter.util.NumberFormat(s.p.lastpage,d):s.p.lastpage)),s.p.viewrecords&&(0===s.p.reccount?b(".ui-paging-info",c).html(s.p.emptyrecords):(r=a+1,l=s.p.records,b.fmatter&&(r=b.fmatter.util.NumberFormat(r,d),o=b.fmatter.util.NumberFormat(o,d),l=b.fmatter.util.NumberFormat(l,d)),b(".ui-paging-info",c).html(b.jgrid.format(s.p.recordtext,r,o,l)))),!0===s.p.pgbuttons&&(i<=0&&(i=n=0),1==i||0===i?(b("#first, #prev",s.p.pager).addClass("ui-state-disabled").removeClass("ui-state-hover"),s.p.toppager&&b("#first_t, #prev_t",s.p.toppager).addClass("ui-state-disabled").removeClass("ui-state-hover")):(b("#first, #prev",s.p.pager).removeClass("ui-state-disabled"),s.p.toppager&&b("#first_t, #prev_t",s.p.toppager).removeClass("ui-state-disabled")),i==n||0===i?(b("#next, #last",s.p.pager).addClass("ui-state-disabled").removeClass("ui-state-hover"),s.p.toppager&&b("#next_t, #last_t",s.p.toppager).addClass("ui-state-disabled").removeClass("ui-state-hover")):(b("#next, #last",s.p.pager).removeClass("ui-state-disabled"),s.p.toppager&&b("#next_t, #last_t",s.p.toppager).removeClass("ui-state-disabled")))),!0===e&&!0===s.p.rownumbers&&b("td.jqgrid-rownum",s.rows).each(function(e){b(this).html(a+1+e)}),t&&s.p.jqgdnd&&b(s).jqGrid("gridDnD","updateDnD"),b.isFunction(s.p.gridComplete)&&s.p.gridComplete.call(s)},D=function(e){if(!s.grid.hDiv.loading){var t,i=s.p.scroll&&!1===e,n={},a=s.p.prmNames;s.p.page<=0&&(s.p.page=1),null!==a.search&&(n[a.search]=s.p.search),null!==a.nd&&(n[a.nd]=(new Date).getTime()),null!==a.rows&&(n[a.rows]=s.p.rowNum),null!==a.page&&(n[a.page]=s.p.page),null!==a.sort&&(n[a.sort]=s.p.sortname),null!==a.order&&(n[a.order]=s.p.sortorder);var r=s.p.loadComplete,o=b.isFunction(r);o||(r=null);var l=0;(e=e||1)>1?null!==a.npage?(n[a.npage]=e,l=e-1,e=1):r=function(t){o&&s.p.loadComplete.call(s,t),s.grid.hDiv.loading=!1,s.p.page++,D(e-1)}:null!==a.npage&&delete s.p.postData[a.npage],b.extend(s.p.postData,n);var d=s.p.scroll?s.rows.length-1:0;if(b.isFunction(s.p.datatype))s.p.datatype.call(s,s.p.postData,"load_"+s.p.id);else switch(b.isFunction(s.p.beforeRequest)&&s.p.beforeRequest.call(s),t=s.p.datatype.toLowerCase()){case"json":case"jsonp":case"xml":case"script":b.ajax(b.extend({url:s.p.url,type:s.p.mtype,dataType:t,data:b.isFunction(s.p.serializeGridData)?s.p.serializeGridData.call(s,s.p.postData):s.p.postData,success:function(n){"xml"===t?C(n,s.grid.bDiv,d,e>1,l):k(n,s.grid.bDiv,d,e>1,l),r&&r.call(s,n),i&&s.grid.populateVisible(),(s.p.loadonce||s.p.treeGrid)&&(s.p.datatype="local"),T()},error:function(e,t,i){b.isFunction(s.p.loadError)&&s.p.loadError.call(s,e,t,i),T()},beforeSend:function(e){M(),b.isFunction(s.p.loadBeforeSend)&&s.p.loadBeforeSend.call(s,e)}},b.jgrid.ajaxOptions,s.p.ajaxGridOptions));break;case"xmlstring":M(),n=b.jgrid.stringToDoc(s.p.datastr),o&&s.p.loadComplete.call(s,n),C(n,s.grid.bDiv),s.p.datatype="local",s.p.datastr=null,T();break;case"jsonstring":M(),n="string"==typeof s.p.datastr?b.jgrid.parse(s.p.datastr):s.p.datastr,o&&s.p.loadComplete.call(s,n),k(n,s.grid.bDiv),s.p.datatype="local",s.p.datastr=null,T();break;case"local":case"clientside":M(),s.p.datatype="local",o&&s.p.loadComplete.call(s,""),S(),j(!0,!0),T()}}},M=function(){if(s.grid.hDiv.loading=!0,!s.p.hiddengrid)switch(s.p.loadui){case"disable":break;case"enable":b("#load_"+s.p.id).show();break;case"block":b("#lui_"+s.p.id).show(),b("#load_"+s.p.id).show()}},T=function(){switch(s.grid.hDiv.loading=!1,s.p.loadui){case"disable":break;case"enable":b("#load_"+s.p.id).hide();break;case"block":b("#lui_"+s.p.id).hide(),b("#load_"+s.p.id).hide()}},S=function(){var e,t,i,n,r=/[\$,%]/g,o=[],l=0,d="asc"==s.p.sortorder?1:-1,c=!1;if(b.each(s.p.colModel,function(t){if(this.index==s.p.sortname||this.name==s.p.sortname)return s.p.lastsort==t&&(c=!0),l=t,e=this.sorttype,!1}),i="float"==e||"number"==e||"currency"==e?function(e){return e=parseFloat(e.replace(r,"")),isNaN(e)?0:e}:"int"==e||"integer"==e?function(e){return h(e.replace(r,""),0)}:"date"==e||"datetime"==e?function(e){return I(s.p.colModel[l].datefmt||"Y-m-d",e).getTime()}:b.isFunction(e)?e:function(e){return b.trim(e.toUpperCase())},n=s.p.colModel[l],b.each(s.rows,function(e,s){try{t=b.unformat(b(s).children("td").eq(l),{rowId:s.id,colModel:n},l,!0)}catch(e){t=b(s).children("td").eq(l).text()}s.sortKey=i(t),o[e]=this}),s.p.treeGrid)b(s).jqGrid("SortTree",d);else{c?o.reverse():o.sort(function(e,t){return e.sortKey<t.sortKey?-d:e.sortKey>t.sortKey?d:0}),o[0]&&(b("td",o[0]).each(function(e){b(this).css("width",a.headers[e].width+"px")}),s.grid.cols=o[0].cells);var u="";s.p.altRows&&(u=s.p.altclass),b.each(o,function(e,t){u&&(e%2==1?b(t).addClass(u):b(t).removeClass(u)),b("tbody",s.grid.bDiv).append(t),t.sortKey=null})}s.grid.bDiv.scrollTop=0},I=function(e,t){var i,s,n,a={m:1,d:1,y:1970,h:0,i:0,s:0};if(t=b.trim(t)){t=t.split(/[\\\/:_;.\t\T\s-]/),e=e.split(/[\\\/:_;.\t\T\s-]/);var r=b.jgrid.formatter.date.monthNames,o=b.jgrid.formatter.date.AmPm,l=function(e,t){return 0===e?12==t&&(t=0):12!=t&&(t+=12),t};for(i=0,s=e.length;i<s;i++)"M"==e[i]&&-1!==(n=b.inArray(t[i],r))&&n<12&&(t[i]=n+1),"F"==e[i]&&-1!==(n=b.inArray(t[i],r))&&n>11&&(t[i]=n+1-12),"a"==e[i]&&-1!==(n=b.inArray(t[i],o))&&n<2&&t[i]==o[n]&&(t[i]=n,a.h=l(t[i],a.h)),"A"==e[i]&&-1!==(n=b.inArray(t[i],o))&&n>1&&t[i]==o[n]&&(t[i]=n-2,a.h=l(t[i],a.h)),a[e[i].toLowerCase()]=parseInt(t[i],10);a.m=parseInt(a.m,10)-1,(e=a.y)>=70&&e<=99?a.y=1900+a.y:e>=0&&e<=69&&(a.y=2e3+a.y)}return new Date(a.y,a.m,a.d,a.h,a.i,a.s,0)};r=function(e,t){var n,a,r,o,l="",d="<table cellspacing='0' cellpadding='0' border='0' style='table-layout:auto;' class='ui-pg-table'><tbody><tr>",c="",u=function(e){var t;return b.isFunction(s.p.onPaging)&&(t=s.p.onPaging.call(s,e)),s.p.selrow=null,s.p.multiselect&&(s.p.selarrrow=[],b("#cb_"+b.jgrid.jqID(s.p.id),s.grid.hDiv).attr("checked",!1)),s.p.savedRow=[],"stop"!=t};if(n="pg_"+(e=e.substr(1)),a=e+"_left",r=e+"_center",o=e+"_right",b("#"+e).append("<div id='"+n+"' class='ui-pager-control' role='group'><table cellspacing='0' cellpadding='0' border='0' class='ui-pg-table' style='width:100%;table-layout:fixed;' role='row'><tbody><tr><td id='"+a+"' align='left'></td><td id='"+r+"' align='center' style='white-space:pre;'></td><td id='"+o+"' align='right'></td></tr></tbody></table></div>").attr("dir","ltr"),s.p.rowList.length>0){for(c="<td dir='"+i+"'>",c+="<select class='ui-pg-selbox' role='listbox'>",a=0;a<s.p.rowList.length;a++)c+="<option role='option' value='"+s.p.rowList[a]+"'"+(s.p.rowNum==s.p.rowList[a]?" selected":"")+">"+s.p.rowList[a]+"</option>";c+="</select></td>"}"rtl"==i&&(d+=c),!0===s.p.pginput&&(l="<td dir='"+i+"'>"+b.jgrid.format(s.p.pgtext||"","<input class='ui-pg-input' type='text' size='2' maxlength='7' value='0' role='textbox'/>","<span id='sp_1'></span>")+"</td>"),!0===s.p.pgbuttons?(a=["first"+t,"prev"+t,"next"+t,"last"+t],"rtl"==i&&a.reverse(),d+="<td id='"+a[0]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-first'></span></td>",d+="<td id='"+a[1]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-prev'></span></td>",d+=""!=l?"<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='ui-separator'></span></td>"+l+"<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='ui-separator'></span></td>":"",d+="<td id='"+a[2]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-next'></span></td>",d+="<td id='"+a[3]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-end'></span></td>"):""!=l&&(d+=l),"ltr"==i&&(d+=c),d+="</tr></tbody></table>",!0===s.p.viewrecords&&b("td#"+e+"_"+s.p.recordpos,"#"+n).append("<div dir='"+i+"' style='text-align:"+s.p.recordpos+"' class='ui-paging-info'></div>"),b("td#"+e+"_"+s.p.pagerpos,"#"+n).append(d),c=b(".ui-jqgrid").css("font-size")||"11px",b("body").append("<div id='testpg' class='ui-jqgrid ui-widget ui-widget-content' style='font-size:"+c+";visibility:hidden;' ></div>"),d=b(d).clone().appendTo("#testpg").width(),b("#testpg").remove(),d>0&&(""!=l&&(d+=50),b("td#"+e+"_"+s.p.pagerpos,"#"+n).width(d)),s.p._nvtd=[],s.p._nvtd[0]=d?Math.floor((s.p.width-d)/2):Math.floor(s.p.width/3),s.p._nvtd[1]=0,d=null,b(".ui-pg-selbox","#"+n).bind("change",function(){return s.p.page=Math.round(s.p.rowNum*(s.p.page-1)/this.value-.5)+1,s.p.rowNum=this.value,t?b(".ui-pg-selbox",s.p.pager).val(this.value):s.p.toppager&&b(".ui-pg-selbox",s.p.toppager).val(this.value),!!u("records")&&(D(),!1)}),!0===s.p.pgbuttons&&(b(".ui-pg-button","#"+n).hover(function(){b(this).hasClass("ui-state-disabled")?this.style.cursor="default":(b(this).addClass("ui-state-hover"),this.style.cursor="pointer")},function(){b(this).hasClass("ui-state-disabled")||(b(this).removeClass("ui-state-hover"),this.style.cursor="default")}),b("#first"+t+", #prev"+t+", #next"+t+", #last"+t,"#"+e).click(function(){var e=h(s.p.page,1),i=h(s.p.lastpage,1),n=!1,a=!0,r=!0,o=!0,l=!0;if(0===i||1===i?l=o=r=a=!1:i>1&&e>=1?1===e?r=a=!1:e>1&&e<i||e===i&&(l=o=!1):i>1&&0===e&&(l=o=!1,e=i-1),this.id==="first"+t&&a&&(s.p.page=1,n=!0),this.id==="prev"+t&&r&&(s.p.page=e-1,n=!0),this.id==="next"+t&&o&&(s.p.page=e+1,n=!0),this.id==="last"+t&&l&&(s.p.page=i,n=!0),n){if(!u(this.id))return!1;D()}return!1})),!0===s.p.pginput&&b("input.ui-pg-input","#"+n).keypress(function(e){return 13==(e.charCode?e.charCode:e.keyCode?e.keyCode:0)?(s.p.page=b(this).val()>0?b(this).val():s.p.page,!!u("user")&&(D(),!1)):this})};var F=function(e,t,i,n){if(s.p.colModel[t].sortable&&!(s.p.savedRow.length>0)){if(i||(s.p.lastsort==t?"asc"==s.p.sortorder?s.p.sortorder="desc":"desc"==s.p.sortorder&&(s.p.sortorder="asc"):s.p.sortorder=s.p.colModel[t].firstsortorder||"asc",s.p.page=1),n){if(s.p.lastsort==t&&s.p.sortorder==n&&!i)return;s.p.sortorder=n}if(i=b("thead:first",s.grid.hDiv).get(0),b("tr th:eq("+s.p.lastsort+") span.ui-grid-ico-sort",i).addClass("ui-state-disabled"),b("tr th:eq("+s.p.lastsort+")",i).attr("aria-selected","false"),b("tr th:eq("+t+") span.ui-icon-"+s.p.sortorder,i).removeClass("ui-state-disabled"),b("tr th:eq("+t+")",i).attr("aria-selected","true"),s.p.viewsortcols[0]||s.p.lastsort!=t&&(b("tr th:eq("+s.p.lastsort+") span.s-ico",i).hide(),b("tr th:eq("+t+") span.s-ico",i).show()),e=e.substring(5),s.p.sortname=s.p.colModel[t].index||e,i=s.p.sortorder,b.isFunction(s.p.onSortCol)&&"stop"==s.p.onSortCol.call(s,e,t,i))return void(s.p.lastsort=t);"local"==s.p.datatype?s.p.deselectAfterSort&&b(s).jqGrid("resetSelection"):(s.p.selrow=null,s.p.multiselect&&b("#cb_"+b.jgrid.jqID(s.p.id),s.grid.hDiv).attr("checked",!1),s.p.selarrrow=[],s.p.savedRow=[],s.p.scroll&&x(s.grid.bDiv,!0)),s.p.subGrid&&"local"==s.p.datatype&&b("td.sgexpanded","#"+s.p.id).each(function(){b(this).trigger("click")}),D(),s.p.lastsort=t,s.p.sortname!=e&&t&&(s.p.lastsort=t)}};for(this.p.id=this.id,-1==b.inArray(s.p.multikey,["shiftKey","altKey","ctrlKey"])&&(s.p.multikey=!1),s.p.keyIndex=!1,t=0;t<s.p.colModel.length;t++)if(!0===s.p.colModel[t].key){s.p.keyIndex=t;break}if(s.p.sortorder=s.p.sortorder.toLowerCase(),!0===this.p.treeGrid)try{b(this).jqGrid("setTreeGrid")}catch(e){}if(this.p.subGrid)try{b(s).jqGrid("setSubGrid")}catch(e){}this.p.multiselect&&(this.p.colNames.unshift("<input role='checkbox' id='cb_"+this.p.id+"' class='cbox' type='checkbox'/>"),this.p.colModel.unshift({name:"cb",width:d?s.p.multiselectWidth+s.p.cellLayout:s.p.multiselectWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0})),this.p.rownumbers&&(this.p.colNames.unshift(""),this.p.colModel.unshift({name:"rn",width:s.p.rownumWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0})),s.p.xmlReader=b.extend(!0,{root:"rows",row:"row",page:"rows>page",total:"rows>total",records:"rows>records",repeatitems:!0,cell:"cell",id:"[id]",userdata:"userdata",subgrid:{root:"rows",row:"row",repeatitems:!0,cell:"cell"}},s.p.xmlReader),s.p.jsonReader=b.extend(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!0,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},s.p.jsonReader),s.p.scroll&&(s.p.pgbuttons=!1,s.p.pginput=!1,s.p.rowList=[]);var q,N,A,P,E,z,O,R,G="<thead><tr class='ui-jqgrid-labels' role='rowheader'>";if(N=R="",!0===s.p.shrinkToFit&&!0===s.p.forceFit)for(t=s.p.colModel.length-1;t>=0;t--)if(!s.p.colModel[t].hidden){s.p.colModel[t].resizable=!1;break}for("horizontal"==s.p.viewsortcols[1]&&(R=" ui-i-asc",N=" ui-i-desc"),q=l?"class='ui-th-div-ie'":"",R="<span class='s-ico' style='display:none'><span sort='asc' class='ui-grid-ico-sort ui-icon-asc"+R+" ui-state-disabled ui-icon ui-icon-triangle-1-n ui-sort-"+i+"'></span>",R+="<span sort='desc' class='ui-grid-ico-sort ui-icon-desc"+N+" ui-state-disabled ui-icon ui-icon-triangle-1-s ui-sort-"+i+"'></span></span>",t=0;t<this.p.colNames.length;t++)N=s.p.headertitles?' title="'+b.jgrid.stripHtml(s.p.colNames[t])+'"':"",G+="<th id='"+s.p.id+"_"+s.p.colModel[t].name+"' role='columnheader' class='ui-state-default ui-th-column ui-th-"+i+"'"+N+">",N=s.p.colModel[t].index||s.p.colModel[t].name,G+="<div id='jqgh_"+s.p.colModel[t].name+"' "+q+">"+s.p.colNames[t],s.p.colModel[t].width=s.p.colModel[t].width?parseInt(s.p.colModel[t].width,10):150,"boolean"!=typeof s.p.colModel[t].title&&(s.p.colModel[t].title=!0),N==s.p.sortname&&(s.p.lastsort=t),G+=R+"</div></th>";if(G+="</tr></thead>",b(this).append(G),b("thead tr:first th",this).hover(function(){b(this).addClass("ui-state-hover")},function(){b(this).removeClass("ui-state-hover")}),this.p.multiselect){var L,H=[];b("#cb_"+b.jgrid.jqID(s.p.id),this).bind("click",function(){this.checked?(b("[id^=jqg_]",s.rows).attr("checked",!0),b(s.rows).each(function(e){b(this).hasClass("subgrid")||(b(this).addClass("ui-state-highlight").attr("aria-selected","true"),s.p.selarrrow[e]=s.p.selrow=this.id)}),L=!0,H=[]):(b("[id^=jqg_]",s.rows).attr("checked",!1),b(s.rows).each(function(e){b(this).hasClass("subgrid")||(b(this).removeClass("ui-state-highlight").attr("aria-selected","false"),H[e]=this.id)}),s.p.selarrrow=[],s.p.selrow=null,L=!1),b.isFunction(s.p.onSelectAll)&&s.p.onSelectAll.call(s,L?s.p.selarrrow:H,L)})}!0===s.p.autowidth&&(G=b(c).innerWidth(),s.p.width=G>0?G:"nw"),Z=0,ee=s.p.cellLayout,te=0,ie=s.p.scrollOffset,se=!1,ne=0,ae=0,re=0,d&&(ee=0),b.each(s.p.colModel,function(){void 0===this.hidden&&(this.hidden=!1),!1===this.hidden&&(Z+=h(this.width,0),this.fixed?(ne+=this.width,ae+=this.width+ee):te++,re++)}),isNaN(s.p.width)?s.p.width=a.width=Z:a.width=s.p.width,s.p.tblwidth=Z,!1===s.p.shrinkToFit&&!0===s.p.forceFit&&(s.p.forceFit=!1),!0===s.p.shrinkToFit&&te>0&&(K=a.width-ee*te-ae,isNaN(s.p.height)||(K-=ie,se=!0),Z=0,b.each(s.p.colModel,function(e){!1!==this.hidden||this.fixed||(this.width=$=Math.round(K*this.width/(s.p.tblwidth-ne)),Z+=$,X=e)}),J=0,se?a.width-ae-(Z+ee*te)!==ie&&(J=a.width-ae-(Z+ee*te)-ie):se||1===Math.abs(a.width-ae-(Z+ee*te))||(J=a.width-ae-(Z+ee*te)),s.p.colModel[X].width+=J,s.p.tblwidth=Z+J+ne+re*ee,s.p.tblwidth>s.p.width&&(s.p.colModel[X].width-=s.p.tblwidth-parseInt(s.p.width,10),s.p.tblwidth=s.p.width)),b(c).css("width",a.width+"px").append("<div class='ui-jqgrid-resize-mark' id='rs_m"+s.p.id+"'>&#160;</div>"),b(o).css("width",a.width+"px"),G=b("thead:first",s).get(0);var W="<table role='grid' style='width:"+s.p.tblwidth+"px' class='ui-jqgrid-ftable' cellspacing='0' cellpadding='0' border='0'><tbody><tr role='row' class='ui-widget-content footrow footrow-"+i+"'>";if(o=b("tr:first",G),s.p.disableClick=!1,b("th",o).each(function(e){A=s.p.colModel[e].width,void 0===s.p.colModel[e].resizable&&(s.p.colModel[e].resizable=!0),s.p.colModel[e].resizable?(P=document.createElement("span"),b(P).html("&#160;").addClass("ui-jqgrid-resize ui-jqgrid-resize-"+i),b.browser.opera||b(P).css("cursor","col-resize"),b(this).addClass(s.p.resizeclass)):P="",b(this).css("width",A+"px").prepend(P),s.p.colModel[e].hidden&&b(this).css("display","none"),a.headers[e]={width:A,el:this},"boolean"!=typeof(E=s.p.colModel[e].sortable)&&(E=s.p.colModel[e].sortable=!0);var t=s.p.colModel[e].name;"cb"==t||"subgrid"==t||"rn"==t||s.p.viewsortcols[2]&&b("div",this).addClass("ui-jqgrid-sortable"),E&&(s.p.viewsortcols[0]?(b("div span.s-ico",this).show(),e==s.p.lastsort&&b("div span.ui-icon-"+s.p.sortorder,this).removeClass("ui-state-disabled")):e==s.p.lastsort&&(b("div span.s-ico",this).show(),b("div span.ui-icon-"+s.p.sortorder,this).removeClass("ui-state-disabled"))),W+="<td role='gridcell' "+u(e,0,"")+">&#160;</td>"}).mousedown(function(e){if(1==b(e.target).closest("th>span.ui-jqgrid-resize").length){var t=b.jgrid.getCellIndex(this);return!0===s.p.forceFit&&(s.p.nv=function(e){var t,i=e;for(t=e+1;t<s.p.colModel.length;t++)if(!0!==s.p.colModel[t].hidden){i=t;break}return i-e}(t)),a.dragStart(t,e,function(e){var t,i={},n=d?0:s.p.cellLayout;for(t=i[0]=i[1]=i[2]=0;t<=e;t++)!1===s.p.colModel[t].hidden&&(i[0]+=s.p.colModel[t].width+n);return"rtl"==s.p.direction&&(i[0]=s.p.width-i[0]),i[0]-=s.grid.bDiv.scrollLeft,b(s.grid.cDiv).is(":visible")&&(i[1]+=b(s.grid.cDiv).height()+parseInt(b(s.grid.cDiv).css("padding-top"),10)+parseInt(b(s.grid.cDiv).css("padding-bottom"),10)),!0!==s.p.toolbar[0]||"top"!=s.p.toolbar[1]&&"both"!=s.p.toolbar[1]||(i[1]+=b(s.grid.uDiv).height()+parseInt(b(s.grid.uDiv).css("border-top-width"),10)+parseInt(b(s.grid.uDiv).css("border-bottom-width"),10)),s.p.toppager&&(i[1]+=b(s.grid.topDiv).height()+parseInt(b(s.grid.topDiv).css("border-bottom-width"),10)),i[2]+=b(s.grid.bDiv).height()+b(s.grid.hDiv).height(),i}(t)),!1}}).click(function(e){if(s.p.disableClick)return s.p.disableClick=!1;var t,i,n="th>div.ui-jqgrid-sortable";return s.p.viewsortcols[2]||(n="th>div>span>span.ui-grid-ico-sort"),1==(e=b(e.target).closest(n)).length?(n=b.jgrid.getCellIndex(this),s.p.viewsortcols[2]||(t=!0,i=e.attr("sort")),F(b("div",this)[0].id,n,t,i),!1):void 0}),s.p.sortable&&b.fn.sortable)try{b(s).jqGrid("sortableColumns",o)}catch(e){}W+="</tr></tbody></table>",this.appendChild(document.createElement("tbody")),b(this).addClass("ui-jqgrid-btable"),o=b("<table class='ui-jqgrid-htable' style='width:"+s.p.tblwidth+"px' role='grid' aria-labelledby='gbox_"+this.id+"' cellspacing='0' cellpadding='0' border='0'></table>").append(G);var Q,B,Y=!(!s.p.caption||!0!==s.p.hiddengrid);G=b("<div class='ui-jqgrid-hbox"+("rtl"==i?"-rtl":"")+"'></div>"),a.hDiv=document.createElement("div"),b(a.hDiv).css({width:a.width+"px"}).addClass("ui-state-default ui-jqgrid-hdiv").append(G),b(G).append(o),Y&&b(a.hDiv).hide(),s.p.pager&&("string"==typeof s.p.pager?"#"!=s.p.pager.substr(0,1)&&(s.p.pager="#"+s.p.pager):s.p.pager="#"+b(s.p.pager).attr("id"),b(s.p.pager).css({width:a.width+"px"}).appendTo(c).addClass("ui-state-default ui-jqgrid-pager ui-corner-bottom"),Y&&b(s.p.pager).hide(),r(s.p.pager,"")),!1===s.p.cellEdit&&!0===s.p.hoverrows&&b(s).bind("mouseover",function(e){return O=b(e.target).closest("tr.jqgrow"),"subgrid"!==b(O).attr("class")&&b(O).addClass("ui-state-hover"),!1}).bind("mouseout",function(e){return O=b(e.target).closest("tr.jqgrow"),b(O).removeClass("ui-state-hover"),!1}),b(s).before(a.hDiv).click(function(e){z=e.target;var t=b(z).hasClass("cbox");if(O=b(z,s.rows).closest("tr.jqgrow"),0===b(O).length)return this;var i=!0;if(b.isFunction(s.p.beforeSelectRow)&&(i=s.p.beforeSelectRow.call(s,O[0].id,e)),"A"==z.tagName||("INPUT"==z.tagName||"TEXTAREA"==z.tagName||"OPTION"==z.tagName||"SELECT"==z.tagName)&&!t)return this;if(!0!==i)return this;if(!0===s.p.cellEdit)if(s.p.multiselect&&t)b(s).jqGrid("setSelection",O[0].id,!0);else{Q=O[0].rowIndex,B=b.jgrid.getCellIndex(z);try{b(s).jqGrid("editCell",Q,B,!0)}catch(e){}}else s.p.multikey?e[s.p.multikey]?b(s).jqGrid("setSelection",O[0].id,!0):s.p.multiselect&&t&&(t=b("[id^=jqg_]",O).attr("checked"),b("[id^=jqg_]",O).attr("checked",!t)):(s.p.multiselect&&s.p.multiboxonly&&(t||(b(s.p.selarrrow).each(function(e,t){e=s.rows.namedItem(t),b(e).removeClass("ui-state-highlight"),b("#jqg_"+b.jgrid.jqID(t),e).attr("checked",!1)}),s.p.selarrrow=[],b("#cb_"+b.jgrid.jqID(s.p.id),s.grid.hDiv).attr("checked",!1))),b(s).jqGrid("setSelection",O[0].id,!0));b.isFunction(s.p.onCellSelect)&&(Q=O[0].id,B=b.jgrid.getCellIndex(z),s.p.onCellSelect.call(s,Q,B,b(z).html(),e)),e.stopPropagation()}).bind("reloadGrid",function(e,t){return!0===s.p.treeGrid&&(s.p.datatype=s.p.treedatatype),t&&t.current&&s.grid.selectionPreserver(s),"local"==s.p.datatype?b(s).jqGrid("resetSelection"):s.p.treeGrid||(s.p.selrow=null,s.p.multiselect&&(s.p.selarrrow=[],b("#cb_"+b.jgrid.jqID(s.p.id),s.grid.hDiv).attr("checked",!1)),s.p.savedRow=[],s.p.scroll&&x(s.grid.bDiv,!0)),t&&t.page&&((e=t.page)>s.p.lastpage&&(e=s.p.lastpage),e<1&&(e=1),s.p.page=e,s.grid.bDiv.scrollTop=s.grid.prevRowHeight?(e-1)*s.grid.prevRowHeight*s.p.rowNum:0),s.grid.prevRowHeight&&s.p.scroll?(delete s.p.lastpage,s.grid.populateVisible()):s.grid.populate(),!1}),b.isFunction(this.p.ondblClickRow)&&b(this).dblclick(function(e){return z=e.target,O=b(z,s.rows).closest("tr.jqgrow"),0!==b(O).length&&(Q=O[0].rowIndex,B=b.jgrid.getCellIndex(z),s.p.ondblClickRow.call(s,b(O).attr("id"),Q,B,e),!1)}),b.isFunction(this.p.onRightClickRow)&&b(this).bind("contextmenu",function(e){return z=e.target,O=b(z,s.rows).closest("tr.jqgrow"),0!==b(O).length&&(s.p.multiselect||b(s).jqGrid("setSelection",O[0].id,!0),Q=O[0].rowIndex,B=b.jgrid.getCellIndex(z),s.p.onRightClickRow.call(s,b(O).attr("id"),Q,B,e),!1)}),a.bDiv=document.createElement("div"),b(a.bDiv).append(b('<div style="position:relative;'+(l&&b.browser.version<8?"height:0.01%;":"")+'"></div>').append("<div></div>").append(this)).addClass("ui-jqgrid-bdiv").css({height:s.p.height+(isNaN(s.p.height)?"":"px"),width:a.width+"px"}).scroll(a.scrollGrid),b("table:first",a.bDiv).css({width:s.p.tblwidth+"px"}),l?(2==b("tbody",this).size()&&b("tbody:first",this).remove(),s.p.multikey&&b(a.bDiv).bind("selectstart",function(){return!1})):s.p.multikey&&b(a.bDiv).bind("mousedown",function(){return!1}),Y&&b(a.bDiv).hide(),a.cDiv=document.createElement("div");var V=!0===s.p.hidegrid?b("<a role='link' href='javascript:void(0)'/>").addClass("ui-jqgrid-titlebar-close HeaderButton").hover(function(){V.addClass("ui-state-hover")},function(){V.removeClass("ui-state-hover")}).append("<span class='ui-icon ui-icon-circle-triangle-n'></span>").css("rtl"==i?"left":"right","0px"):"";if(b(a.cDiv).append(V).append("<span class='ui-jqgrid-title"+("rtl"==i?"-rtl":"")+"'>"+s.p.caption+"</span>").addClass("ui-jqgrid-titlebar ui-widget-header ui-corner-top ui-helper-clearfix"),b(a.cDiv).insertBefore(a.hDiv),s.p.toolbar[0]&&(a.uDiv=document.createElement("div"),"top"==s.p.toolbar[1]?b(a.uDiv).insertBefore(a.hDiv):"bottom"==s.p.toolbar[1]&&b(a.uDiv).insertAfter(a.hDiv),"both"==s.p.toolbar[1]?(a.ubDiv=document.createElement("div"),b(a.uDiv).insertBefore(a.hDiv).addClass("ui-userdata ui-state-default").attr("id","t_"+this.id),b(a.ubDiv).insertAfter(a.hDiv).addClass("ui-userdata ui-state-default").attr("id","tb_"+this.id),Y&&b(a.ubDiv).hide()):b(a.uDiv).width(a.width).addClass("ui-userdata ui-state-default").attr("id","t_"+this.id),Y&&b(a.uDiv).hide()),s.p.toppager&&(s.p.toppager=s.p.id+"_toppager",a.topDiv=b("<div id='"+s.p.toppager+"'></div>")[0],s.p.toppager="#"+s.p.toppager,b(a.topDiv).insertBefore(a.hDiv).addClass("ui-state-default ui-jqgrid-toppager").width(a.width),r(s.p.toppager,"_t")),s.p.footerrow&&(a.sDiv=b("<div class='ui-jqgrid-sdiv'></div>")[0],G=b("<div class='ui-jqgrid-hbox"+("rtl"==i?"-rtl":"")+"'></div>"),b(a.sDiv).append(G).insertAfter(a.hDiv).width(a.width),b(G).append(W),a.footers=b(".ui-jqgrid-ftable",a.sDiv)[0].rows[0].cells,s.p.rownumbers&&(a.footers[0].className="ui-state-default jqgrid-rownum"),Y&&b(a.sDiv).hide()),s.p.caption){var U=s.p.datatype;!0===s.p.hidegrid&&(b(".ui-jqgrid-titlebar-close",a.cDiv).click(function(e){var t=b.isFunction(s.p.onHeaderClick);return"visible"==s.p.gridstate?(b(".ui-jqgrid-bdiv, .ui-jqgrid-hdiv","#gview_"+s.p.id).slideUp("fast"),s.p.pager&&b(s.p.pager).slideUp("fast"),s.p.toppager&&b(s.p.toppager).slideUp("fast"),!0===s.p.toolbar[0]&&("both"==s.p.toolbar[1]&&b(a.ubDiv).slideUp("fast"),b(a.uDiv).slideUp("fast")),s.p.footerrow&&b(".ui-jqgrid-sdiv","#gbox_"+s.p.id).slideUp("fast"),b("span",this).removeClass("ui-icon-circle-triangle-n").addClass("ui-icon-circle-triangle-s"),s.p.gridstate="hidden",b("#gbox_"+s.p.id).hasClass("ui-resizable")&&b(".ui-resizable-handle","#gbox_"+s.p.id).hide(),t&&(Y||s.p.onHeaderClick.call(s,s.p.gridstate,e))):"hidden"==s.p.gridstate&&(b(".ui-jqgrid-hdiv, .ui-jqgrid-bdiv","#gview_"+s.p.id).slideDown("fast"),s.p.pager&&b(s.p.pager).slideDown("fast"),s.p.toppager&&b(s.p.toppager).slideDown("fast"),!0===s.p.toolbar[0]&&("both"==s.p.toolbar[1]&&b(a.ubDiv).slideDown("fast"),b(a.uDiv).slideDown("fast")),s.p.footerrow&&b(".ui-jqgrid-sdiv","#gbox_"+s.p.id).slideDown("fast"),b("span",this).removeClass("ui-icon-circle-triangle-s").addClass("ui-icon-circle-triangle-n"),Y&&(s.p.datatype=U,D(),Y=!1),s.p.gridstate="visible",b("#gbox_"+s.p.id).hasClass("ui-resizable")&&b(".ui-resizable-handle","#gbox_"+s.p.id).show(),t&&s.p.onHeaderClick.call(s,s.p.gridstate,e)),!1}),Y&&(s.p.datatype="local",b(".ui-jqgrid-titlebar-close",a.cDiv).trigger("click")))}else b(a.cDiv).hide();b(a.hDiv).after(a.bDiv).mousemove(function(e){if(a.resizing)return a.dragMove(e),!1}),b(".ui-jqgrid-labels",a.hDiv).bind("selectstart",function(){return!1}),b(document).mouseup(function(){return!a.resizing||(a.dragEnd(),!1)}),this.updateColumns=function(){var e=this.rows[0],t=this;return e&&(b("td",e).each(function(e){b(this).css("width",t.grid.headers[e].width+"px")}),this.grid.cols=e.cells),this},s.formatCol=u,s.sortData=F,s.updatepager=j,s.formatter=function(e,t,i,s,n){return f(e,t,i,s,n)},b.extend(a,{populate:D,emptyRows:x}),this.grid=a,s.addXmlData=function(e){C(e,s.grid.bDiv)},s.addJSONData=function(e){k(e,s.grid.bDiv)},D(),s.p.hiddengrid=!1,b(window).unload(function(){s=null})}}var X,$,K,J,Z,ee,te,ie,se,ne,ae,re})},b.jgrid.extend({getGridParam:function(e){var t=this[0];if(t.grid)return e?void 0!==t.p[e]?t.p[e]:null:t.p},setGridParam:function(e){return this.each(function(){this.grid&&"object"==typeof e&&b.extend(!0,this.p,e)})},getDataIDs:function(){var e,t=[],i=0;return this.each(function(){if((e=this.rows.length)&&e>0)for(;i<e;)t[i]=this.rows[i].id,i++}),t},setSelection:function(e,t){return this.each(function(){var i,s,n,a,r,o,l,d=this;void 0!==e&&(t=!1!==t,(s=d.rows.namedItem(e+""))&&(!0===d.p.scrollrows&&(i=d.rows.namedItem(e).rowIndex)>=0&&(a=i,r=b(d.grid.bDiv)[0].clientHeight,o=b(d.grid.bDiv)[0].scrollTop,(l=d.rows[a].offsetTop)+(a=d.rows[a].clientHeight)>=r+o?b(d.grid.bDiv)[0].scrollTop=l-(r+o)+a+o:l<r+o&&l<o&&(b(d.grid.bDiv)[0].scrollTop=l)),d.p.multiselect?(d.p.selrow=s.id,-1===(n=b.inArray(d.p.selrow,d.p.selarrrow))?("ui-subgrid"!==s.className&&b(s).addClass("ui-state-highlight").attr("aria-selected","true"),i=!0,b("#jqg_"+b.jgrid.jqID(d.p.selrow),d.rows[s.rowIndex]).attr("checked",i),d.p.selarrrow.push(d.p.selrow),d.p.onSelectRow&&t&&d.p.onSelectRow.call(d,d.p.selrow,i)):("ui-subgrid"!==s.className&&b(s).removeClass("ui-state-highlight").attr("aria-selected","false"),i=!1,b("#jqg_"+b.jgrid.jqID(d.p.selrow),d.rows[s.rowIndex]).attr("checked",i),d.p.selarrrow.splice(n,1),d.p.onSelectRow&&t&&d.p.onSelectRow.call(d,d.p.selrow,i),s=d.p.selarrrow[0],d.p.selrow=void 0===s?null:s)):"ui-subgrid"!==s.className&&(d.p.selrow&&b(d.rows.namedItem(d.p.selrow)).removeClass("ui-state-highlight").attr("aria-selected","false"),d.p.selrow=s.id,b(s).addClass("ui-state-highlight").attr("aria-selected","true"),d.p.onSelectRow&&t&&d.p.onSelectRow.call(d,d.p.selrow,!0))))})},resetSelection:function(){return this.each(function(){var e,t=this;t.p.multiselect?(b(t.p.selarrrow).each(function(i,s){e=t.rows.namedItem(s),b(e).removeClass("ui-state-highlight").attr("aria-selected","false"),b("#jqg_"+b.jgrid.jqID(s),e).attr("checked",!1)}),b("#cb_"+b.jgrid.jqID(t.p.id),t.grid.hDiv).attr("checked",!1),t.p.selarrrow=[]):t.p.selrow&&(b("tr#"+b.jgrid.jqID(t.p.selrow),t.grid.bDiv).removeClass("ui-state-highlight").attr("aria-selected","false"),t.p.selrow=null),t.p.savedRow=[]})},getRowData:function(e){var t,i,s={},n=!1,a=0;return this.each(function(){var r,o,l=this;if(void 0===e)n=!0,t=[],i=l.rows.length;else{if(!(o=l.rows.namedItem(e)))return s;i=1}for(;a<i;)n&&(o=l.rows[a]),b("td",o).each(function(e){if("cb"!==(r=l.p.colModel[e].name)&&"subgrid"!==r)if(!0===l.p.treeGrid&&r==l.p.ExpandColumn)s[r]=b.jgrid.htmlDecode(b("span:first",this).html());else try{s[r]=b.unformat(this,{rowId:o.id,colModel:l.p.colModel[e]},e)}catch(e){s[r]=b.jgrid.htmlDecode(b(this).html())}}),a++,n&&(t.push(s),s={})}),t||s},delRowData:function(e){var t,i,s,n=!1;return this.each(function(){var a=this;if(!(t=a.rows.namedItem(e)))return!1;if(s=t.rowIndex,b(t).remove(),a.p.records--,a.p.reccount--,a.updatepager(!0,!1),n=!0,a.p.multiselect&&-1!=(i=b.inArray(e,a.p.selarrrow))&&a.p.selarrrow.splice(i,1),e==a.p.selrow&&(a.p.selrow=null),0===s&&n&&a.updateColumns(),!0===a.p.altRows&&n){var r=a.p.altclass;b(a.rows).each(function(e){e%2==1?b(this).addClass(r):b(this).removeClass(r)})}}),n},setRowData:function(e,t,i){var s,n,a=!1;return this.each(function(){var r,o,l=this,d=typeof i;return!!l.grid&&(!!(o=l.rows.namedItem(e))&&(t&&b(this.p.colModel).each(function(i){s=this.name,void 0!==t[s]&&(r=l.formatter(e,t[s],i,t,"edit"),n=this.title?{title:b.jgrid.stripHtml(r)}:{},!0===l.p.treeGrid&&s==l.p.ExpandColumn?b("td:eq("+i+") > span:first",o).html(r).attr(n):b("td:eq("+i+")",o).html(r).attr(n),a=!0)}),void("string"===d?b(o).addClass(i):"object"===d&&b(o).css(i))))}),a},addRowData:function(e,t,i,s){i||(i="last");var n,a,r,o,l,d,c,h,u,p,f,g,m=!1,v="";return t&&(b.isArray(t)?(u=!0,i="last",p=e):(t=[t],u=!1),this.each(function(){var y=this,w=t.length;l=!0===y.p.rownumbers?1:0,r=!0===y.p.multiselect?1:0,o=!0===y.p.subGrid?1:0,u||(void 0!==e?e+="":(e=y.p.records+1+"",!1!==y.p.keyIndex&&(p=y.p.colModel[y.p.keyIndex+r+o+l].name,void 0!==t[0][p]&&(e=t[0][p])))),f=y.p.altclass;for(var x=0,_="",C=!!b.isFunction(y.p.afterInsertRow);x<w;){if(g=t[x],a="",u){try{e=g[p]}catch(t){e=y.p.records+1}_=!0===y.p.altRows&&(y.rows.length-1)%2==0?f:""}for(l&&(v=y.formatCol(l,1,""),a+='<td role="gridcell" aria-describedby="'+y.p.id+'_rn" class="ui-state-default jqgrid-rownum" '+v+">0</td>"),r&&(h='<input role="checkbox" type="checkbox" id="jqg_'+e+'" class="cbox"/>',v=y.formatCol(l,1,""),a+='<td role="gridcell" aria-describedby="'+y.p.id+'_cb" '+v+">"+h+"</td>"),o&&(a+=b(y).jqGrid("addSubGridCell",r+l,1)),c=r+o+l;c<this.p.colModel.length;c++)n=this.p.colModel[c].name,h=y.formatter(e,g[n],c,g,"add"),v=y.formatCol(c,1,h),a+='<td role="gridcell" aria-describedby="'+y.p.id+"_"+n+'" '+v+">"+h+"</td>";if(a='<tr id="'+e+'" role="row" class="ui-widget-content jqgrow ui-row-'+y.p.direction+" "+_+'">'+a+"</tr>",!0===y.p.subGrid&&(a=b(a)[0],b(y).jqGrid("addSubGrid",a,r+l)),0===y.rows.length)b("table:first",y.grid.bDiv).append(a);else switch(i){case"last":b(y.rows[y.rows.length-1]).after(a);break;case"first":b(y.rows[0]).before(a);break;case"after":(d=y.rows.namedItem(s))&&(b(y.rows[d.rowIndex+1]).hasClass("ui-subgrid")?b(y.rows[d.rowIndex+1]).after(a):b(d).after(a));break;case"before":(d=y.rows.namedItem(s))&&(b(d).before(a),d=d.rowIndex)}y.p.records++,y.p.reccount++,y.grid.cols&&y.grid.cols.length||(y.grid.cols=y.rows[0].cells),("first"===i||"before"===i&&d<=1||1===y.rows.length)&&y.updateColumns(),C&&y.p.afterInsertRow.call(y,e,g,g),x++}!0!==y.p.altRows||u||("last"==i?(y.rows.length-1)%2==1&&b(y.rows[y.rows.length-1]).addClass(f):b(y.rows).each(function(e){e%2==1?b(this).addClass(f):b(this).removeClass(f)})),y.updatepager(!0,!0),m=!0})),m},footerData:function(e,t,i){var s,n,a=!1,r={};return void 0===e&&(e="get"),"boolean"!=typeof i&&(i=!0),e=e.toLowerCase(),this.each(function(){var o,l=this;return!(!l.grid||!l.p.footerrow)&&(("set"!=e||!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(t))&&(a=!0,void b(this.p.colModel).each(function(d){s=this.name,"set"==e?void 0!==t[s]&&(o=i?l.formatter("",t[s],d,t,"edit"):t[s],n=this.title?{title:b.jgrid.stripHtml(o)}:{},b("tr.footrow td:eq("+d+")",l.grid.sDiv).html(o).attr(n),a=!0):"get"==e&&(r[s]=b("tr.footrow td:eq("+d+")",l.grid.sDiv).html())})))}),"get"==e?r:a},ShowHideCol:function(e,t){return this.each(function(){var i=this,s=!1;if(i.grid){"string"==typeof e&&(e=[e]);var n=""==(t="none"!=t?"":"none");b(this.p.colModel).each(function(a){-1!==b.inArray(this.name,e)&&this.hidden===n&&(b("tr",i.grid.hDiv).each(function(){b("th:eq("+a+")",this).css("display",t)}),b(i.rows).each(function(e){b("td:eq("+a+")",i.rows[e]).css("display",t)}),i.p.footerrow&&b("td:eq("+a+")",i.grid.sDiv).css("display",t),"none"==t?i.p.tblwidth-=this.width:i.p.tblwidth+=this.width,this.hidden=!n,s=!0)}),!0===s&&(b("table:first",i.grid.hDiv).width(i.p.tblwidth),b("table:first",i.grid.bDiv).width(i.p.tblwidth),i.grid.hDiv.scrollLeft=i.grid.bDiv.scrollLeft,i.p.footerrow&&(b("table:first",i.grid.sDiv).width(i.p.tblwidth),i.grid.sDiv.scrollLeft=i.grid.bDiv.scrollLeft))}})},hideCol:function(e){return this.each(function(){b(this).jqGrid("ShowHideCol",e,"none")})},showCol:function(e){return this.each(function(){b(this).jqGrid("ShowHideCol",e,"")})},remapColumns:function(e,t,i){function s(t){var i;i=t.length?b.makeArray(t):b.extend({},t),b.each(e,function(e){t[e]=i[this]})}function n(t,i){b(">tr"+(i||""),t).each(function(){var t=this,i=b.makeArray(t.cells);b.each(e,function(){var e=i[this];e&&t.appendChild(e)})})}var a=this.get(0);s(a.p.colModel),s(a.p.colNames),s(a.grid.headers),n(b("thead:first",a.grid.hDiv),i&&":not(.ui-jqgrid-labels)"),t&&n(b("tbody:first",a.grid.bDiv),".jqgrow"),a.p.footerrow&&n(b("tbody:first",a.grid.sDiv)),a.p.remapColumns&&(a.p.remapColumns.length?s(a.p.remapColumns):a.p.remapColumns=b.makeArray(e)),a.p.lastsort=b.inArray(a.p.lastsort,e),a.p.treeGrid&&(a.p.expColInd=b.inArray(a.p.expColInd,e))},setGridWidth:function(e,t){return this.each(function(){var i,s,n,a,r=this,o=0,l=r.p.cellLayout,d=0,c=!1,h=r.p.scrollOffset,u=0,p=0,f=0;if(r.grid&&("boolean"!=typeof t&&(t=r.p.shrinkToFit),!isNaN(e)&&(e=parseInt(e,10),r.grid.width=r.p.width=e,b("#gbox_"+r.p.id).css("width",e+"px"),b("#gview_"+r.p.id).css("width",e+"px"),b(r.grid.bDiv).css("width",e+"px"),b(r.grid.hDiv).css("width",e+"px"),r.p.pager&&b(r.p.pager).css("width",e+"px"),r.p.toppager&&b(r.p.toppager).css("width",e+"px"),!0===r.p.toolbar[0]&&(b(r.grid.uDiv).css("width",e+"px"),"both"==r.p.toolbar[1]&&b(r.grid.ubDiv).css("width",e+"px")),r.p.footerrow&&b(r.grid.sDiv).css("width",e+"px"),!1===t&&!0===r.p.forceFit&&(r.p.forceFit=!1),!0===t&&(b.browser.safari&&(l=0),b.each(r.p.colModel,function(){!1===this.hidden&&(o+=parseInt(this.width,10),this.fixed?(p+=this.width,u+=this.width+l):d++,f++)}),0!==d)))){r.p.tblwidth=o,n=e-l*d-u,isNaN(r.p.height)||b(r.grid.bDiv)[0].clientHeight<b(r.grid.bDiv)[0].scrollHeight&&(c=!0,n-=h),o=0;var g=r.grid.cols.length>0;b.each(r.p.colModel,function(e){!1!==this.hidden||this.fixed||(i=Math.round(n*this.width/(r.p.tblwidth-p)))<0||(this.width=i,o+=i,r.grid.headers[e].width=i,r.grid.headers[e].el.style.width=i+"px",r.p.footerrow&&(r.grid.footers[e].style.width=i+"px"),g&&(r.grid.cols[e].style.width=i+"px"),s=e)}),a=0,c?e-u-(o+l*d)!==h&&(a=e-u-(o+l*d)-h):1!==Math.abs(e-u-(o+l*d))&&(a=e-u-(o+l*d)),r.p.colModel[s].width+=a,r.p.tblwidth=o+a+p+l*f,r.p.tblwidth>e?(c=r.p.tblwidth-parseInt(e,10),r.p.tblwidth=e,i=r.p.colModel[s].width-=c):i=r.p.colModel[s].width,r.grid.headers[s].width=i,r.grid.headers[s].el.style.width=i+"px",g&&(r.grid.cols[s].style.width=i+"px"),b("table:first",r.grid.bDiv).css("width",r.p.tblwidth+"px"),b("table:first",r.grid.hDiv).css("width",r.p.tblwidth+"px"),r.grid.hDiv.scrollLeft=r.grid.bDiv.scrollLeft,r.p.footerrow&&(r.grid.footers[s].style.width=i+"px",b("table:first",r.grid.sDiv).css("width",r.p.tblwidth+"px"))}})},setGridHeight:function(e){return this.each(function(){var t=this;t.grid&&(b(t.grid.bDiv).css({height:e+(isNaN(e)?"":"px")}),t.p.height=e,t.p.scroll&&t.grid.populateVisible())})},setCaption:function(e){return this.each(function(){this.p.caption=e,b("span.ui-jqgrid-title",this.grid.cDiv).html(e),b(this.grid.cDiv).show()})},setLabel:function(e,t,i,s){return this.each(function(){var n=this,a=-1;if(n.grid&&(isNaN(e)?b(n.p.colModel).each(function(t){if(this.name==e)return a=t,!1}):a=parseInt(e,10),a>=0)){var r=b("tr.ui-jqgrid-labels th:eq("+a+")",n.grid.hDiv);if(t){var o=b(".s-ico",r);b("[id^=jqgh_]",r).empty().html(t).append(o),n.p.colNames[a]=t}i&&("string"==typeof i?b(r).addClass(i):b(r).css(i)),"object"==typeof s&&b(r).attr(s)}})},setCell:function(e,t,i,s,n,a){return this.each(function(){var r,o,l=this,d=-1;if(l.grid&&(isNaN(t)?b(l.p.colModel).each(function(e){if(this.name==t)return d=e,!1}):d=parseInt(t,10),d>=0&&(r=l.rows.namedItem(e)))){var c=b("td:eq("+d+")",r);""===i&&!0!==a||(r=l.formatter(e,i,d,r,"edit"),o=l.p.colModel[d].title?{title:b.jgrid.stripHtml(r)}:{},l.p.treeGrid&&b(".tree-wrap",b(c)).length>0?b("span",b(c)).html(r).attr(o):b(c).html(r).attr(o)),"string"==typeof s?b(c).addClass(s):s&&b(c).css(s),"object"==typeof n&&b(c).attr(n)}})},getCell:function(e,t){var i=!1;return this.each(function(){var s=this,n=-1;if(s.grid&&(isNaN(t)?b(s.p.colModel).each(function(e){if(this.name===t)return n=e,!1}):n=parseInt(t,10),n>=0)){var a=s.rows.namedItem(e);if(a)try{i=b.unformat(b("td:eq("+n+")",a),{rowId:a.id,colModel:s.p.colModel[n]},n)}catch(e){i=b.jgrid.htmlDecode(b("td:eq("+n+")",a).html())}}}),i},getCol:function(e,t,i){var s,n=[],a=0;return t="boolean"==typeof t&&t,void 0===i&&(i=!1),this.each(function(){var r=this,o=-1;if(r.grid&&(isNaN(e)?b(r.p.colModel).each(function(t){if(this.name===e)return o=t,!1}):o=parseInt(e,10),o>=0)){var l=r.rows.length,d=0;if(l&&l>0){for(;d<l;){try{s=b.unformat(b(r.rows[d].cells[o]),{rowId:r.rows[d].id,colModel:r.p.colModel[o]},o)}catch(e){s=b.jgrid.htmlDecode(r.rows[d].cells[o].innerHTML)}i?a+=parseFloat(s):t?n.push({id:r.rows[d].id,value:s}):n[d]=s,d++}if(i)switch(i.toLowerCase()){case"sum":n=a;break;case"avg":n=a/l;break;case"count":n=l}}}}),n},clearGridData:function(e){return this.each(function(){var t=this;t.grid&&("boolean"!=typeof e&&(e=!1),b("tbody:first tr",t.grid.bDiv).remove(),t.p.footerrow&&e&&b(".ui-jqgrid-ftable td",t.grid.sDiv).html("&#160;"),t.p.selrow=null,t.p.selarrrow=[],t.p.savedRow=[],t.p.records=0,t.p.page="0",t.p.lastpage="0",t.p.reccount=0,t.updatepager(!0,!1))})},getInd:function(e,t){var i,s=!1;return this.each(function(){(i=this.rows.namedItem(e))&&(s=!0===t?i:i.rowIndex)}),s}})}(jQuery),function(e){e.fmatter={},e.fn.fmatter=function(t,i,s,n,a){return function(t,i,s,n,a){var r=i;return e.fn.fmatter[t]&&(r=e.fn.fmatter[t](i,s,n,a)),r}(t,i,s=e.extend({},e.jgrid.formatter,s),n,a)},e.fmatter.util={NumberFormat:function(e,t){if(isNumber(e)||(e*=1),isNumber(e)){var i=e<0,s=e+"",n=t.decimalSeparator?t.decimalSeparator:".";if(isNumber(t.decimalPlaces)){var a=t.decimalPlaces;if(s=Math.pow(10,a),e=(s=Math.round(e*s)/s+"").lastIndexOf("."),a>0)for(e<0?e=(s+=n).length-1:"."!==n&&(s=s.replace(".",n));s.length-1-e<a;)s+="0"}if(t.thousandsSeparator){a=t.thousandsSeparator,e=(e=s.lastIndexOf(n))>-1?e:s.length,n=s.substring(e);for(var r=-1,o=e;o>0;o--)++r%3==0&&o!==e&&(!i||o>1)&&(n=a+n),n=s.charAt(o-1)+n;s=n}return s=t.prefix?t.prefix+s:s,t.suffix?s+t.suffix:s}return e},DateFormat:function(t,i,s,n){var a,r,o=function(e,t){for(e=String(e),t=parseInt(t,10)||2;e.length<t;)e="0"+e;return e},l={m:1,d:1,y:1970,h:0,i:0,s:0,u:0},d=0,c=["i18n"];if(c.i18n={dayNames:n.dayNames,monthNames:n.monthNames},t in n.masks&&(t=n.masks[t]),i.constructor===Date)d=i;else{for(i=i.split(/[\\\/:_;.\t\T\s-]/),a=0,r=(t=t.split(/[\\\/:_;.\t\T\s-]/)).length;a<r;a++)"M"==t[a]&&-1!==(d=e.inArray(i[a],c.i18n.monthNames))&&d<12&&(i[a]=d+1),"F"==t[a]&&-1!==(d=e.inArray(i[a],c.i18n.monthNames))&&d>11&&(i[a]=d+1-12),l[t[a].toLowerCase()]=parseInt(i[a],10);l.m=parseInt(l.m,10)-1,(d=l.y)>=70&&d<=99?l.y=1900+l.y:d>=0&&d<=69&&(l.y=2e3+l.y),d=new Date(l.y,l.m,l.d,l.h,l.i,l.s,l.u)}s in n.masks?s=n.masks[s]:s||(s="Y-m-d"),l=d.getHours(),t=d.getMinutes(),i=d.getDate(),a=d.getMonth()+1,r=d.getTimezoneOffset();var h=d.getSeconds(),u=d.getMilliseconds(),p=d.getDay(),f=d.getFullYear(),g=(p+6)%7+1,m=(new Date(f,a-1,i)-new Date(f,0,1))/864e5,v={d:o(i),D:c.i18n.dayNames[p],j:i,l:c.i18n.dayNames[p+7],N:g,S:n.S(i),w:p,z:m,W:g<5?Math.floor((m+g-1)/7)+1:Math.floor((m+g-1)/7)||((new Date(f-1,0,1).getDay()+6)%7<4?53:52),F:c.i18n.monthNames[a-1+12],m:o(a),M:c.i18n.monthNames[a-1],n:a,t:"?",L:"?",o:"?",Y:f,y:String(f).substring(2),a:l<12?n.AmPm[0]:n.AmPm[1],A:l<12?n.AmPm[2]:n.AmPm[3],B:"?",g:l%12||12,G:l,h:o(l%12||12),H:o(l),i:o(t),s:o(h),u:u,e:"?",I:"?",O:(r>0?"-":"+")+o(100*Math.floor(Math.abs(r)/60)+Math.abs(r)%60,4),P:"?",T:(String(d).match(/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g)||[""]).pop().replace(/[^-+\dA-Z]/g,""),Z:"?",c:"?",r:"?",U:Math.floor(d/1e3)};return s.replace(/\\.|[dDjlNSwzWFmMntLoYyaABgGhHisueIOPTZcrU]/g,function(e){return e in v?v[e]:e.substring(1)})}},e.fn.fmatter.defaultFormat=function(e,t){return isValue(e)&&""!==e?e:t.defaultValue?t.defaultValue:"&#160;"},e.fn.fmatter.email=function(t,i){return isEmpty(t)?e.fn.fmatter.defaultFormat(t,i):'<a href="mailto:'+t+'">'+t+"</a>"},e.fn.fmatter.checkbox=function(t,i){var s=e.extend({},i.checkbox);return isUndefined(i.colModel.formatoptions)||(s=e.extend({},s,i.colModel.formatoptions)),i=!0===s.disabled?"disabled":"",(isEmpty(t)||isUndefined(t))&&(t=e.fn.fmatter.defaultFormat(t,s)),'<input type="checkbox" '+((t=(t+="").toLowerCase()).search(/(false|0|no|off)/i)<0?" checked='checked' ":"")+' value="'+t+'" offval="no" '+i+"/>"},e.fn.fmatter.link=function(t,i){var s={target:i.target},n="";return isUndefined(i.colModel.formatoptions)||(s=e.extend({},s,i.colModel.formatoptions)),s.target&&(n="target="+s.target),isEmpty(t)?e.fn.fmatter.defaultFormat(t,i):"<a "+n+' href="'+t+'">'+t+"</a>"},e.fn.fmatter.showlink=function(t,i){var s={baseLinkUrl:i.baseLinkUrl,showAction:i.showAction,addParam:i.addParam||"",target:i.target,idName:i.idName},n="";return isUndefined(i.colModel.formatoptions)||(s=e.extend({},s,i.colModel.formatoptions)),s.target&&(n="target="+s.target),s=s.baseLinkUrl+s.showAction+"?"+s.idName+"="+i.rowId+s.addParam,isString(t)?"<a "+n+' href="'+s+'">'+t+"</a>":e.fn.fmatter.defaultFormat(t,i)},e.fn.fmatter.integer=function(t,i){var s=e.extend({},i.integer);return isUndefined(i.colModel.formatoptions)||(s=e.extend({},s,i.colModel.formatoptions)),isEmpty(t)?s.defaultValue:e.fmatter.util.NumberFormat(t,s)},e.fn.fmatter.number=function(t,i){var s=e.extend({},i.number);return isUndefined(i.colModel.formatoptions)||(s=e.extend({},s,i.colModel.formatoptions)),isEmpty(t)?s.defaultValue:e.fmatter.util.NumberFormat(t,s)},e.fn.fmatter.currency=function(t,i){var s=e.extend({},i.currency);return isUndefined(i.colModel.formatoptions)||(s=e.extend({},s,i.colModel.formatoptions)),isEmpty(t)?s.defaultValue:e.fmatter.util.NumberFormat(t,s)},e.fn.fmatter.date=function(t,i,s,n){return s=e.extend({},i.date),isUndefined(i.colModel.formatoptions)||(s=e.extend({},s,i.colModel.formatoptions)),s.reformatAfterEdit||"edit"!=n?isEmpty(t)?e.fn.fmatter.defaultFormat(t,i):e.fmatter.util.DateFormat(s.srcformat,t,s.newformat,s):e.fn.fmatter.defaultFormat(t,i)},e.fn.fmatter.select=function(t,i){t+="";var s=!1,n=[];if(isUndefined(i.colModel.editoptions)||(s=i.colModel.editoptions.value),s){var a,r=!0===i.colModel.editoptions.multiple,o=[];if(r&&(o=t.split(","),o=e.map(o,function(t){return e.trim(t)})),isString(s)){for(var l=s.split(";"),d=0,c=0;c<l.length;c++)if((a=l[c].split(":")).length>2&&(a[1]=jQuery.map(a,function(e,t){if(t>0)return e}).join(":")),r)jQuery.inArray(a[0],o)>-1&&(n[d]=a[1],d++);else if(e.trim(a[0])==e.trim(t)){n[0]=a[1];break}}else isObject(s)&&(r?n=jQuery.map(o,function(e){return s[e]}):n[0]=s[t]||"")}return""==(t=n.join(", "))?e.fn.fmatter.defaultFormat(t,i):t},e.fn.fmatter.rowactions=function(t,i,s,n){switch(s){case"edit":s=function(){e("tr#"+t+" div.ui-inline-edit, tr#"+t+" div.ui-inline-del","#"+i).show(),e("tr#"+t+" div.ui-inline-save, tr#"+t+" div.ui-inline-cancel","#"+i).hide()},e("#"+i).jqGrid("editRow",t,n,null,null,null,{oper:"edit"},s,null,s),e("tr#"+t+" div.ui-inline-edit, tr#"+t+" div.ui-inline-del","#"+i).hide(),e("tr#"+t+" div.ui-inline-save, tr#"+t+" div.ui-inline-cancel","#"+i).show();break;case"save":e("#"+i).jqGrid("saveRow",t,null,null),e("tr#"+t+" div.ui-inline-edit, tr#"+t+" div.ui-inline-del","#"+i).show(),e("tr#"+t+" div.ui-inline-save, tr#"+t+" div.ui-inline-cancel","#"+i).hide();break;case"cancel":e("#"+i).jqGrid("restoreRow",t),e("tr#"+t+" div.ui-inline-edit, tr#"+t+" div.ui-inline-del","#"+i).show(),e("tr#"+t+" div.ui-inline-save, tr#"+t+" div.ui-inline-cancel","#"+i).hide()}},e.fn.fmatter.actions=function(t,i){t={keys:!1,editbutton:!0,delbutton:!0},isUndefined(i.colModel.formatoptions)||(t=e.extend(t,i.colModel.formatoptions));var s,n=i.rowId,a="";return void 0===n||isEmpty(n)?"":(t.editbutton&&(s="onclick=$.fn.fmatter.rowactions('"+n+"','"+i.gid+"','edit',"+t.keys+");",a=a+"<div style='margin-left:8px;'><div title='"+e.jgrid.nav.edittitle+"' style='float:left;cursor:pointer;' class='ui-pg-div ui-inline-edit' "+s+"><span class='ui-icon ui-icon-pencil'></span></div>"),t.delbutton&&(s="onclick=jQuery('#"+i.gid+"').jqGrid('delGridRow','"+n+"');",a=a+"<div title='"+e.jgrid.nav.deltitle+"' style='float:left;margin-left:5px;' class='ui-pg-div ui-inline-del' "+s+"><span class='ui-icon ui-icon-trash'></span></div>"),s="onclick=$.fn.fmatter.rowactions('"+n+"','"+i.gid+"','save',false);",a=a+"<div title='"+e.jgrid.edit.bSubmit+"' style='float:left;display:none' class='ui-pg-div ui-inline-save'><span class='ui-icon ui-icon-disk' "+s+"></span></div>",s="onclick=$.fn.fmatter.rowactions('"+n+"','"+i.gid+"','cancel',false);",a+"<div title='"+e.jgrid.edit.bCancel+"' style='float:left;display:none;margin-left:5px;' class='ui-pg-div ui-inline-cancel'><span class='ui-icon ui-icon-cancel' "+s+"></span></div></div>")},e.unformat=function(t,i,s,n){var a,r=i.colModel.formatter,o=i.colModel.formatoptions||{},l=/([\.\*\_\'\(\)\{\}\+\?\\])/g;if(unformatFunc=i.colModel.unformat||e.fn.fmatter[r]&&e.fn.fmatter[r].unformat,"undefined"!=typeof unformatFunc&&isFunction(unformatFunc))a=unformatFunc(e(t).text(),i,t);else if(void 0!==r&&isString(r))switch(a=e.jgrid.formatter||{},r){case"integer":i=(o=e.extend({},a.integer,o)).thousandsSeparator.replace(l,"\\$1"),i=new RegExp(i,"g"),a=e(t).text().replace(i,"");break;case"number":i=(o=e.extend({},a.number,o)).thousandsSeparator.replace(l,"\\$1"),i=new RegExp(i,"g"),a=e(t).text().replace(i,"").replace(o.decimalSeparator,".");break;case"currency":i=(o=e.extend({},a.currency,o)).thousandsSeparator.replace(l,"\\$1"),i=new RegExp(i,"g"),a=e(t).text().replace(i,"").replace(o.decimalSeparator,".").replace(o.prefix,"").replace(o.suffix,"");break;case"checkbox":o=i.colModel.editoptions?i.colModel.editoptions.value.split(":"):["Yes","No"],a=e("input",t).attr("checked")?o[0]:o[1];break;case"select":a=e.unformat.select(t,i,s,n);break;case"actions":return"";default:a=e(t).text()}return a||(!0===n?e(t).text():e.jgrid.htmlDecode(e(t).html()))},e.unformat.select=function(t,i,s,n){if(s=[],t=e(t).text(),!0===n)return t;if((i=e.extend({},i.colModel.editoptions)).value){var a,r=i.value;if(n=[],(i=!0===i.multiple)&&(n=t.split(","),n=e.map(n,function(t){return e.trim(t)})),isString(r)){for(var o=r.split(";"),l=0,d=0;d<o.length;d++)if(a=o[d].split(":"),i)jQuery.inArray(a[1],n)>-1&&(s[l]=a[0],l++);else if(e.trim(a[1])==e.trim(t)){s[0]=a[0];break}}else isObject(r)&&(i||(n[0]=t),s=jQuery.map(n,function(t){var i;if(e.each(r,function(e,s){if(s==t)return i=e,!1}),i)return i}));return s.join(", ")}return t||""},isValue=function(e){return isObject(e)||isString(e)||isNumber(e)||isBoolean(e)},isBoolean=function(e){return"boolean"==typeof e},isNull=function(e){return null===e},isNumber=function(e){return"number"==typeof e&&isFinite(e)},isString=function(e){return"string"==typeof e},isEmpty=function(t){return!(!isString(t)&&isValue(t))&&(!isValue(t)||""===(t=e.trim(t).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,"")))},isUndefined=function(e){return void 0===e},isObject=function(e){return e&&("object"==typeof e||isFunction(e))||!1},isFunction=function(e){return"function"==typeof e}}(jQuery),function(e){e.jgrid.extend({getColProp:function(e){var t={},i=this[0];if(i.grid){i=i.p.colModel;for(var s=0;s<i.length;s++)if(i[s].name==e){t=i[s];break}return t}},setColProp:function(t,i){return this.each(function(){if(this.grid&&i)for(var s=this.p.colModel,n=0;n<s.length;n++)if(s[n].name==t){e.extend(this.p.colModel[n],i);break}})},sortGrid:function(e,t,i){return this.each(function(){var s=this,n=-1;if(s.grid){e||(e=s.p.sortname);for(var a=0;a<s.p.colModel.length;a++)if(s.p.colModel[a].index==e||s.p.colModel[a].name==e){n=a;break}-1!=n&&("boolean"!=typeof(a=s.p.colModel[n].sortable)&&(a=!0),"boolean"!=typeof t&&(t=!1),a&&s.sortData("jqgh_"+e,n,t,i))}})},GridDestroy:function(){return this.each(function(){if(this.grid){this.p.pager&&e(this.p.pager).remove();var t=this.id;try{e("#gbox_"+t).remove()}catch(e){}}})},GridUnload:function(){return this.each(function(){if(this.grid){var t={id:e(this).attr("id"),cl:e(this).attr("class")};this.p.pager&&e(this.p.pager).empty().removeClass("ui-state-default ui-jqgrid-pager corner-bottom");var i=document.createElement("table");e(i).attr({id:t.id}),i.className=t.cl,t=this.id,e(i).removeClass("ui-jqgrid-btable"),1===e(this.p.pager).parents("#gbox_"+t).length?(e(i).insertBefore("#gbox_"+t).show(),e(this.p.pager).insertBefore("#gbox_"+t)):e(i).insertBefore("#gbox_"+t).show(),e("#gbox_"+t).remove()}})},setGridState:function(t){return this.each(function(){if(this.grid){var i=this;"hidden"==t?(e(".ui-jqgrid-bdiv, .ui-jqgrid-hdiv","#gview_"+i.p.id).slideUp("fast"),i.p.pager&&e(i.p.pager).slideUp("fast"),i.p.toppager&&e(i.p.toppager).slideUp("fast"),!0===i.p.toolbar[0]&&("both"==i.p.toolbar[1]&&e(i.grid.ubDiv).slideUp("fast"),e(i.grid.uDiv).slideUp("fast")),i.p.footerrow&&e(".ui-jqgrid-sdiv","#gbox_"+i.p.id).slideUp("fast"),e(".ui-jqgrid-titlebar-close span",i.grid.cDiv).removeClass("ui-icon-circle-triangle-n").addClass("ui-icon-circle-triangle-s"),i.p.gridstate="hidden"):"visible"==t&&(e(".ui-jqgrid-hdiv, .ui-jqgrid-bdiv","#gview_"+i.p.id).slideDown("fast"),i.p.pager&&e(i.p.pager).slideDown("fast"),i.p.toppager&&e(i.p.toppager).slideDown("fast"),!0===i.p.toolbar[0]&&("both"==i.p.toolbar[1]&&e(i.grid.ubDiv).slideDown("fast"),e(i.grid.uDiv).slideDown("fast")),i.p.footerrow&&e(".ui-jqgrid-sdiv","#gbox_"+i.p.id).slideDown("fast"),e(".ui-jqgrid-titlebar-close span",i.grid.cDiv).removeClass("ui-icon-circle-triangle-s").addClass("ui-icon-circle-triangle-n"),i.p.gridstate="visible")}})},updateGridRows:function(t,i,s){var n,a,r=!1;return this.each(function(){var o,l,d,c,h=this;if(!h.grid)return!1;i||(i="id"),t&&t.length>0&&e(t).each(function(){if(d=this,l=h.rows.namedItem(d[i])){if(c=d[i],!0===s&&!0===h.p.jsonReader.repeatitems){h.p.jsonReader.cell&&(d=d[h.p.jsonReader.cell]);for(var t=0;t<d.length;t++)o=h.formatter(c,d[t],t,d,"edit"),a=h.p.colModel[t].title?{title:e.jgrid.stripHtml(o)}:{},!0===h.p.treeGrid&&n==h.p.ExpandColumn?e("td:eq("+t+") > span:first",l).html(o).attr(a):e("td:eq("+t+")",l).html(o).attr(a);return r=!0}e(h.p.colModel).each(function(t){n=!0===s&&this.jsonmap||this.name,void 0!==d[n]&&(o=h.formatter(c,d[n],t,d,"edit"),a=this.title?{title:e.jgrid.stripHtml(o)}:{},!0===h.p.treeGrid&&n==h.p.ExpandColumn?e("td:eq("+t+") > span:first",l).html(o).attr(a):e("td:eq("+t+")",l).html(o).attr(a),r=!0)})}})}),r},filterGrid:function(t,i){return i=e.extend({gridModel:!1,gridNames:!1,gridToolbar:!1,filterModel:[],formtype:"horizontal",autosearch:!0,formclass:"filterform",tableclass:"filtertable",buttonclass:"filterbutton",searchButton:"Search",clearButton:"Clear",enableSearch:!1,enableClear:!1,beforeSearch:null,afterSearch:null,beforeClear:null,afterClear:null,url:"",marksearched:!0},i||{}),this.each(function(){var s,n,a,r,o,l=this;if(this.p=i,0===this.p.filterModel.length&&!1===this.p.gridModel)alert("No filter is set");else if(t){this.p.gridid=-1!=t.indexOf("#")?t:"#"+t;var d=e(this.p.gridid).jqGrid("getGridParam","colModel");if(d){if(!0===this.p.gridModel){var c,h=e(this.p.gridid)[0];e.each(d,function(e){var t=[];this.search=!1!==this.search,c=!(!this.editrules||!0!==this.editrules.searchhidden)||!0!==this.hidden,!0===this.search&&!0===c&&(t.label=!0===l.p.gridNames?h.p.colNames[e]:"",t.name=this.name,t.index=this.index||this.name,t.stype=this.edittype||"text","select"!=t.stype&&(t.stype="text"),t.defval=this.defval||"",t.surl=this.surl||"",t.sopt=this.editoptions||{},t.width=this.width,l.p.filterModel.push(t))})}else e.each(l.p.filterModel,function(){for(var e=0;e<d.length;e++)if(this.name==d[e].name){this.index=d[e].index||this.name;break}this.index||(this.index=this.name)});var u=function(){var t,i,s={},n=0,a=e(l.p.gridid)[0];a.p.searchdata={},e.isFunction(l.p.beforeSearch)&&l.p.beforeSearch(),e.each(l.p.filterModel,function(){switch(i=this.index,this.stype){case"select":if(t=e("select[name="+i+"]",l).val())s[i]=t,l.p.marksearched&&e("#jqgh_"+this.name,a.grid.hDiv).addClass("dirty-cell"),n++;else{l.p.marksearched&&e("#jqgh_"+this.name,a.grid.hDiv).removeClass("dirty-cell");try{delete a.p.postData[this.index]}catch(e){}}break;default:if(t=e("input[name="+i+"]",l).val())s[i]=t,l.p.marksearched&&e("#jqgh_"+this.name,a.grid.hDiv).addClass("dirty-cell"),n++;else{l.p.marksearched&&e("#jqgh_"+this.name,a.grid.hDiv).removeClass("dirty-cell");try{delete a.p.postData[this.index]}catch(e){}}}});var r,o=n>0;e.extend(a.p.postData,s),l.p.url&&(r=e(a).jqGrid("getGridParam","url"),e(a).jqGrid("setGridParam",{url:l.p.url})),e(a).jqGrid("setGridParam",{search:o}).trigger("reloadGrid",[{page:1}]),r&&e(a).jqGrid("setGridParam",{url:r}),e.isFunction(l.p.afterSearch)&&l.p.afterSearch()},p=function(){var t,i,s={},n=0,a=e(l.p.gridid)[0];e.isFunction(l.p.beforeClear)&&l.p.beforeClear(),e.each(l.p.filterModel,function(){switch(i=this.index,t=this.defval?this.defval:"",this.stype||(this.stype="text"),this.stype){case"select":var r;if(e("select[name="+i+"] option",l).each(function(i){if(0===i&&(this.selected=!0),e(this).text()==t)return this.selected=!0,r=e(this).val(),!1}),r)s[i]=r,l.p.marksearched&&e("#jqgh_"+this.name,a.grid.hDiv).addClass("dirty-cell"),n++;else{l.p.marksearched&&e("#jqgh_"+this.name,a.grid.hDiv).removeClass("dirty-cell");try{delete a.p.postData[this.index]}catch(e){}}break;case"text":if(e("input[name="+i+"]",l).val(t),t)s[i]=t,l.p.marksearched&&e("#jqgh_"+this.name,a.grid.hDiv).addClass("dirty-cell"),n++;else{l.p.marksearched&&e("#jqgh_"+this.name,a.grid.hDiv).removeClass("dirty-cell");try{delete a.p.postData[this.index]}catch(e){}}}});var r,o=n>0;e.extend(a.p.postData,s),l.p.url&&(r=e(a).jqGrid("getGridParam","url"),e(a).jqGrid("setGridParam",{url:l.p.url})),e(a).jqGrid("setGridParam",{search:o}).trigger("reloadGrid",[{page:1}]),r&&e(a).jqGrid("setGridParam",{url:r}),e.isFunction(l.p.afterClear)&&l.p.afterClear()},f=e("<form name='SearchForm' style=display:inline;' class='"+this.p.formclass+"'></form>"),g=e("<table class='"+this.p.tableclass+"' cellspacing='0' cellpading='0' border='0'><tbody></tbody></table>");e(f).append(g),o=document.createElement("tr"),"horizontal"==l.p.formtype&&e(g).append(o),e.each(l.p.filterModel,function(t){a=document.createElement("td"),e(a).append("<label for='"+this.name+"'>"+this.label+"</label>"),r=document.createElement("td");var i=this;switch(this.stype||(this.stype="text"),this.stype){case"select":if(this.surl)e(r).load(this.surl,function(){i.defval&&e("select",this).val(i.defval),e("select",this).attr({name:i.index||i.name,id:"sg_"+i.name}),i.sopt&&e("select",this).attr(i.sopt),!0===l.p.gridToolbar&&i.width&&e("select",this).width(i.width),!0===l.p.autosearch&&e("select",this).change(function(){return u(),!1})});else if(i.sopt.value){var n,d=i.sopt.value,c=document.createElement("select");if(e(c).attr({name:i.index||i.name,id:"sg_"+i.name}).attr(i.sopt),"string"==typeof d){t=d.split(";");for(var h=0;h<t.length;h++)d=t[h].split(":"),(n=document.createElement("option")).value=d[0],n.innerHTML=d[1],d[1]==i.defval&&(n.selected="selected"),c.appendChild(n)}else if("object"==typeof d)for(h in d)d.hasOwnProperty(h)&&(t++,(n=document.createElement("option")).value=h,n.innerHTML=d[h],d[h]==i.defval&&(n.selected="selected"),c.appendChild(n));!0===l.p.gridToolbar&&i.width&&e(c).width(i.width),e(r).append(c),!0===l.p.autosearch&&e(c).change(function(){return u(),!1})}break;case"text":c=this.defval?this.defval:"",e(r).append("<input type='text' name='"+(this.index||this.name)+"' id='sg_"+this.name+"' value='"+c+"'/>"),i.sopt&&e("input",r).attr(i.sopt),!0===l.p.gridToolbar&&i.width&&(e.browser.msie?e("input",r).width(i.width-4):e("input",r).width(i.width-2)),!0===l.p.autosearch&&e("input",r).keypress(function(e){return 13==(e.charCode?e.charCode:e.keyCode?e.keyCode:0)?(u(),!1):this})}"horizontal"==l.p.formtype?(!0===l.p.gridToolbar&&!1===l.p.gridNames?e(o).append(r):e(o).append(a).append(r),e(o).append(r)):(s=document.createElement("tr"),e(s).append(a).append(r),e(g).append(s))}),r=document.createElement("td"),!0===l.p.enableSearch&&(n="<input type='button' id='sButton' class='"+l.p.buttonclass+"' value='"+l.p.searchButton+"'/>",e(r).append(n),e("input#sButton",r).click(function(){return u(),!1})),!0===l.p.enableClear&&(n="<input type='button' id='cButton' class='"+l.p.buttonclass+"' value='"+l.p.clearButton+"'/>",e(r).append(n),e("input#cButton",r).click(function(){return p(),!1})),!0!==l.p.enableClear&&!0!==l.p.enableSearch||("horizontal"==l.p.formtype?e(o).append(r):(s=document.createElement("tr"),e(s).append("<td>&#160;</td>").append(r),e(g).append(s))),e(this).append(f),this.triggerSearch=u,this.clearSearch=p}else alert("Could not get grid colModel")}else alert("No target grid is set!")})},filterToolbar:function(t){return t=e.extend({autosearch:!0,searchOnEnter:!0,beforeSearch:null,afterSearch:null,beforeClear:null,afterClear:null,searchurl:"",stringResult:!1,groupOp:"AND"},t||{}),this.each(function(){function i(t,i){var s=e(t);s[0]&&jQuery.each(i,function(){void 0!==this.data?s.bind(this.type,this.data,this.fn):s.bind(this.type,this.fn)})}var s,n=this,a=function(){var i,s,a={},r=0,o={};e.each(n.p.colModel,function(){s=this.index||this.name;var t=this.searchoptions&&this.searchoptions.sopt?this.searchoptions.sopt[0]:"bw";switch(this.stype){case"select":if(i=e("select[name="+s+"]",n.grid.hDiv).val())a[s]=i,o[s]=t,r++;else try{delete n.p.postData[s]}catch(e){}break;case"text":if(i=e("input[name="+s+"]",n.grid.hDiv).val())a[s]=i,o[s]=t,r++;else try{delete n.p.postData[s]}catch(e){}}});var l,d=r>0;if(t.stringResult){var c='{"groupOp":"'+t.groupOp+'","rules":[',h=0;e.each(a,function(e,t){h>0&&(c+=","),c+='{"field":"'+e+'",',c+='"op":"'+o[e]+'",',c+='"data":"'+t+'"}',h++}),c+="]}",e.extend(n.p.postData,{filters:c})}else e.extend(n.p.postData,a);n.p.searchurl&&(l=n.p.url,e(n).jqGrid("setGridParam",{url:n.p.searchurl}));var u=!1;e.isFunction(t.beforeSearch)&&(u=t.beforeSearch.call(n)),u||e(n).jqGrid("setGridParam",{search:d}).trigger("reloadGrid",[{page:1}]),l&&e(n).jqGrid("setGridParam",{url:l}),e.isFunction(t.afterSearch)&&t.afterSearch()},r=e("<tr class='ui-search-toolbar' role='rowheader'></tr>");e.each(n.p.colModel,function(){var o,l,d,c,h=this;if(l=e("<th role='columnheader' class='ui-state-default ui-th-column ui-th-"+n.p.direction+"'></th>"),o=e("<div style='width:100%;position:relative;height:100%;padding-right:0.3em;'></div>"),!0===this.hidden&&e(l).css("display","none"),this.search=!1!==this.search,void 0===this.stype&&(this.stype="text"),d=e.extend({},this.searchoptions||{}),this.search)switch(this.stype){case"select":var u;if(c=this.surl||d.dataUrl)e.ajax(e.extend({url:c,dataType:"html",complete:function(s){void 0!==d.buildSelect?(s=d.buildSelect(s))&&e(o).append(s):e(o).append(s.responseText),d.defaultValue&&e("select",o).val(d.defaultValue),e("select",o).attr({name:h.index||h.name,id:"gs_"+h.name}),d.attr&&e("select",o).attr(d.attr),e("select",o).css({width:"100%"}),void 0!==d.dataInit&&d.dataInit(e("select",o)[0]),void 0!==d.dataEvents&&i(e("select",o)[0],d.dataEvents),!0===t.autosearch&&e("select",o).change(function(){return a(),!1}),s=null}},e.jgrid.ajaxOptions,n.p.ajaxSelectOptions||{}));else if(h.searchoptions&&h.searchoptions.value?u=h.searchoptions.value:h.editoptions&&h.editoptions.value&&(u=h.editoptions.value),u){var p,f;if((c=document.createElement("select")).style.width="100%",e(c).attr({name:h.index||h.name,id:"gs_"+h.name}),"string"==typeof u){u=u.split(";");for(var g=0;g<u.length;g++)p=u[g].split(":"),(f=document.createElement("option")).value=p[0],f.innerHTML=p[1],c.appendChild(f)}else if("object"==typeof u)for(p in u)u.hasOwnProperty(p)&&((f=document.createElement("option")).value=p,f.innerHTML=u[p],c.appendChild(f));d.defaultValue&&e(c).val(d.defaultValue),d.attr&&e(c).attr(d.attr),void 0!==d.dataInit&&d.dataInit(c),void 0!==d.dataEvents&&i(c,d.dataEvents),e(o).append(c),!0===t.autosearch&&e(c).change(function(){return a(),!1})}break;case"text":c=d.defaultValue?d.defaultValue:"",e(o).append("<input type='text' style='width:95%;padding:0px;' name='"+(h.index||h.name)+"' id='gs_"+h.name+"' value='"+c+"'/>"),d.attr&&e("input",o).attr(d.attr),void 0!==d.dataInit&&d.dataInit(e("input",o)[0]),void 0!==d.dataEvents&&i(e("input",o)[0],d.dataEvents),!0===t.autosearch&&(t.searchOnEnter?e("input",o).keypress(function(e){return 13==(e.charCode?e.charCode:e.keyCode?e.keyCode:0)?(a(),!1):this}):e("input",o).keydown(function(e){switch(e.which){case 9:case 16:case 37:case 38:case 39:case 40:case 27:break;default:s&&clearTimeout(s),s=setTimeout(function(){a()},500)}}))}e(l).append(o),e(r).append(l)}),e("table thead",n.grid.hDiv).append(r),this.triggerToolbar=a,this.clearToolbar=function(i){var s,a,r={},o=0;i="boolean"!=typeof i||i,e.each(n.p.colModel,function(){switch(s=this.searchoptions&&this.searchoptions.defaultValue?this.searchoptions.defaultValue:"",a=this.index||this.name,this.stype){case"select":var t;if(e("select[name="+a+"] option",n.grid.hDiv).each(function(i){if(0===i&&(this.selected=!0),e(this).text()==s)return this.selected=!0,t=e(this).val(),!1}),t)r[a]=t,o++;else try{delete n.p.postData[a]}catch(e){}break;case"text":if(e("input[name="+a+"]",n.grid.hDiv).val(s),s)r[a]=s,o++;else try{delete n.p.postData[a]}catch(e){}}});var l,d=o>0;if(t.stringResult){var c='{"groupOp":"'+t.groupOp+'","rules":[',h=0;e.each(r,function(e,t){h>0&&(c+=","),c+='{"field":"'+e+'",',c+='"op":"eq",',c+='"data":"'+t+'"}',h++}),c+="]}",e.extend(n.p.postData,{filters:c})}else e.extend(n.p.postData,r);n.p.searchurl&&(l=n.p.url,e(n).jqGrid("setGridParam",{url:n.p.searchurl}));var u=!1;e.isFunction(t.beforeClear)&&(u=t.beforeClear.call(n)),u||i&&e(n).jqGrid("setGridParam",{search:d}).trigger("reloadGrid",[{page:1}]),l&&e(n).jqGrid("setGridParam",{url:l}),e.isFunction(t.afterClear)&&t.afterClear()},this.toggleToolbar=function(){var t=e("tr.ui-search-toolbar",n.grid.hDiv);"none"==t.css("display")?t.show():t.hide()}})}})}(jQuery);var showModal=function(e){e.w.show()},closeModal=function(e){e.w.hide().attr("aria-hidden","true"),e.o&&e.o.remove()},hideModal=function(e,t){if((t=jQuery.extend({jqm:!0,gb:""},t||{})).onClose){var i=t.onClose(e);if("boolean"==typeof i&&!i)return}if(jQuery.fn.jqm&&!0===t.jqm)jQuery(e).attr("aria-hidden","true").jqmHide();else{if(""!=t.gb)try{jQuery(".jqgrid-overlay:first",t.gb).hide()}catch(e){}jQuery(e).hide().attr("aria-hidden","true")}};function findPos(e){var t=0,i=0;if(e.offsetParent)do{t+=e.offsetLeft,i+=e.offsetTop}while(e=e.offsetParent);return[t,i]}var createModal=function(e,t,i,s,n,a){var r,o=document.createElement("div");r="rtl"==jQuery(i.gbox).attr("dir"),o.className="ui-widget ui-widget-content ui-corner-all ui-jqdialog",o.id=e.themodal;var l=document.createElement("div");l.className="ui-jqdialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix",l.id=e.modalhead,jQuery(l).append("<span class='ui-jqdialog-title'>"+i.caption+"</span>");var d=jQuery("<a href='javascript:void(0)' class='ui-jqdialog-titlebar-close ui-corner-all'></a>").hover(function(){d.addClass("ui-state-hover")},function(){d.removeClass("ui-state-hover")}).append("<span class='ui-icon ui-icon-closethick'></span>");jQuery(l).append(d),r?(o.dir="rtl",jQuery(".ui-jqdialog-title",l).css("float","right"),jQuery(".ui-jqdialog-titlebar-close",l).css("left","0.3em")):(o.dir="ltr",jQuery(".ui-jqdialog-title",l).css("float","left"),jQuery(".ui-jqdialog-titlebar-close",l).css("right","0.3em"));var c=document.createElement("div");if(jQuery(c).addClass("ui-jqdialog-content ui-widget-content").attr("id",e.modalcontent),jQuery(c).append(t),o.appendChild(c),jQuery(o).prepend(l),!0===a?jQuery("body").append(o):jQuery(o).insertBefore(s),void 0===i.jqModal&&(i.jqModal=!0),t={},jQuery.fn.jqm&&!0===i.jqModal?(0===i.left&&0===i.top&&(s=[],s=findPos(n),i.left=s[0]+4,i.top=s[1]+4),t.top=i.top+"px",t.left=i.left):0===i.left&&0===i.top||(t.left=i.left,t.top=i.top+"px"),jQuery("a.ui-jqdialog-titlebar-close",l).click(function(){var t=jQuery("#"+e.themodal).data("onClose")||i.onClose,s=jQuery("#"+e.themodal).data("gbox")||i.gbox;return hideModal("#"+e.themodal,{gb:s,jqm:i.jqModal,onClose:t}),!1}),0!==i.width&&i.width||(i.width=300),0!==i.height&&i.height||(i.height=200),i.zIndex||(i.zIndex=950),n=0,r&&t.left&&!a&&(n=jQuery(i.gbox).width()-(isNaN(i.width)?0:parseInt(i.width,10))-8,t.left=parseInt(t.left,10)+parseInt(n,10)),t.left&&(t.left+="px"),jQuery(o).css(jQuery.extend({width:isNaN(i.width)?"auto":i.width+"px",height:isNaN(i.height)?"auto":i.height+"px",zIndex:i.zIndex,overflow:"hidden"},t)).attr({tabIndex:"-1",role:"dialog","aria-labelledby":e.modalhead,"aria-hidden":"true"}),void 0===i.drag&&(i.drag=!0),void 0===i.resize&&(i.resize=!0),i.drag)if(jQuery(l).css("cursor","move"),jQuery.fn.jqDrag)jQuery(o).jqDrag(l);else try{jQuery(o).draggable({handle:jQuery("#"+l.id)})}catch(e){}if(i.resize)if(jQuery.fn.jqResize)jQuery(o).append("<div class='jqResize ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se ui-icon-grip-diagonal-se'></div>"),jQuery("#"+e.themodal).jqResize(".jqResize",!!e.scrollelm&&"#"+e.scrollelm);else try{jQuery(o).resizable({handles:"se, sw",alsoResize:!!e.scrollelm&&"#"+e.scrollelm})}catch(e){}!0===i.closeOnEscape&&jQuery(o).keydown(function(t){27==t.which&&(t=jQuery("#"+e.themodal).data("onClose")||i.onClose,hideModal(this,{gb:i.gbox,jqm:i.jqModal,onClose:t}))})},viewModal=function(e,t){if(t=jQuery.extend({toTop:!0,overlay:10,modal:!1,onShow:showModal,onHide:closeModal,gbox:"",jqm:!0,jqM:!0},t||{}),jQuery.fn.jqm&&!0===t.jqm)t.jqM?jQuery(e).attr("aria-hidden","false").jqm(t).jqmShow():jQuery(e).attr("aria-hidden","false").jqmShow();else{""!=t.gbox&&(jQuery(".jqgrid-overlay:first",t.gbox).show(),jQuery(e).data("gbox",t.gbox)),jQuery(e).show().attr("aria-hidden","false");try{jQuery(":input:visible",e)[0].focus()}catch(e){}}};function info_dialog(e,t,i,s){var n={width:290,height:"auto",dataheight:"auto",drag:!0,resize:!1,caption:"<b>"+e+"</b>",left:250,top:170,zIndex:1e3,jqModal:!0,modal:!1,closeOnEscape:!0,align:"center",buttonalign:"center",buttons:[]};jQuery.extend(n,s||{});var a=n.jqModal;if(jQuery.fn.jqm&&!a&&(a=!1),e="",n.buttons.length>0)for(s=0;s<n.buttons.length;s++)void 0===n.buttons[s].id&&(n.buttons[s].id="info_button_"+s),e+="<a href='javascript:void(0)' id='"+n.buttons[s].id+"' class='fm-button ui-state-default ui-corner-all'>"+n.buttons[s].text+"</a>";var r="<div id='info_id'>";r+="<div id='infocnt' style='margin:0px;padding-bottom:1em;width:100%;overflow:auto;position:relative;height:"+(s=isNaN(n.dataheight)?n.dataheight:n.dataheight+"px")+";text-align:"+n.align+";'>"+t+"</div>",r+=i?"<div class='ui-widget-content ui-helper-clearfix' style='text-align:"+n.buttonalign+";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'><a href='javascript:void(0)' id='closedialog' class='fm-button ui-state-default ui-corner-all'>"+i+"</a>"+e+"</div>":""!=e?"<div class='ui-widget-content ui-helper-clearfix' style='text-align:"+n.buttonalign+";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'>"+e+"</div>":"",r+="</div>";try{"false"==jQuery("#info_dialog").attr("aria-hidden")&&hideModal("#info_dialog",{jqm:a}),jQuery("#info_dialog").remove()}catch(e){}createModal({themodal:"info_dialog",modalhead:"info_head",modalcontent:"info_content",scrollelm:"infocnt"},r,n,"","",!0),e&&jQuery.each(n.buttons,function(e){jQuery("#"+this.id,"#info_id").bind("click",function(){return n.buttons[e].onClick.call(jQuery("#info_dialog")),!1})}),jQuery("#closedialog","#info_id").click(function(e){return hideModal("#info_dialog",{jqm:a}),!1}),jQuery(".fm-button","#info_dialog").hover(function(){jQuery(this).addClass("ui-state-hover")},function(){jQuery(this).removeClass("ui-state-hover")}),viewModal("#info_dialog",{onHide:function(e){e.w.hide().remove(),e.o&&e.o.remove()},modal:n.modal,jqm:a});try{$("#info_dialog").focus()}catch(e){}}function createEl(e,t,i,s,n){function a(e,t){return jQuery.isFunction(t.dataInit)&&(e.id=t.id,t.dataInit(e),delete t.id,delete t.dataInit),t.dataEvents&&(jQuery.each(t.dataEvents,function(){void 0!==this.data?jQuery(e).bind(this.type,this.data,this.fn):jQuery(e).bind(this.type,this.fn)}),delete t.dataEvents),t}var r="";switch(t.defaultValue&&delete t.defaultValue,e){case"textarea":r=document.createElement("textarea"),s?t.cols||jQuery(r).css({width:"98%"}):t.cols||(t.cols=20),t.rows||(t.rows=2),("&nbsp;"==i||"&#160;"==i||1==i.length&&160==i.charCodeAt(0))&&(i=""),r.value=i,t=a(r,t),jQuery(r).attr(t).attr({role:"textbox",multiline:"true"});break;case"checkbox":if((r=document.createElement("input")).type="checkbox",t.value){var o=t.value.split(":");i===o[0]&&(r.checked=!0,r.defaultChecked=!0),r.value=o[0],jQuery(r).attr("offval",o[1]);try{delete t.value}catch(e){}}else(o=i.toLowerCase()).search(/(false|0|no|off|undefined)/i)<0&&""!==o?(r.checked=!0,r.defaultChecked=!0,r.value=i):r.value="on",jQuery(r).attr("offval","off");t=a(r,t),jQuery(r).attr(t).attr("role","checkbox");break;case"select":(r=document.createElement("select")).setAttribute("role","select");var l,d=[];if(!0===t.multiple?(l=!0,r.multiple="multiple",$(r).attr("aria-multiselectable","true")):l=!1,void 0!==t.dataUrl)jQuery.ajax(jQuery.extend({url:t.dataUrl,type:"GET",complete:function(e,s){try{delete t.dataUrl,delete t.value}catch(e){}void 0!==t.buildSelect?(e=t.buildSelect(e),e=jQuery(e).html(),delete t.buildSelect):e=jQuery(e.responseText).html(),e&&(jQuery(r).append(e),void 0===(t=a(r,t)).size&&(t.size=l?3:1),l?(d=i.split(","),d=jQuery.map(d,function(e){return jQuery.trim(e)})):d[0]=jQuery.trim(i),jQuery(r).attr(t),setTimeout(function(){jQuery("option",r).each(function(e){if(0===e&&(this.selected=""),$(this).attr("role","option"),(jQuery.inArray(jQuery.trim(jQuery(this).text()),d)>-1||jQuery.inArray(jQuery.trim(jQuery(this).val()),d)>-1)&&(this.selected="selected",!l))return!1})},0))}},n||{}));else if(t.value){if(l?(d=i.split(","),d=jQuery.map(d,function(e){return jQuery.trim(e)}),void 0===t.size&&(t.size=3)):t.size=1,"function"==typeof t.value&&(t.value=t.value()),"string"==typeof t.value)for(s=t.value.split(";"),o=0;o<s.length;o++)(n=s[o].split(":")).length>2&&(n[1]=jQuery.map(n,function(e,t){if(t>0)return e}).join(":")),(e=document.createElement("option")).setAttribute("role","option"),e.value=n[0],e.innerHTML=n[1],l||jQuery.trim(n[0])!=jQuery.trim(i)&&jQuery.trim(n[1])!=jQuery.trim(i)||(e.selected="selected"),l&&(jQuery.inArray(jQuery.trim(n[1]),d)>-1||jQuery.inArray(jQuery.trim(n[0]),d)>-1)&&(e.selected="selected"),r.appendChild(e);else if("object"==typeof t.value)for(o in s=t.value)s.hasOwnProperty(o)&&((e=document.createElement("option")).setAttribute("role","option"),e.value=o,e.innerHTML=s[o],l||jQuery.trim(o)!=jQuery.trim(i)&&jQuery.trim(s[o])!=jQuery.trim(i)||(e.selected="selected"),l&&(jQuery.inArray(jQuery.trim(s[o]),d)>-1||jQuery.inArray(jQuery.trim(o),d)>-1)&&(e.selected="selected"),r.appendChild(e));t=a(r,t);try{delete t.value}catch(e){}jQuery(r).attr(t)}break;case"text":case"password":case"button":o="button"==e?"button":"textbox",(r=document.createElement("input")).type=e,r.value=i,t=a(r,t),"button"!=e&&(s?t.size||jQuery(r).css({width:"98%"}):t.size||(t.size=20)),jQuery(r).attr(t).attr("role",o);break;case"image":case"file":(r=document.createElement("input")).type=e,t=a(r,t),jQuery(r).attr(t);break;case"custom":r=document.createElement("span");try{if(!jQuery.isFunction(t.custom_element))throw"e1";var c=t.custom_element.call(this,i,t);if(!c)throw"e2";c=jQuery(c).addClass("customelement").attr({id:t.id,name:t.name}),jQuery(r).empty().append(c)}catch(e){"e1"==e&&info_dialog(jQuery.jgrid.errors.errcap,"function 'custom_element' "+jQuery.jgrid.edit.msg.nodefined,jQuery.jgrid.edit.bClose),info_dialog(jQuery.jgrid.errors.errcap,"e2"==e?"function 'custom_element' "+jQuery.jgrid.edit.msg.novalue:e.message,jQuery.jgrid.edit.bClose)}}return r}function daysInFebruary(e){return e%4!=0||e%100==0&&e%400!=0?28:29}function DaysArray(e){for(var t=1;t<=e;t++)this[t]=31,4!=t&&6!=t&&9!=t&&11!=t||(this[t]=30),2==t&&(this[t]=29);return this}function checkDate(e,t){var i,s,n={};if(i=-1!=(e=e.toLowerCase()).indexOf("/")?"/":-1!=e.indexOf("-")?"-":-1!=e.indexOf(".")?".":"/",e=e.split(i),3!=(t=t.split(i)).length)return!1;i=-1;for(var a,r=-1,o=-1,l=0;l<e.length;l++)a=isNaN(t[l])?0:parseInt(t[l],10),n[e[l]]=a,-1!=(a=e[l]).indexOf("y")&&(i=l),-1!=a.indexOf("m")&&(o=l),-1!=a.indexOf("d")&&(r=l);return a="y"==e[i]||"yyyy"==e[i]?4:"yy"==e[i]?2:-1,l=DaysArray(12),-1!==i&&(s=n[e[i]].toString(),2==a&&1==s.length&&(a=1),s.length==a&&(0!==n[e[i]]||"00"==t[i])&&(-1!==o&&(!((s=n[e[o]].toString()).length<1||n[e[o]]<1||n[e[o]]>12)&&(-1!==r&&!((s=n[e[r]].toString()).length<1||n[e[r]]<1||n[e[r]]>31||2==n[e[o]]&&n[e[r]]>daysInFebruary(n[e[i]])||n[e[r]]>l[n[e[o]]])))))}function isEmpty(e){return!(!e.match(/^s+$/)&&""!=e)}function checkTime(e){if(!isEmpty(e)){if(!(e=e.match(/^(\d{1,2}):(\d{2})([ap]m)?$/)))return!1;if(e[3]){if(e[1]<1||e[1]>12)return!1}else if(e[1]>23)return!1;if(e[2]>59)return!1}return!0}function checkValues(e,t,i){var s,n,a;if("string"==typeof t){for(n=0,len=i.p.colModel.length;n<len;n++)if(i.p.colModel[n].name==t){s=i.p.colModel[n].editrules,t=n;try{a=i.p.colModel[n].formoptions.label}catch(e){}break}}else t>=0&&(s=i.p.colModel[t].editrules);if(s){if(a||(a=i.p.colNames[t]),!0===s.required&&(e.match(/^s+$/)||""==e))return[!1,a+": "+jQuery.jgrid.edit.msg.required,""];if(n=!1!==s.required,!0===s.number&&(!1!==n||!isEmpty(e))&&isNaN(e))return[!1,a+": "+jQuery.jgrid.edit.msg.number,""];if(void 0!==s.minValue&&!isNaN(s.minValue)&&parseFloat(e)<parseFloat(s.minValue))return[!1,a+": "+jQuery.jgrid.edit.msg.minValue+" "+s.minValue,""];if(void 0!==s.maxValue&&!isNaN(s.maxValue)&&parseFloat(e)>parseFloat(s.maxValue))return[!1,a+": "+jQuery.jgrid.edit.msg.maxValue+" "+s.maxValue,""];if(!0===s.email&&!(!1===n&&isEmpty(e)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(e)))return[!1,a+": "+jQuery.jgrid.edit.msg.email,""];if(!0===s.integer&&(!1!==n||!isEmpty(e))){if(isNaN(e))return[!1,a+": "+jQuery.jgrid.edit.msg.integer,""];if(e%1!=0||-1!=e.indexOf("."))return[!1,a+": "+jQuery.jgrid.edit.msg.integer,""]}if(!0===s.date&&!(!1===n&&isEmpty(e)||checkDate(t=i.p.colModel[t].datefmt||"Y-m-d",e)))return[!1,a+": "+jQuery.jgrid.edit.msg.date+" - "+t,""];if(!0===s.time&&!(!1===n&&isEmpty(e)||checkTime(e)))return[!1,a+": "+jQuery.jgrid.edit.msg.date+" - hh:mm (am/pm)",""];if(!0===s.url&&!(!1===n&&isEmpty(e)||/^(((https?)|(ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i.test(e)))return[!1,a+": "+jQuery.jgrid.edit.msg.url,""];if(!0===s.custom&&(!1!==n||!isEmpty(e)))return jQuery.isFunction(s.custom_func)?(e=s.custom_func.call(i,e,a),jQuery.isArray(e)?e:[!1,jQuery.jgrid.edit.msg.customarray,""]):[!1,jQuery.jgrid.edit.msg.customfcheck,""]}return[!0,"",""]}!function(e){var t=null;e.jgrid.extend({searchGrid:function(t){return t=e.extend({recreateFilter:!1,drag:!0,sField:"searchField",sValue:"searchString",sOper:"searchOper",sFilter:"filters",loadDefaults:!0,beforeShowSearch:null,afterShowSearch:null,onInitializeSearch:null,closeAfterSearch:!1,closeAfterReset:!1,closeOnEscape:!1,multipleSearch:!1,cloneSearchRowOnAdd:!0,sopt:null,stringResult:void 0,onClose:null,useDataProxy:!1,overlay:!0},e.jgrid.search,t||{}),this.each(function(){function i(i){if(t.onClose){var s=t.onClose(i);if("boolean"==typeof s&&!s)return}i.hide(),!0===t.overlay&&e(".jqgrid-overlay:first","#gbox_"+n.p.id).hide()}function s(){var i=e(".ui-searchFilter").length;if(i>1){var s=e("#"+a).css("zIndex");e("#"+a).css({zIndex:parseInt(s,10)+i})}e("#"+a).show(),!0===t.overlay&&e(".jqgrid-overlay:first","#gbox_"+n.p.id).show();try{e(":input:visible","#"+a)[0].focus()}catch(e){}}var n=this;if(n.grid&&e.fn.searchFilter){var a="fbox_"+n.p.id;if(!0===t.recreateFilter&&e("#"+a).remove(),null!=e("#"+a).html())e.isFunction(t.beforeShowSearch)&&t.beforeShowSearch(e("#"+a)),s(),e.isFunction(t.afterShowSearch)&&t.afterShowSearch(e("#"+a));else{var r,o,l,d=[],c=e("#"+n.p.id).jqGrid("getGridParam","colNames"),h=e("#"+n.p.id).jqGrid("getGridParam","colModel"),u=["eq","ne","lt","le","gt","ge","bw","bn","in","ni","ew","en","cn","nc"],p=[];if(null!==t.sopt)for(r=l=0;r<t.sopt.length;r++)-1!=(o=e.inArray(t.sopt[r],u))&&(p[l]={op:t.sopt[r],text:t.odata[o]},l++);else for(r=0;r<u.length;r++)p[r]={op:u[r],text:t.odata[r]};if(e.each(h,function(i,s){var n,a,h=void 0===s.search||s.search,p=!0===s.hidden;if(s=!0===(i=e.extend({},{text:c[i],itemval:s.index||s.name},this.searchoptions)).searchhidden,void 0!==i.sopt&&(l=0,i.ops=[],i.sopt.length>0))for(r=0;r<i.sopt.length;r++)-1!=(o=e.inArray(i.sopt[r],u))&&(i.ops[l]={op:i.sopt[r],text:t.odata[o]},l++);if((void 0===this.stype&&(this.stype="text"),"select"==this.stype&&void 0===i.dataUrl)&&(i.value?n=i.value:this.editoptions&&(n=this.editoptions.value),n))if(i.dataValues=[],"string"==typeof n)for(n=n.split(";"),r=0;r<n.length;r++)a=n[r].split(":"),i.dataValues[r]={value:a[0],text:a[1]};else if("object"==typeof n)for(a in r=0,n)n.hasOwnProperty(a)&&(i.dataValues[r]={value:a,text:n[a]},r++);(s&&h||h&&!p)&&d.push(i)}),d.length>0){if(e("<div id='"+a+"' role='dialog' tabindex='-1'></div>").insertBefore("#gview_"+n.p.id),void 0===t.stringResult&&(t.stringResult=t.multipleSearch),n.SearchFilter=e("#"+a).searchFilter(d,{groupOps:t.groupOps,operators:p,onClose:i,resetText:t.Reset,searchText:t.Find,windowTitle:t.caption,rulesText:t.rulesText,matchText:t.matchText,onSearch:function(s){var r=void 0!==s,o=e("#"+n.p.id),l={};!1===t.multipleSearch?(l[t.sField]=s.rules[0].field,l[t.sValue]=s.rules[0].data,l[t.sOper]=s.rules[0].op):l[t.sFilter]=s,o[0].p.search=r,e.extend(o[0].p.postData,l),o.trigger("reloadGrid",[{page:1}]),t.closeAfterSearch&&i(e("#"+a))},onReset:function(s){s=void 0!==s;var r=e("#"+n.p.id),o=[];r[0].p.search=s,!1===t.multipleSearch?o[t.sField]=o[t.sValue]=o[t.sOper]="":o[t.sFilter]="",e.extend(r[0].p.postData,o),r.trigger("reloadGrid",[{page:1}]),t.closeAfterReset&&i(e("#"+a))},stringResult:t.stringResult,ajaxSelectOptions:e.extend({},e.jgrid.ajaxOptions,n.p.ajaxSelectOptions||{}),clone:t.cloneSearchRowOnAdd}),e(".ui-widget-overlay","#"+a).remove(),"rtl"==n.p.direction&&e(".ui-closer","#"+a).css("float","left"),!0===t.drag)if(e("#"+a+" table thead tr:first td:first").css("cursor","move"),jQuery.fn.jqDrag)e("#"+a).jqDrag(e("#"+a+" table thead tr:first td:first"));else try{e("#"+a).draggable({handle:e("#"+a+" table thead tr:first td:first")})}catch(e){}!1===t.multipleSearch&&(e(".ui-del, .ui-add, .ui-del, .ui-add-last, .matchText, .rulesText","#"+a).hide(),e("select[name='groupOp']","#"+a).hide()),!0===t.multipleSearch&&!0===t.loadDefaults&&function(t,i){if("string"==typeof(i=t.p.postData[i.sFilter])&&(i=e.jgrid.parse(i)),i&&(i.groupOp&&t.SearchFilter.setGroupOp(i.groupOp),i.rules)){var s,n=0,a=i.rules.length;for(s=!1;n<a;n++)void 0!==(s=i.rules[n]).field&&void 0!==s.op&&void 0!==s.data&&(s=t.SearchFilter.setFilter({sfref:t.SearchFilter.$.find(".sf:last"),filter:e.extend({},s)}))&&t.SearchFilter.add()}}(n,t),e.isFunction(t.onInitializeSearch)&&t.onInitializeSearch(e("#"+a)),e.isFunction(t.beforeShowSearch)&&t.beforeShowSearch(e("#"+a)),s(),e.isFunction(t.afterShowSearch)&&t.afterShowSearch(e("#"+a)),!0===t.closeOnEscape&&e("#"+a).keydown(function(t){27==t.which&&i(e("#"+a))})}}}})},editGridRow:function(i,s){return t=s=e.extend({top:0,left:0,width:300,height:"auto",dataheight:"auto",modal:!1,drag:!0,resize:!0,url:null,mtype:"POST",clearAfterAdd:!0,closeAfterEdit:!1,reloadAfterSubmit:!0,onInitializeForm:null,beforeInitData:null,beforeShowForm:null,afterShowForm:null,beforeSubmit:null,afterSubmit:null,onclickSubmit:null,afterComplete:null,onclickPgButtons:null,afterclickPgButtons:null,editData:{},recreateForm:!1,jqModal:!0,closeOnEscape:!1,addedrow:"first",topinfo:"",bottominfo:"",saveicon:[],closeicon:[],savekey:[!1,13],navkeys:[!1,38,40],checkOnSubmit:!1,checkOnUpdate:!1,_savedData:{},processing:!1,onClose:null,ajaxEditOptions:{},serializeEditData:null,viewPagerButtons:!0},e.jgrid.edit,s||{}),this.each(function(){function n(t,i){0===t?e("#pData","#"+v+"_2").addClass("ui-state-disabled"):e("#pData","#"+v+"_2").removeClass("ui-state-disabled"),t==i?e("#nData","#"+v+"_2").addClass("ui-state-disabled"):e("#nData","#"+v+"_2").removeClass("ui-state-disabled")}function a(){var t=e(h).jqGrid("getDataIDs"),i=e("#id_g","#"+v).val();return[e.inArray(i,t),t]}function r(){var i=!0;return e("#FormError","#"+v).hide(),t.checkOnUpdate&&(u={},p={},o(),f=e.extend({},u,p),c(f,t._savedData)&&(e("#"+m).data("disabled",!0),e(".confirm","#"+b.themodal).show(),i=!1)),i}function o(){return e(".FormElement","#"+v).each(function(){var t=e(".customelement",this);if(t.length){var i=t[0].name;e.each(h.p.colModel,function(){if(this.name==i&&this.editoptions&&e.isFunction(this.editoptions.custom_value)){try{if(u[i]=this.editoptions.custom_value(e("#"+i,"#"+v),"get"),void 0===u[i])throw"e1"}catch(t){info_dialog(jQuery.jgrid.errors.errcap,"e1"==t?"function 'custom_value' "+e.jgrid.edit.msg.novalue:t.message,jQuery.jgrid.edit.bClose)}return!0}})}else{switch(e(this).get(0).type){case"checkbox":e(this).attr("checked")?u[this.name]=e(this).val():(t=e(this).attr("offval"),u[this.name]=t);break;case"select-one":u[this.name]=e("option:selected",this).val(),p[this.name]=e("option:selected",this).text();break;case"select-multiple":u[this.name]=e(this).val(),u[this.name]=u[this.name]?u[this.name].join(","):"";var s=[];e("option:selected",this).each(function(t,i){s[t]=e(i).text()}),p[this.name]=s.join(",");break;case"password":case"text":case"textarea":case"button":u[this.name]=e(this).val()}h.p.autoencode&&(u[this.name]=e.jgrid.htmlEncode(u[this.name]))}}),!0}function l(i,s,n){var a,r,o,l,d,c,u=0;(t.checkOnSubmit||t.checkOnUpdate)&&(t._savedData={},t._savedData[s.p.id+"_id"]=i);var p=s.p.colModel;if("_empty"==i)e(p).each(function(){a=this.name,l=e.extend({},this.editoptions||{}),null!=(o=e("#"+e.jgrid.jqID(a),"#"+n))[0]&&(d="",l.defaultValue?(d=e.isFunction(l.defaultValue)?l.defaultValue():l.defaultValue,"checkbox"==o[0].type?(c=d.toLowerCase()).search(/(false|0|no|off|undefined)/i)<0&&""!==c?(o[0].checked=!0,o[0].defaultChecked=!0,o[0].value=d):o.attr({checked:"",defaultChecked:""}):o.val(d)):"checkbox"==o[0].type?(o[0].checked=!1,o[0].defaultChecked=!1,d=e(o).attr("offval")):"select"==o[0].type.substr(0,6)?o[0].selectedIndex=0:o.val(d),(!0===t.checkOnSubmit||t.checkOnUpdate)&&(t._savedData[a]=d))}),e("#id_g","#"+n).val(i);else{var f=e(s).jqGrid("getInd",i,!0);f&&(e("td",f).each(function(o){if("cb"!==(a=p[o].name)&&"subgrid"!==a&&"rn"!==a&&!0===p[o].editable){if(a==s.p.ExpandColumn&&!0===s.p.treeGrid)r=e(this).text();else try{r=e.unformat(this,{rowId:i,colModel:p[o]},o)}catch(t){r=e(this).html()}switch(h.p.autoencode&&(r=e.jgrid.htmlDecode(r)),(!0===t.checkOnSubmit||t.checkOnUpdate)&&(t._savedData[a]=r),a=e.jgrid.jqID(a),p[o].edittype){case"password":case"text":case"button":case"image":e("#"+a,"#"+n).val(r);break;case"textarea":("&nbsp;"==r||"&#160;"==r||1==r.length&&160==r.charCodeAt(0))&&(r=""),e("#"+a,"#"+n).val(r);break;case"select":var l=r.split(",");l=e.map(l,function(t){return e.trim(t)}),e("#"+a+" option","#"+n).each(function(){this.selected=!(p[o].editoptions.multiple||l[0]!=e.trim(e(this).text())&&l[0]!=e.trim(e(this).val()))||!!p[o].editoptions.multiple&&(e.inArray(e.trim(e(this).text()),l)>-1||e.inArray(e.trim(e(this).val()),l)>-1)});break;case"checkbox":r+="",p[o].editoptions&&p[o].editoptions.value?p[o].editoptions.value.split(":")[0]==r?(e("#"+a,"#"+n).attr("checked",!0),e("#"+a,"#"+n).attr("defaultChecked",!0)):(e("#"+a,"#"+n).attr("checked",!1),e("#"+a,"#"+n).attr("defaultChecked","")):(r=r.toLowerCase()).search(/(false|0|no|off|undefined)/i)<0&&""!==r?(e("#"+a,"#"+n).attr("checked",!0),e("#"+a,"#"+n).attr("defaultChecked",!0)):(e("#"+a,"#"+n).attr("checked",!1),e("#"+a,"#"+n).attr("defaultChecked",""));break;case"custom":try{if(!p[o].editoptions||!e.isFunction(p[o].editoptions.custom_value))throw"e1";p[o].editoptions.custom_value(e("#"+a,"#"+n),"set",r)}catch(t){info_dialog(jQuery.jgrid.errors.errcap,"e1"==t?"function 'custom_value' "+e.jgrid.edit.msg.nodefined:t.message,jQuery.jgrid.edit.bClose)}}u++}}),u>0&&e("#id_g","#"+v).val(i))}}function d(){var i,n,a,r=[!0,"",""],o={},d=h.p.prmNames;if(e.isFunction(t.beforeCheckValues)){var c=t.beforeCheckValues(u,e("#"+m),"_empty"==u[h.p.id+"_id"]?d.addoper:d.editoper);c&&"object"==typeof c&&(u=c)}for(var f in u)if(u.hasOwnProperty(f)&&!1===(r=checkValues(u[f],f,h))[0])break;r[0]&&(e.isFunction(t.onclickSubmit)&&(o=t.onclickSubmit(t,u)||{}),e.isFunction(t.beforeSubmit)&&(r=t.beforeSubmit(u,e("#"+m)))),r[0]&&!t.processing&&(t.processing=!0,e("#sData","#"+v+"_2").addClass("ui-state-active"),a=d.oper,n=d.id,u[a]="_empty"==e.trim(u[h.p.id+"_id"])?d.addoper:d.editoper,u[a]!=d.addoper?u[n]=u[h.p.id+"_id"]:void 0===u[n]&&(u[n]=u[h.p.id+"_id"]),delete u[h.p.id+"_id"],u=e.extend(u,t.editData,o),(o=e.extend({url:t.url?t.url:e(h).jqGrid("getGridParam","editurl"),type:t.mtype,data:e.isFunction(t.serializeEditData)?t.serializeEditData(u):u,complete:function(o,c){if("success"!=c?(r[0]=!1,r[1]=e.isFunction(t.errorTextFormat)?t.errorTextFormat(o):c+" Status: '"+o.statusText+"'. Error code: "+o.status):e.isFunction(t.afterSubmit)&&(r=t.afterSubmit(o,u)),!1===r[0]?(e("#FormError>td","#"+v).html(r[1]),e("#FormError","#"+v).show()):(e.each(h.p.colModel,function(){if(p[this.name]&&this.formatter&&"select"==this.formatter)try{delete p[this.name]}catch(e){}}),u=e.extend(u,p),h.p.autoencode&&e.each(u,function(t,i){u[t]=e.jgrid.htmlDecode(i)}),u[a]==d.addoper?(r[2]||(r[2]=parseInt(h.p.records,10)+1),u[n]=r[2],t.closeAfterAdd?(t.reloadAfterSubmit?e(h).trigger("reloadGrid"):(e(h).jqGrid("addRowData",r[2],u,s.addedrow),e(h).jqGrid("setSelection",r[2])),hideModal("#"+b.themodal,{gb:"#gbox_"+g,jqm:s.jqModal,onClose:t.onClose})):t.clearAfterAdd?(t.reloadAfterSubmit?e(h).trigger("reloadGrid"):e(h).jqGrid("addRowData",r[2],u,s.addedrow),l("_empty",h,m)):t.reloadAfterSubmit?e(h).trigger("reloadGrid"):e(h).jqGrid("addRowData",r[2],u,s.addedrow)):(t.reloadAfterSubmit?(e(h).trigger("reloadGrid"),t.closeAfterEdit||setTimeout(function(){e(h).jqGrid("setSelection",u[n])},1e3)):!0===h.p.treeGrid?e(h).jqGrid("setTreeRow",u[n],u):e(h).jqGrid("setRowData",u[n],u),t.closeAfterEdit&&hideModal("#"+b.themodal,{gb:"#gbox_"+g,jqm:s.jqModal,onClose:t.onClose})),e.isFunction(t.afterComplete)&&(i=o,setTimeout(function(){t.afterComplete(i,u,e("#"+m)),i=null},500))),t.processing=!1,(t.checkOnSubmit||t.checkOnUpdate)&&(e("#"+m).data("disabled",!1),"_empty"!=t._savedData[h.p.id+"_id"]))for(var f in t._savedData)u[f]&&(t._savedData[f]=u[f]);e("#sData","#"+v+"_2").removeClass("ui-state-active");try{e(":input:visible","#"+m)[0].focus()}catch(e){}},error:function(i,s,n){e("#FormError>td","#"+v).html(s+" : "+n),e("#FormError","#"+v).show(),t.processing=!1,e("#"+m).data("disabled",!1),e("#sData","#"+v+"_2").removeClass("ui-state-active")}},e.jgrid.ajaxOptions,t.ajaxEditOptions)).url||t.useDataProxy||(e.isFunction(h.p.dataProxy)?t.useDataProxy=!0:(r[0]=!1,r[1]+=" "+e.jgrid.errors.nourl)),r[0]&&(t.useDataProxy?h.p.dataProxy.call(h,o,"set_"+h.p.id):e.ajax(o))),!1===r[0]&&(e("#FormError>td","#"+v).html(r[1]),e("#FormError","#"+v).show())}function c(e,t){var i,s=!1;for(i in e)if(e[i]!=t[i]){s=!0;break}return s}var h=this;if(h.grid&&i){var u,p,f,g=h.p.id,m="FrmGrid_"+g,v="TblGrid_"+g,b={themodal:"editmod"+g,modalhead:"edithd"+g,modalcontent:"editcnt"+g,scrollelm:m},y=!!e.isFunction(t.beforeShowForm)&&t.beforeShowForm,w=!!e.isFunction(t.afterShowForm)&&t.afterShowForm,x=!!e.isFunction(t.beforeInitData)&&t.beforeInitData,_=!!e.isFunction(t.onInitializeForm)&&t.onInitializeForm,C=1,k=0;"new"==i?(i="_empty",s.caption=s.addCaption):s.caption=s.editCaption,!0===s.recreateForm&&null!=e("#"+b.themodal).html()&&e("#"+b.themodal).remove();var j=!0;if(s.checkOnUpdate&&s.jqModal&&!s.modal&&(j=!1),null!=e("#"+b.themodal).html())e(".ui-jqdialog-title","#"+b.modalhead).html(s.caption),e("#FormError","#"+v).hide(),t.topinfo?(e(".topinfo","#"+v+"_2").html(t.topinfo),e(".tinfo","#"+v+"_2").show()):e(".tinfo","#"+v+"_2").hide(),t.bottominfo?(e(".bottominfo","#"+v+"_2").html(t.bottominfo),e(".binfo","#"+v+"_2").show()):e(".binfo","#"+v+"_2").hide(),x&&x(e("#"+m)),l(i,h,m),"_empty"!=i&&t.viewPagerButtons?e("#pData, #nData","#"+v+"_2").show():e("#pData, #nData","#"+v+"_2").hide(),!0===t.processing&&(t.processing=!1,e("#sData","#"+v+"_2").removeClass("ui-state-active")),!0===e("#"+m).data("disabled")&&(e(".confirm","#"+b.themodal).hide(),e("#"+m).data("disabled",!1)),y&&y(e("#"+m)),e("#"+b.themodal).data("onClose",t.onClose),viewModal("#"+b.themodal,{gbox:"#gbox_"+g,jqm:s.jqModal,jqM:!1,closeoverlay:j,modal:s.modal}),j||e(".jqmOverlay").click(function(){return!!r()&&(hideModal("#"+b.themodal,{gb:"#gbox_"+g,jqm:s.jqModal,onClose:t.onClose}),!1)}),w&&w(e("#"+m));else{e(h.p.colModel).each(function(){var e=this.formoptions;C=Math.max(C,e&&e.colpos||0),k=Math.max(k,e&&e.rowpos||0)});var D,M=isNaN(s.dataheight)?s.dataheight:s.dataheight+"px";M=e("<form name='FormPost' id='"+m+"' class='FormGrid' onSubmit='return false;' style='width:100%;overflow:auto;position:relative;height:"+M+";'></form>").data("disabled",!1);var T=e("<table id='"+v+"' class='EditTable' cellspacing='0' cellpading='0' border='0'><tbody></tbody></table>");e(M).append(T),(D=e("<tr id='FormError' style='display:none'><td class='ui-state-error' colspan='"+2*C+"'></td></tr>"))[0].rp=0,e(T).append(D),(D=e("<tr style='display:none' class='tinfo'><td class='topinfo' colspan='"+2*C+"'>"+t.topinfo+"</td></tr>"))[0].rp=0,e(T).append(D),x&&x(e("#"+m)),D=(x="rtl"==h.p.direction)?"nData":"pData";var S=x?"pData":"nData";!function(i,s,n,a){for(var r,o,l,d,c,u=0,p=[],f=!1,g="",m=1;m<=a;m++)g+="<td class='CaptionTD ui-widget-content'>&#160;</td><td class='DataTD ui-widget-content' style='white-space:pre'>&#160;</td>";"_empty"!=i&&(f=e(s).jqGrid("getInd",i)),e(s.p.colModel).each(function(m){if(r=this.name,d=this.editrules&&!0===this.editrules.edithidden||!0!==this.hidden?"":"style='display:none'","cb"!==r&&"subgrid"!==r&&!0===this.editable&&"rn"!==r){if(!1===f)l="";else if(r==s.p.ExpandColumn&&!0===s.p.treeGrid)l=e("td:eq("+m+")",s.rows[f]).text();else try{l=e.unformat(e("td:eq("+m+")",s.rows[f]),{rowId:i,colModel:this},m)}catch(t){l=e("td:eq("+m+")",s.rows[f]).html()}var v=e.extend({},this.editoptions||{},{id:r,name:r}),b=e.extend({},{elmprefix:"",elmsuffix:"",rowabove:!1,rowcontent:""},this.formoptions||{}),y=parseInt(b.rowpos,10)||u+1,w=parseInt(2*(parseInt(b.colpos,10)||1),10);"_empty"==i&&v.defaultValue&&(l=e.isFunction(v.defaultValue)?v.defaultValue():v.defaultValue),this.edittype||(this.edittype="text"),h.p.autoencode&&(l=e.jgrid.htmlDecode(l)),c=createEl(this.edittype,v,l,!1,e.extend({},e.jgrid.ajaxOptions,s.p.ajaxSelectOptions||{})),""==l&&"checkbox"==this.edittype&&(l=e(c).attr("offval")),""==l&&"select"==this.edittype&&(l=e("option:eq(0)",c).text()),(t.checkOnSubmit||t.checkOnUpdate)&&(t._savedData[r]=l),e(c).addClass("FormElement"),o=e(n).find("tr[rowpos="+y+"]"),b.rowabove&&(v=e("<tr><td class='contentinfo' colspan='"+2*a+"'>"+b.rowcontent+"</td></tr>"),e(n).append(v),v[0].rp=y),0===o.length&&(o=e("<tr "+d+" rowpos='"+y+"'></tr>").addClass("FormData").attr("id","tr_"+r),e(o).append(g),e(n).append(o),o[0].rp=y),e("td:eq("+(w-2)+")",o[0]).html(void 0===b.label?s.p.colNames[m]:b.label),e("td:eq("+(w-1)+")",o[0]).append(b.elmprefix).append(c).append(b.elmsuffix),p[u]=m,u++}}),u>0&&((m=e("<tr class='FormData' style='display:none'><td class='CaptionTD'></td><td colspan='"+(2*a-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='"+s.p.id+"_id' value='"+i+"'/></td></tr>"))[0].rp=u+999,e(n).append(m),(t.checkOnSubmit||t.checkOnUpdate)&&(t._savedData[s.p.id+"_id"]=i))}(i,h,T,C),D="<a href='javascript:void(0)' id='"+D+"' class='fm-button ui-state-default ui-corner-left'><span class='ui-icon ui-icon-triangle-1-w'></span></div>",S="<a href='javascript:void(0)' id='"+S+"' class='fm-button ui-state-default ui-corner-right'><span class='ui-icon ui-icon-triangle-1-e'></span></div>";var I="<a href='javascript:void(0)' id='sData' class='fm-button ui-state-default ui-corner-all'>"+s.bSubmit+"</a>",F="<a href='javascript:void(0)' id='cData' class='fm-button ui-state-default ui-corner-all'>"+s.bCancel+"</a>";if(D="<table border='0' class='EditTable' id='"+v+"_2'><tbody><tr id='Act_Buttons'><td class='navButton ui-widget-content'>"+(x?S+D:D+S)+"</td><td class='EditButton ui-widget-content'>"+I+F+"</td></tr>",D+="<tr style='display:none' class='binfo'><td class='bottominfo' colspan='2'>"+t.bottominfo+"</td></tr>",D+="</tbody></table>",k>0){var q=[];e.each(e(T)[0].rows,function(e,t){q[e]=t}),q.sort(function(e,t){return e.rp>t.rp?1:e.rp<t.rp?-1:0}),e.each(q,function(t,i){e("tbody",T).append(i)})}s.gbox="#gbox_"+g;var N=!1;!0===s.closeOnEscape&&(s.closeOnEscape=!1,N=!0),M=e("<span></span>").append(M).append(D),createModal(b,M,s,"#gview_"+h.p.id,e("#gview_"+h.p.id)[0]),x&&(e("#pData, #nData","#"+v+"_2").css("float","right"),e(".EditButton","#"+v+"_2").css("text-align","left")),t.topinfo&&e(".tinfo","#"+v+"_2").show(),t.bottominfo&&e(".binfo","#"+v+"_2").show(),D=M=null,e("#"+b.themodal).keydown(function(i){var n=i.target;if(!0===e("#"+m).data("disabled"))return!1;if(!0===t.savekey[0]&&i.which==t.savekey[1]&&"TEXTAREA"!=n.tagName)return e("#sData","#"+v+"_2").trigger("click"),!1;if(27===i.which)return!!r()&&(N&&hideModal(this,{gb:s.gbox,jqm:s.jqModal,onClose:t.onClose}),!1);if(!0===t.navkeys[0]){if("_empty"==e("#id_g","#"+v).val())return!0;if(i.which==t.navkeys[1])return e("#pData","#"+v+"_2").trigger("click"),!1;if(i.which==t.navkeys[2])return e("#nData","#"+v+"_2").trigger("click"),!1}}),s.checkOnUpdate&&(e("a.ui-jqdialog-titlebar-close span","#"+b.themodal).removeClass("jqmClose"),e("a.ui-jqdialog-titlebar-close","#"+b.themodal).unbind("click").click(function(){return!!r()&&(hideModal("#"+b.themodal,{gb:"#gbox_"+g,jqm:s.jqModal,onClose:t.onClose}),!1)})),s.saveicon=e.extend([!0,"left","ui-icon-disk"],s.saveicon),s.closeicon=e.extend([!0,"left","ui-icon-close"],s.closeicon),!0===s.saveicon[0]&&e("#sData","#"+v+"_2").addClass("right"==s.saveicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+s.saveicon[2]+"'></span>"),!0===s.closeicon[0]&&e("#cData","#"+v+"_2").addClass("right"==s.closeicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+s.closeicon[2]+"'></span>"),(t.checkOnSubmit||t.checkOnUpdate)&&(I="<a href='javascript:void(0)' id='sNew' class='fm-button ui-state-default ui-corner-all' style='z-index:1002'>"+s.bYes+"</a>",S="<a href='javascript:void(0)' id='nNew' class='fm-button ui-state-default ui-corner-all' style='z-index:1002'>"+s.bNo+"</a>",F="<a href='javascript:void(0)' id='cNew' class='fm-button ui-state-default ui-corner-all' style='z-index:1002'>"+s.bExit+"</a>",M=s.zIndex||999,e("<div class='ui-widget-overlay jqgrid-overlay confirm' style='z-index:"+ ++M+";display:none;'>&#160;"+(e.browser.msie&&6==e.browser.version?'<iframe style="display:block;position:absolute;z-index:-1;filter:Alpha(Opacity=\'0\');" src="javascript:false;"></iframe>':"")+"</div><div class='confirm ui-widget-content ui-jqconfirm' style='z-index:"+(M+1)+"'>"+s.saveData+"<br/><br/>"+I+S+F+"</div>").insertAfter("#"+m),e("#sNew","#"+b.themodal).click(function(){return d(),e("#"+m).data("disabled",!1),e(".confirm","#"+b.themodal).hide(),!1}),e("#nNew","#"+b.themodal).click(function(){return e(".confirm","#"+b.themodal).hide(),e("#"+m).data("disabled",!1),setTimeout(function(){e(":input","#"+m)[0].focus()},0),!1}),e("#cNew","#"+b.themodal).click(function(){return e(".confirm","#"+b.themodal).hide(),e("#"+m).data("disabled",!1),hideModal("#"+b.themodal,{gb:"#gbox_"+g,jqm:s.jqModal,onClose:t.onClose}),!1})),_&&_(e("#"+m)),"_empty"!=i&&t.viewPagerButtons?e("#pData,#nData","#"+v+"_2").show():e("#pData,#nData","#"+v+"_2").hide(),y&&y(e("#"+m)),e("#"+b.themodal).data("onClose",t.onClose),viewModal("#"+b.themodal,{gbox:"#gbox_"+g,jqm:s.jqModal,closeoverlay:j,modal:s.modal}),j||e(".jqmOverlay").click(function(){return!!r()&&(hideModal("#"+b.themodal,{gb:"#gbox_"+g,jqm:s.jqModal,onClose:t.onClose}),!1)}),w&&w(e("#"+m)),e(".fm-button","#"+b.themodal).hover(function(){e(this).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover")}),e("#sData","#"+v+"_2").click(function(){return u={},p={},e("#FormError","#"+v).hide(),o(),"_empty"==u[h.p.id+"_id"]?d():!0===s.checkOnSubmit?(f=e.extend({},u,p),c(f,t._savedData)?(e("#"+m).data("disabled",!0),e(".confirm","#"+b.themodal).show()):d()):d(),!1}),e("#cData","#"+v+"_2").click(function(){return!!r()&&(hideModal("#"+b.themodal,{gb:"#gbox_"+g,jqm:s.jqModal,onClose:t.onClose}),!1)}),e("#nData","#"+v+"_2").click(function(){if(!r())return!1;e("#FormError","#"+v).hide();var t=a();return t[0]=parseInt(t[0],10),-1!=t[0]&&t[1][t[0]+1]&&(e.isFunction(s.onclickPgButtons)&&s.onclickPgButtons("next",e("#"+m),t[1][t[0]]),l(t[1][t[0]+1],h,m),e(h).jqGrid("setSelection",t[1][t[0]+1]),e.isFunction(s.afterclickPgButtons)&&s.afterclickPgButtons("next",e("#"+m),t[1][t[0]+1]),n(t[0]+1,t[1].length-1)),!1}),e("#pData","#"+v+"_2").click(function(){if(!r())return!1;e("#FormError","#"+v).hide();var t=a();return-1!=t[0]&&t[1][t[0]-1]&&(e.isFunction(s.onclickPgButtons)&&s.onclickPgButtons("prev",e("#"+m),t[1][t[0]]),l(t[1][t[0]-1],h,m),e(h).jqGrid("setSelection",t[1][t[0]-1]),e.isFunction(s.afterclickPgButtons)&&s.afterclickPgButtons("prev",e("#"+m),t[1][t[0]-1]),n(t[0]-1,t[1].length-1)),!1})}n((y=a())[0],y[1].length-1)}})},viewGridRow:function(t,i){return i=e.extend({top:0,left:0,width:0,height:"auto",dataheight:"auto",modal:!1,drag:!0,resize:!0,jqModal:!0,closeOnEscape:!1,labelswidth:"30%",closeicon:[],navkeys:[!1,38,40],onClose:null,beforeShowForm:null,viewPagerButtons:!0},e.jgrid.view,i||{}),this.each(function(){function s(){!0!==i.closeOnEscape&&!0!==i.navkeys[0]||setTimeout(function(){e(".ui-jqdialog-titlebar-close","#"+h.modalhead).focus()},0)}function n(t,i){0===t?e("#pData","#"+c+"_2").addClass("ui-state-disabled"):e("#pData","#"+c+"_2").removeClass("ui-state-disabled"),t==i?e("#nData","#"+c+"_2").addClass("ui-state-disabled"):e("#nData","#"+c+"_2").removeClass("ui-state-disabled")}function a(){var t=e(o).jqGrid("getDataIDs"),i=e("#id_g","#"+c).val();return[e.inArray(i,t),t]}function r(t,i){var s,n,a,r,o=0;(r=e(i).jqGrid("getInd",t,!0))&&(e("td",r).each(function(t){s=i.p.colModel[t].name,n=(!i.p.colModel[t].editrules||!0!==i.p.colModel[t].editrules.edithidden)&&!0===i.p.colModel[t].hidden,"cb"!==s&&"subgrid"!==s&&"rn"!==s&&(a=s==i.p.ExpandColumn&&!0===i.p.treeGrid?e(this).text():e(this).html(),e.extend({},i.p.colModel[t].editoptions||{}),s=e.jgrid.jqID("v_"+s),e("#"+s+" span","#"+c).html(a),n&&e("#"+s,"#"+c).parents("tr:first").hide(),o++)}),o>0&&e("#id_g","#"+c).val(t))}var o=this;if(o.grid&&t){i.imgpath||(i.imgpath=o.p.imgpath);var l=o.p.id,d="ViewGrid_"+l,c="ViewTbl_"+l,h={themodal:"viewmod"+l,modalhead:"viewhd"+l,modalcontent:"viewcnt"+l,scrollelm:d},u=1,p=0;if(null!=e("#"+h.themodal).html())e(".ui-jqdialog-title","#"+h.modalhead).html(i.caption),e("#FormError","#"+c).hide(),r(t,o),e.isFunction(i.beforeShowForm)&&i.beforeShowForm(e("#"+d)),viewModal("#"+h.themodal,{gbox:"#gbox_"+l,jqm:i.jqModal,jqM:!1,modal:i.modal}),s();else{e(o.p.colModel).each(function(){var e=this.formoptions;u=Math.max(u,e&&e.colpos||0),p=Math.max(p,e&&e.rowpos||0)});var f=isNaN(i.dataheight)?i.dataheight:i.dataheight+"px",g=e("<form name='FormPost' id='"+d+"' class='FormGrid' style='width:100%;overflow:auto;position:relative;height:"+f+";'></form>"),m=e("<table id='"+c+"' class='EditTable' cellspacing='1' cellpading='2' border='0' style='table-layout:fixed'><tbody></tbody></table>");e(g).append(m),function(t,s,n,a){for(var r,o,l,d,c,h,u,p,f=0,g=[],m="<td class='CaptionTD form-view-label ui-widget-content' width='"+i.labelswidth+"'>&#160;</td><td class='DataTD form-view-data ui-helper-reset ui-widget-content'>&#160;</td>",v="",b=["integer","number","currency"],y=0,w=0,x=1;x<=a;x++)v+=1==x?m:"<td class='CaptionTD form-view-label ui-widget-content'>&#160;</td><td class='DataTD form-view-data ui-widget-content'>&#160;</td>";e(s.p.colModel).each(function(){(!this.editrules||!0!==this.editrules.edithidden)&&!0===this.hidden||"right"!==this.align||(this.formatter&&-1!==e.inArray(this.formatter,b)?y=Math.max(y,parseInt(this.width,10)):w=Math.max(w,parseInt(this.width,10)))}),h=0!==y?y:0!==w?w:0,c=e(s).jqGrid("getInd",t),e(s.p.colModel).each(function(t){if(r=this.name,u=!1,d=this.editrules&&!0===this.editrules.edithidden||!0!==this.hidden?"":"style='display:none'",p="boolean"!=typeof this.viewable||this.viewable,"cb"!==r&&"subgrid"!==r&&"rn"!==r&&p){l=!1===c?"":r==s.p.ExpandColumn&&!0===s.p.treeGrid?e("td:eq("+t+")",s.rows[c]).text():e("td:eq("+t+")",s.rows[c]).html(),u="right"===this.align&&0!==h,e.extend({},this.editoptions||{},{id:r,name:r});var i=e.extend({},{rowabove:!1,rowcontent:""},this.formoptions||{}),m=parseInt(i.rowpos,10)||f+1,b=parseInt(2*(parseInt(i.colpos,10)||1),10);if(i.rowabove){var y=e("<tr><td class='contentinfo' colspan='"+2*a+"'>"+i.rowcontent+"</td></tr>");e(n).append(y),y[0].rp=m}0===(o=e(n).find("tr[rowpos="+m+"]")).length&&(o=e("<tr "+d+" rowpos='"+m+"'></tr>").addClass("FormData").attr("id","trv_"+r),e(o).append(v),e(n).append(o),o[0].rp=m),e("td:eq("+(b-2)+")",o[0]).html("<b>"+(void 0===i.label?s.p.colNames[t]:i.label)+"</b>"),e("td:eq("+(b-1)+")",o[0]).append("<span>"+l+"</span>").attr("id","v_"+r),u&&e("td:eq("+(b-1)+") span",o[0]).css({"text-align":"right",width:h+"px"}),g[f]=t,f++}}),f>0&&((t=e("<tr class='FormData' style='display:none'><td class='CaptionTD'></td><td colspan='"+(2*a-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='id' value='"+t+"'/></td></tr>"))[0].rp=f+99,e(n).append(t))}(t,o,m,u);var v="<a href='javascript:void(0)' id='"+((f="rtl"==o.p.direction)?"nData":"pData")+"' class='fm-button ui-state-default ui-corner-left'><span class='ui-icon ui-icon-triangle-1-w'></span></div>",b="<a href='javascript:void(0)' id='"+(f?"pData":"nData")+"' class='fm-button ui-state-default ui-corner-right'><span class='ui-icon ui-icon-triangle-1-e'></span></div>",y="<a href='javascript:void(0)' id='cData' class='fm-button ui-state-default ui-corner-all'>"+i.bClose+"</a>";if(p>0){var w=[];e.each(e(m)[0].rows,function(e,t){w[e]=t}),w.sort(function(e,t){return e.rp>t.rp?1:e.rp<t.rp?-1:0}),e.each(w,function(t,i){e("tbody",m).append(i)})}i.gbox="#gbox_"+l;var x=!1;!0===i.closeOnEscape&&(i.closeOnEscape=!1,x=!0),g=e("<span></span>").append(g).append("<table border='0' class='EditTable' id='"+c+"_2'><tbody><tr id='Act_Buttons'><td class='navButton ui-widget-content' width='"+i.labelswidth+"'>"+(f?b+v:v+b)+"</td><td class='EditButton ui-widget-content'>"+y+"</td></tr></tbody></table>"),createModal(h,g,i,"#gview_"+o.p.id,e("#gview_"+o.p.id)[0]),f&&(e("#pData, #nData","#"+c+"_2").css("float","right"),e(".EditButton","#"+c+"_2").css("text-align","left")),i.viewPagerButtons||e("#pData, #nData","#"+c+"_2").hide(),g=null,e("#"+h.themodal).keydown(function(t){if(27===t.which)return x&&hideModal(this,{gb:i.gbox,jqm:i.jqModal,onClose:i.onClose}),!1;if(!0===i.navkeys[0]){if(t.which===i.navkeys[1])return e("#pData","#"+c+"_2").trigger("click"),!1;if(t.which===i.navkeys[2])return e("#nData","#"+c+"_2").trigger("click"),!1}}),i.closeicon=e.extend([!0,"left","ui-icon-close"],i.closeicon),!0===i.closeicon[0]&&e("#cData","#"+c+"_2").addClass("right"==i.closeicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+i.closeicon[2]+"'></span>"),e.isFunction(i.beforeShowForm)&&i.beforeShowForm(e("#"+d)),viewModal("#"+h.themodal,{gbox:"#gbox_"+l,jqm:i.jqModal,modal:i.modal}),e(".fm-button:not(.ui-state-disabled)","#"+c+"_2").hover(function(){e(this).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover")}),s(),e("#cData","#"+c+"_2").click(function(){return hideModal("#"+h.themodal,{gb:"#gbox_"+l,jqm:i.jqModal,onClose:i.onClose}),!1}),e("#nData","#"+c+"_2").click(function(){e("#FormError","#"+c).hide();var t=a();return t[0]=parseInt(t[0],10),-1!=t[0]&&t[1][t[0]+1]&&(e.isFunction(i.onclickPgButtons)&&i.onclickPgButtons("next",e("#"+d),t[1][t[0]]),r(t[1][t[0]+1],o),e(o).jqGrid("setSelection",t[1][t[0]+1]),e.isFunction(i.afterclickPgButtons)&&i.afterclickPgButtons("next",e("#"+d),t[1][t[0]+1]),n(t[0]+1,t[1].length-1)),s(),!1}),e("#pData","#"+c+"_2").click(function(){e("#FormError","#"+c).hide();var t=a();return-1!=t[0]&&t[1][t[0]-1]&&(e.isFunction(i.onclickPgButtons)&&i.onclickPgButtons("prev",e("#"+d),t[1][t[0]]),r(t[1][t[0]-1],o),e(o).jqGrid("setSelection",t[1][t[0]-1]),e.isFunction(i.afterclickPgButtons)&&i.afterclickPgButtons("prev",e("#"+d),t[1][t[0]-1]),n(t[0]-1,t[1].length-1)),s(),!1})}n((f=a())[0],f[1].length-1)}})},delGridRow:function(i,s){return t=s=e.extend({top:0,left:0,width:240,height:"auto",dataheight:"auto",modal:!1,drag:!0,resize:!0,url:"",mtype:"POST",reloadAfterSubmit:!0,beforeShowForm:null,afterShowForm:null,beforeSubmit:null,onclickSubmit:null,afterSubmit:null,jqModal:!0,closeOnEscape:!1,delData:{},delicon:[],cancelicon:[],onClose:null,ajaxDelOptions:{},processing:!1,serializeDelData:null,useDataProxy:!1},e.jgrid.del,s||{}),this.each(function(){var n=this;if(n.grid&&i){var a,r,o,l,d="function"==typeof s.beforeShowForm,c="function"==typeof s.afterShowForm,h=n.p.id,u={},p="DelTbl_"+h,f={themodal:"delmod"+h,modalhead:"delhd"+h,modalcontent:"delcnt"+h,scrollelm:p};if(jQuery.isArray(i)&&(i=i.join()),null!=e("#"+f.themodal).html())e("#DelData>td","#"+p).text(i),e("#DelError","#"+p).hide(),!0===t.processing&&(t.processing=!1,e("#dData","#"+p).removeClass("ui-state-active")),d&&s.beforeShowForm(e("#"+p)),viewModal("#"+f.themodal,{gbox:"#gbox_"+h,jqm:s.jqModal,jqM:!1,modal:s.modal});else{var g=isNaN(s.dataheight)?s.dataheight:s.dataheight+"px";g="<div id='"+p+"' class='formdata' style='width:100%;overflow:auto;position:relative;height:"+g+";'>",g+="<table class='DelTable'><tbody>",g+="<tr id='DelError' style='display:none'><td class='ui-state-error'></td></tr>",g+="<tr id='DelData' style='display:none'><td >"+i+"</td></tr>",g+='<tr><td class="delmsg" style="white-space:pre;">'+s.msg+"</td></tr><tr><td >&#160;</td></tr>",g+="</tbody></table></div>",g+="<table cellspacing='0' cellpadding='0' border='0' class='EditTable' id='"+p+"_2'><tbody><tr><td class='DataTD ui-widget-content'></td></tr><tr style='display:block;height:3px;'><td></td></tr><tr><td class='DelButton EditButton'><a href='javascript:void(0)' id='dData' class='fm-button ui-state-default ui-corner-all'>"+s.bSubmit+"</a>&#160;<a href='javascript:void(0)' id='eData' class='fm-button ui-state-default ui-corner-all'>"+s.bCancel+"</a></td></tr></tbody></table>",s.gbox="#gbox_"+h,createModal(f,g,s,"#gview_"+n.p.id,e("#gview_"+n.p.id)[0]),e(".fm-button","#"+p+"_2").hover(function(){e(this).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover")}),s.delicon=e.extend([!0,"left","ui-icon-scissors"],s.delicon),s.cancelicon=e.extend([!0,"left","ui-icon-cancel"],s.cancelicon),!0===s.delicon[0]&&e("#dData","#"+p+"_2").addClass("right"==s.delicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+s.delicon[2]+"'></span>"),!0===s.cancelicon[0]&&e("#eData","#"+p+"_2").addClass("right"==s.cancelicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+s.cancelicon[2]+"'></span>"),e("#dData","#"+p+"_2").click(function(){var i=[!0,""];u={};var d=e("#DelData>td","#"+p).text();if("function"==typeof s.onclickSubmit&&(u=s.onclickSubmit(t,d)||{}),"function"==typeof s.beforeSubmit&&(i=s.beforeSubmit(d)),i[0]&&!t.processing){t.processing=!0,e(this).addClass("ui-state-active"),o=n.p.prmNames,a=e.extend({},t.delData,u),l=o.oper,a[l]=o.deloper,r=o.id,a[r]=d;var c=e.extend({url:t.url?t.url:e(n).jqGrid("getGridParam","editurl"),type:s.mtype,data:e.isFunction(s.serializeDelData)?s.serializeDelData(a):a,complete:function(r,o){if("success"!=o?(i[0]=!1,i[1]=e.isFunction(t.errorTextFormat)?t.errorTextFormat(r):o+" Status: '"+r.statusText+"'. Error code: "+r.status):"function"==typeof t.afterSubmit&&(i=t.afterSubmit(r,a)),!1===i[0])e("#DelError>td","#"+p).html(i[1]),e("#DelError","#"+p).show();else{if(t.reloadAfterSubmit)e(n).trigger("reloadGrid");else{if(o=[],o=d.split(","),!0===n.p.treeGrid)try{e(n).jqGrid("delTreeNode",o[0])}catch(e){}else for(var l=0;l<o.length;l++)e(n).jqGrid("delRowData",o[l]);n.p.selrow=null,n.p.selarrrow=[]}e.isFunction(t.afterComplete)&&setTimeout(function(){t.afterComplete(r,d)},500)}t.processing=!1,e("#dData","#"+p+"_2").removeClass("ui-state-active"),i[0]&&hideModal("#"+f.themodal,{gb:"#gbox_"+h,jqm:s.jqModal,onClose:t.onClose})},error:function(i,s,n){e("#DelError>td","#"+p).html(s+" : "+n),e("#DelError","#"+p).show(),t.processing=!1,e("#dData","#"+p+"_2").removeClass("ui-state-active")}},e.jgrid.ajaxOptions,s.ajaxDelOptions);c.url||t.useDataProxy||(e.isFunction(n.p.dataProxy)?t.useDataProxy=!0:(i[0]=!1,i[1]+=" "+e.jgrid.errors.nourl)),i[0]&&(t.useDataProxy?n.p.dataProxy.call(n,c,"del_"+n.p.id):e.ajax(c))}return!1===i[0]&&(e("#DelError>td","#"+p).html(i[1]),e("#DelError","#"+p).show()),!1}),e("#eData","#"+p+"_2").click(function(){return hideModal("#"+f.themodal,{gb:"#gbox_"+h,jqm:s.jqModal,onClose:t.onClose}),!1}),d&&s.beforeShowForm(e("#"+p)),viewModal("#"+f.themodal,{gbox:"#gbox_"+h,jqm:s.jqModal,modal:s.modal})}c&&s.afterShowForm(e("#"+p)),!0===s.closeOnEscape&&setTimeout(function(){e(".ui-jqdialog-titlebar-close","#"+f.modalhead).focus()},0)}})},navGrid:function(t,i,s,n,a,r,o){return i=e.extend({edit:!0,editicon:"ui-icon-pencil",add:!0,addicon:"ui-icon-plus",del:!0,delicon:"ui-icon-trash",search:!0,searchicon:"ui-icon-search",refresh:!0,refreshicon:"ui-icon-refresh",refreshstate:"firstpage",view:!1,viewicon:"ui-icon-document",position:"left",closeOnEscape:!0,beforeRefresh:null,afterRefresh:null,cloneToTop:!1},e.jgrid.nav,i||{}),this.each(function(){var l,d,c,h={themodal:"alertmod",modalhead:"alerthd",modalcontent:"alertcnt"},u=this;if(u.grid&&"string"==typeof t)for(null===e("#"+h.themodal).html()&&(void 0!==window.innerWidth?(l=window.innerWidth,d=window.innerHeight):void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!==document.documentElement.clientWidth?(l=document.documentElement.clientWidth,d=document.documentElement.clientHeight):(l=1024,d=768),createModal(h,"<div>"+i.alerttext+"</div><span tabindex='0'><span tabindex='-1' id='jqg_alrt'></span></span>",{gbox:"#gbox_"+u.p.id,jqModal:!0,drag:!0,resize:!0,caption:i.alertcap,top:d/2-25,left:l/2-100,width:200,height:"auto",closeOnEscape:i.closeOnEscape},"","",!0)),l=1,i.cloneToTop&&u.p.toppager&&(l=2),d=0;d<l;d++){var p,f,g=e("<table cellspacing='0' cellpadding='0' border='0' class='ui-pg-table navtable' style='float:left;table-layout:auto;'><tbody><tr></tr></tbody></table>");0===d?(p=t,f=u.p.id,p==u.p.toppager&&(f+="_top",l=1)):(p=u.p.toppager,f=u.p.id+"_top"),"rtl"==u.p.direction&&e(g).attr("dir","rtl").css("float","right"),i.add&&(n=n||{},c=e("<td class='ui-pg-button ui-corner-all'></td>"),e(c).append("<div class='ui-pg-div'><span class='ui-icon "+i.addicon+"'></span>"+i.addtext+"</div>"),e("tr",g).append(c),e(c,g).attr({title:i.addtitle||"",id:n.id||"add_"+f}).click(function(){return e(this).hasClass("ui-state-disabled")||("function"==typeof i.addfunc?i.addfunc():e(u).jqGrid("editGridRow","new",n)),!1}).hover(function(){e(this).hasClass("ui-state-disabled")||e(this).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover")}),c=null),i.edit&&(c=e("<td class='ui-pg-button ui-corner-all'></td>"),s=s||{},e(c).append("<div class='ui-pg-div'><span class='ui-icon "+i.editicon+"'></span>"+i.edittext+"</div>"),e("tr",g).append(c),e(c,g).attr({title:i.edittitle||"",id:s.id||"edit_"+f}).click(function(){if(!e(this).hasClass("ui-state-disabled")){var t=u.p.selrow;t?"function"==typeof i.editfunc?i.editfunc(t):e(u).jqGrid("editGridRow",t,s):(viewModal("#"+h.themodal,{gbox:"#gbox_"+u.p.id,jqm:!0}),e("#jqg_alrt").focus())}return!1}).hover(function(){e(this).hasClass("ui-state-disabled")||e(this).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover")}),c=null),i.view&&(c=e("<td class='ui-pg-button ui-corner-all'></td>"),o=o||{},e(c).append("<div class='ui-pg-div'><span class='ui-icon "+i.viewicon+"'></span>"+i.viewtext+"</div>"),e("tr",g).append(c),e(c,g).attr({title:i.viewtitle||"",id:o.id||"view_"+f}).click(function(){if(!e(this).hasClass("ui-state-disabled")){var t=u.p.selrow;t?e(u).jqGrid("viewGridRow",t,o):(viewModal("#"+h.themodal,{gbox:"#gbox_"+u.p.id,jqm:!0}),e("#jqg_alrt").focus())}return!1}).hover(function(){e(this).hasClass("ui-state-disabled")||e(this).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover")}),c=null),i.del&&(c=e("<td class='ui-pg-button ui-corner-all'></td>"),a=a||{},e(c).append("<div class='ui-pg-div'><span class='ui-icon "+i.delicon+"'></span>"+i.deltext+"</div>"),e("tr",g).append(c),e(c,g).attr({title:i.deltitle||"",id:a.id||"del_"+f}).click(function(){var t;e(this).hasClass("ui-state-disabled")||(u.p.multiselect?0===(t=u.p.selarrrow).length&&(t=null):t=u.p.selrow,t?"function"==typeof i.delfunc?i.delfunc(t):e(u).jqGrid("delGridRow",t,a):(viewModal("#"+h.themodal,{gbox:"#gbox_"+u.p.id,jqm:!0}),e("#jqg_alrt").focus()));return!1}).hover(function(){e(this).hasClass("ui-state-disabled")||e(this).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover")}),c=null),(i.add||i.edit||i.del||i.view)&&e("tr",g).append("<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='ui-separator'></span></td>"),i.search&&(c=e("<td class='ui-pg-button ui-corner-all'></td>"),r=r||{},e(c).append("<div class='ui-pg-div'><span class='ui-icon "+i.searchicon+"'></span>"+i.searchtext+"</div>"),e("tr",g).append(c),e(c,g).attr({title:i.searchtitle||"",id:r.id||"search_"+f}).click(function(){return e(this).hasClass("ui-state-disabled")||e(u).jqGrid("searchGrid",r),!1}).hover(function(){e(this).hasClass("ui-state-disabled")||e(this).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover")}),c=null),i.refresh&&(c=e("<td class='ui-pg-button ui-corner-all'></td>"),e(c).append("<div class='ui-pg-div'><span class='ui-icon "+i.refreshicon+"'></span>"+i.refreshtext+"</div>"),e("tr",g).append(c),e(c,g).attr({title:i.refreshtitle||"",id:"refresh_"+f}).click(function(){if(!e(this).hasClass("ui-state-disabled")){e.isFunction(i.beforeRefresh)&&i.beforeRefresh(),u.p.search=!1;try{e("#fbox_"+u.p.id).searchFilter().reset(),e.isFunction(u.clearToolbar)&&u.clearToolbar(!1)}catch(e){}switch(i.refreshstate){case"firstpage":e(u).trigger("reloadGrid",[{page:1}]);break;case"current":e(u).trigger("reloadGrid",[{current:!0}])}e.isFunction(i.afterRefresh)&&i.afterRefresh()}return!1}).hover(function(){e(this).hasClass("ui-state-disabled")||e(this).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover")}),c=null),c=e(".ui-jqgrid").css("font-size")||"11px",e("body").append("<div id='testpg2' class='ui-jqgrid ui-widget ui-widget-content' style='font-size:"+c+";visibility:hidden;' ></div>"),c=e(g).clone().appendTo("#testpg2").width(),e("#testpg2").remove(),e(p+"_"+i.position,p).append(g),u.p._nvtd&&(c>u.p._nvtd[0]&&(e(p+"_"+i.position,p).width(c),u.p._nvtd[0]=c),u.p._nvtd[1]=c),g=c=c=null}})},navButtonAdd:function(t,i){return i=e.extend({caption:"newButton",title:"",buttonicon:"ui-icon-newwin",onClickButton:null,position:"last",cursor:"pointer"},i||{}),this.each(function(){if(this.grid){0!==t.indexOf("#")&&(t="#"+t);var s=e(".navtable",t)[0],n=this;if(s){var a=e("<td></td>");"NONE"==i.buttonicon.toString().toUpperCase()?e(a).addClass("ui-pg-button ui-corner-all").append("<div class='ui-pg-div'>"+i.caption+"</div>"):e(a).addClass("ui-pg-button ui-corner-all").append("<div class='ui-pg-div'><span class='ui-icon "+i.buttonicon+"'></span>"+i.caption+"</div>"),i.id&&e(a).attr("id",i.id),"first"==i.position?0===s.rows[0].cells.length?e("tr",s).append(a):e("tr td:eq(0)",s).before(a):e("tr",s).append(a),e(a,s).attr("title",i.title||"").click(function(t){return e(this).hasClass("ui-state-disabled")||e.isFunction(i.onClickButton)&&i.onClickButton.call(n,t),!1}).hover(function(){e(this).hasClass("ui-state-disabled")||e(this).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover")})}}})},navSeparatorAdd:function(t,i){return i=e.extend({sepclass:"ui-separator",sepcontent:""},i||{}),this.each(function(){if(this.grid){0!==t.indexOf("#")&&(t="#"+t);var s=e(".navtable",t)[0];if(s){var n="<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='"+i.sepclass+"'></span>"+i.sepcontent+"</td>";e("tr",s).append(n)}}})},GridToForm:function(t,i){return this.each(function(){if(this.grid){var s=e(this).jqGrid("getRowData",t);if(s)for(var n in s)e("[name="+n+"]",i).is("input:radio")||e("[name="+n+"]",i).is("input:checkbox")?e("[name="+n+"]",i).each(function(){e(this).val()==s[n]?e(this).attr("checked","checked"):e(this).attr("checked","")}):e("[name="+n+"]",i).val(s[n])}})},FormToGrid:function(t,i,s,n){return this.each(function(){var a=this;if(a.grid){s||(s="set"),n||(n="first");var r=e(i).serializeArray(),o={};e.each(r,function(e,t){o[t.name]=t.value}),"add"==s?e(a).jqGrid("addRowData",t,o,n):"set"==s&&e(a).jqGrid("setRowData",t,o)}})}})}(jQuery),jQuery.fn.searchFilter=function(e,t){return new function(e,t,i){if(this.$=e,this.add=function(t){return null==t?e.find(".ui-add-last").click():e.find(".sf:eq("+t+") .ui-add").click(),this},this.del=function(t){return null==t?e.find(".sf:last .ui-del").click():e.find(".sf:eq("+t+") .ui-del").click(),this},this.search=function(){return e.find(".ui-search").click(),this},this.reset=function(){return e.find(".ui-reset").click(),this},this.close=function(){return e.find(".ui-closer").click(),this},null!=t){function s(){return jQuery(this).toggleClass("ui-state-hover"),!1}function n(e){return jQuery(this).toggleClass("ui-state-active","mousedown"==e.type),!1}function a(e,t){return"<option value='"+e+"'>"+t+"</option>"}function r(e,t,i){return"<select class='"+e+"'"+(i?" style='display:none;'":"")+">"+t+"</select>"}function o(t,i){null!=(t=e.find("tr.sf td.data "+t))[0]&&i(t)}function l(t,i){var s=e.find("tr.sf td.data "+t);null!=s[0]&&jQuery.each(i,function(){null!=this.data?s.bind(this.type,this.data,this.fn):s.bind(this.type,this.fn)})}var d=jQuery.extend({},jQuery.fn.searchFilter.defaults,i),c=-1,h="";jQuery.each(d.groupOps,function(){h+=a(this.op,this.text)}),h="<select name='groupOp'>"+h+"</select>",e.html("").addClass("ui-searchFilter").append("<div class='ui-widget-overlay' style='z-index: -1'>&#160;</div><table class='ui-widget-content ui-corner-all'><thead><tr><td colspan='5' class='ui-widget-header ui-corner-all' style='line-height: 18px;'><div class='ui-closer ui-state-default ui-corner-all ui-helper-clearfix' style='float: right;'><span class='ui-icon ui-icon-close'></span></div>"+d.windowTitle+"</td></tr></thead><tbody><tr class='sf'><td class='fields'></td><td class='ops'></td><td class='data'></td><td><div class='ui-del ui-state-default ui-corner-all'><span class='ui-icon ui-icon-minus'></span></div></td><td><div class='ui-add ui-state-default ui-corner-all'><span class='ui-icon ui-icon-plus'></span></div></td></tr><tr><td colspan='5' class='divider'><div>&#160;</div></td></tr></tbody><tfoot><tr><td colspan='3'><span class='ui-reset ui-state-default ui-corner-all' style='display: inline-block; float: left;'><span class='ui-icon ui-icon-arrowreturnthick-1-w' style='float: left;'></span><span style='line-height: 18px; padding: 0 7px 0 3px;'>"+d.resetText+"</span></span><span class='ui-search ui-state-default ui-corner-all' style='display: inline-block; float: right;'><span class='ui-icon ui-icon-search' style='float: left;'></span><span style='line-height: 18px; padding: 0 7px 0 3px;'>"+d.searchText+"</span></span><span class='matchText'>"+d.matchText+"</span> "+h+" <span class='rulesText'>"+d.rulesText+"</span></td><td>&#160;</td><td><div class='ui-add-last ui-state-default ui-corner-all'><span class='ui-icon ui-icon-plusthick'></span></div></td></tr></tfoot></table>");var u=e.find("tr.sf"),p=u.find("td.fields"),f=u.find("td.ops"),g=u.find("td.data"),m="";jQuery.each(d.operators,function(){m+=a(this.op,this.text)}),m=r("default",m,!0),f.append(m),g.append("<input type='text' class='default' style='display:none;' />");var v="",b=!1,y=!1;jQuery.each(t,function(t){if(v+=a(this.itemval,this.text),null!=this.ops){b=!0;var i="";jQuery.each(this.ops,function(){i+=a(this.op,this.text)}),i=r("field"+t,i,!0),f.append(i)}if(null!=this.dataUrl){t>c&&(c=t),y=!0;var s=this.dataEvents,n=this.dataInit,h=this.buildSelect;jQuery.ajax(jQuery.extend({url:this.dataUrl,complete:function(i){(i=null!=h?jQuery("<div />").append(h(i)):jQuery("<div />").append(i.responseText)).find("select").addClass("field"+t).hide(),g.append(i.html()),n&&o(".field"+t,n),s&&l(".field"+t,s),t==c&&e.find("tr.sf td.fields select[name='field']").change()}},d.ajaxSelectOptions))}else if(null!=this.dataValues){y=!0;var u="";jQuery.each(this.dataValues,function(){u+=a(this.value,this.text)}),u=r("field"+t,u,!0),g.append(u)}else null==this.dataEvents&&null==this.dataInit||(y=!0,u="<input type='text' class='field"+t+"' />",g.append(u));null!=this.dataInit&&t!=c&&o(".field"+t,this.dataInit),null!=this.dataEvents&&t!=c&&l(".field"+t,this.dataEvents)}),v="<select name='field'>"+v+"</select>",p.append(v),t=p.find("select[name='field']"),b?t.change(function(e){var t=e.target.selectedIndex;(e=jQuery(e.target).parents("tr.sf").find("td.ops")).find("select").removeAttr("name").hide(),null==(t=e.find(".field"+t))[0]&&(t=e.find(".default")),t.attr("name","op").show()}):f.find(".default").attr("name","op").show(),y?t.change(function(e){var t=e.target.selectedIndex;(e=jQuery(e.target).parents("tr.sf").find("td.data")).find("select,input").removeClass("vdata").hide(),null==(t=e.find(".field"+t))[0]&&(t=e.find(".default")),t.show().addClass("vdata")}):g.find(".default").show().addClass("vdata"),(b||y)&&t.change(),e.find(".ui-state-default").hover(s,s).mousedown(n).mouseup(n),e.find(".ui-closer").click(function(){return d.onClose(jQuery(e.selector)),!1}),e.find(".ui-del").click(function(e){return(e=jQuery(e.target).parents(".sf")).siblings(".sf").length>0?(!0===d.datepickerFix&&void 0!==jQuery.fn.datepicker&&e.find(".hasDatepicker").datepicker("destroy"),e.remove()):(e.find("select[name='field']")[0].selectedIndex=0,e.find("select[name='op']")[0].selectedIndex=0,e.find(".data input").val(""),e.find(".data select").each(function(){this.selectedIndex=0}),e.find("select[name='field']").change()),!1}),e.find(".ui-add").click(function(e){var t=(e=jQuery(e.target).parents(".sf")).clone(!0).insertAfter(e);if(t.find(".ui-state-default").removeClass("ui-state-hover ui-state-active"),d.clone){t.find("select[name='field']")[0].selectedIndex=e.find("select[name='field']")[0].selectedIndex,null!=t.find("select[name='op']")[0]&&(t.find("select[name='op']").focus()[0].selectedIndex=e.find("select[name='op']")[0].selectedIndex);var i=t.find("select.vdata");null!=i[0]&&(i[0].selectedIndex=e.find("select.vdata")[0].selectedIndex)}else t.find(".data input").val(""),t.find("select[name='field']").focus();return!0===d.datepickerFix&&void 0!==jQuery.fn.datepicker&&e.find(".hasDatepicker").each(function(){var e=jQuery.data(this,"datepicker").settings;t.find("#"+this.id).unbind().removeAttr("id").removeClass("hasDatepicker").datepicker(e)}),t.find("select[name='field']").change(),!1}),e.find(".ui-search").click(function(){var t,i=jQuery(e.selector),s=i.find("select[name='groupOp'] :selected").val();return t=d.stringResult?'{"groupOp":"'+s+'","rules":[':{groupOp:s,rules:[]},i.find(".sf").each(function(e){var i=jQuery(this).find("select[name='field'] :selected").val(),s=jQuery(this).find("select[name='op'] :selected").val(),n=jQuery(this).find("input.vdata,select.vdata :selected").val();n=(n+="").replace(/\\/g,"\\\\").replace(/\"/g,'\\"'),d.stringResult?(e>0&&(t+=","),t+='{"field":"'+i+'",',t+='"op":"'+s+'",',t+='"data":"'+n+'"}'):t.rules.push({field:i,op:s,data:n})}),d.stringResult&&(t+="]}"),d.onSearch(t),!1}),e.find(".ui-reset").click(function(){var t=jQuery(e.selector);return t.find(".ui-del").click(),t.find("select[name='groupOp']")[0].selectedIndex=0,d.onReset(),!1}),e.find(".ui-add-last").click(function(){var t=jQuery(e.selector+" .sf:last"),i=t.clone(!0).insertAfter(t);return i.find(".ui-state-default").removeClass("ui-state-hover ui-state-active"),i.find(".data input").val(""),i.find("select[name='field']").focus(),!0===d.datepickerFix&&void 0!==jQuery.fn.datepicker&&t.find(".hasDatepicker").each(function(){var e=jQuery.data(this,"datepicker").settings;i.find("#"+this.id).unbind().removeAttr("id").removeClass("hasDatepicker").datepicker(e)}),i.find("select[name='field']").change(),!1}),this.setGroupOp=function(e){selDOMobj=this.$.find("select[name='groupOp']")[0];var t,i={},s=selDOMobj.options.length;for(t=0;t<s;t++)i[selDOMobj.options[t].value]=t;selDOMobj.selectedIndex=i[e],$(selDOMobj).change()},this.setFilter=function(e){var t=e.sfref;e=e.filter;var s,n,a,r,o,l,d,c,h=[],u={};for(selDOMobj=t.find("select[name='field']")[0],s=0,a=selDOMobj.options.length;s<a;s++)u[selDOMobj.options[s].value]={index:s,ops:{}},h.push(selDOMobj.options[s].value);for(s=0,a=h.length;s<a;s++){if(selDOMobj=t.find(".ops > select[class='field"+s+"']")[0])for(n=0,r=selDOMobj.options.length;n<r;n++)u[h[s]].ops[selDOMobj.options[n].value]=n;if(selDOMobj=t.find(".data > select[class='field"+s+"']")[0])for(u[h[s]].data={},n=0,r=selDOMobj.options.length;n<r;n++)u[h[s]].data[selDOMobj.options[n].value]=n}if(u[h=e.field]&&(o=u[h].index),null!=o){if(void 0===(l=u[h].ops[e.op]))for(s=0,a=i.operators.length;s<a;s++)if(i.operators[s].op==e.op){l=s;break}d=e.data,c=null==u[h].data?-1:u[h].data[d]}return null!=o&&null!=l&&null!=c&&(t.find("select[name='field']")[0].selectedIndex=o,t.find("select[name='field']").change(),t.find("select[name='op']")[0].selectedIndex=l,t.find("input.vdata").val(d),(t=t.find("select.vdata")[0])&&(t.selectedIndex=c),!0)}}}(this,e,t)},jQuery.fn.searchFilter.version="1.2.9",jQuery.fn.searchFilter.defaults={clone:!0,datepickerFix:!0,onReset:function(e){alert("Reset Clicked. Data Returned: "+e)},onSearch:function(e){alert("Search Clicked. Data Returned: "+e)},onClose:function(e){e.hide()},groupOps:[{op:"AND",text:"all"},{op:"OR",text:"any"}],operators:[{op:"eq",text:"is equal to"},{op:"ne",text:"is not equal to"},{op:"lt",text:"is less than"},{op:"le",text:"is less or equal to"},{op:"gt",text:"is greater than"},{op:"ge",text:"is greater or equal to"},{op:"in",text:"is in"},{op:"ni",text:"is not in"},{op:"bw",text:"begins with"},{op:"bn",text:"does not begin with"},{op:"ew",text:"ends with"},{op:"en",text:"does not end with"},{op:"cn",text:"contains"},{op:"nc",text:"does not contain"}],matchText:"match",rulesText:"rules",resetText:"Reset",searchText:"Search",stringResult:!0,windowTitle:"Search Rules",ajaxSelectOptions:{}},function(e){e.jgrid.extend({editRow:function(t,i,s,n,a,r,o,l,d){return this.each(function(){var c,h,u,p,f=this,g=0,m=null,v={};f.grid&&!1!==(u=e(f).jqGrid("getInd",t,!0))&&("0"!=(e(u).attr("editable")||"0")||e(u).hasClass("not-editable-row")||(p=f.p.colModel,e("td",u).each(function(i){c=p[i].name;var s=!0===f.p.treeGrid&&c==f.p.ExpandColumn;if(s)h=e("span:first",this).html();else try{h=e.unformat(this,{rowId:t,colModel:p[i]},i)}catch(t){h=e(this).html()}if("cb"!=c&&"subgrid"!=c&&"rn"!=c&&(f.p.autoencode&&(h=e.jgrid.htmlDecode(h)),v[c]=h,!0===p[i].editable)){null===m&&(m=i),s?e("span:first",this).html(""):e(this).html("");var n=e.extend({},p[i].editoptions||{},{id:t+"_"+c,name:c});p[i].edittype||(p[i].edittype="text"),n=createEl(p[i].edittype,n,h,!0,e.extend({},e.jgrid.ajaxOptions,f.p.ajaxSelectOptions||{})),e(n).addClass("editable"),s?e("span:first",this).append(n):e(this).append(n),"select"==p[i].edittype&&!0===p[i].editoptions.multiple&&e.browser.msie&&e(n).width(e(n).width()),g++}}),g>0&&(v.id=t,f.p.savedRow.push(v),e(u).attr("editable","1"),e("td:eq("+m+") input",u).focus(),!0===i&&e(u).bind("keydown",function(i){if(27===i.keyCode&&e(f).jqGrid("restoreRow",t,d),13===i.keyCode)return"TEXTAREA"==i.target.tagName||(e(f).jqGrid("saveRow",t,n,a,r,o,l,d),!1);i.stopPropagation()}),e.isFunction(s)&&s(t))))})},saveRow:function(t,i,s,n,a,r,o){return this.each(function(){var l,d,c,h,u,p,f=this,g={},m={};if(f.grid&&(!1!==(u=e(f).jqGrid("getInd",t,!0))&&(d=e(u).attr("editable"),s=s||f.p.editurl,"1"===d)))if(e("td",u).each(function(t){if(p=f.p.colModel[t],"cb"!=(l=p.name)&&"subgrid"!=l&&!0===p.editable&&"rn"!=l){switch(p.edittype){case"checkbox":var i=["Yes","No"];p.editoptions&&(i=p.editoptions.value.split(":")),g[l]=e("input",this).attr("checked")?i[0]:i[1];break;case"text":case"password":case"textarea":case"button":g[l]=e("input, textarea",this).val();break;case"select":if(p.editoptions.multiple){i=e("select",this);var s=[];g[l]=e(i).val(),g[l]=g[l]?g[l].join(","):"",e("select > option:selected",this).each(function(t,i){s[t]=e(i).text()}),m[l]=s.join(",")}else g[l]=e("select>option:selected",this).val(),m[l]=e("select>option:selected",this).text();p.formatter&&"select"==p.formatter&&(m={});break;case"custom":try{if(!p.editoptions||!e.isFunction(p.editoptions.custom_value))throw"e1";if(g[l]=p.editoptions.custom_value(e(".customelement",this),"get"),void 0===g[l])throw"e2"}catch(t){"e1"==t&&info_dialog(jQuery.jgrid.errors.errcap,"function 'custom_value' "+e.jgrid.edit.msg.nodefined,jQuery.jgrid.edit.bClose),info_dialog(jQuery.jgrid.errors.errcap,"e2"==t?"function 'custom_value' "+e.jgrid.edit.msg.novalue:t.message,jQuery.jgrid.edit.bClose)}}if(!1===(h=checkValues(g[l],t,f))[0])return h[1]=g[l]+" "+h[1],!1;f.p.autoencode&&(g[l]=e.jgrid.htmlEncode(g[l]))}}),!1===h[0])try{var v=findPos(e("#"+t)[0]);info_dialog(e.jgrid.errors.errcap,h[1],e.jgrid.edit.bClose,{left:v[0],top:v[1]})}catch(e){alert(h[1])}else{var b;if(g)b=(v=f.p.prmNames).oper,d=v.id,g[b]=v.editoper,g[d]=t,void 0===f.p.inlineData&&(f.p.inlineData={}),void 0===n&&(n={}),g=e.extend({},g,f.p.inlineData,n);if("clientArray"==s){for(g=e.extend({},g,m),f.p.autoencode&&e.each(g,function(t,i){g[t]=e.jgrid.htmlDecode(i)}),d=e(f).jqGrid("setRowData",t,g),e(u).attr("editable","0"),v=0;v<f.p.savedRow.length;v++)if(f.p.savedRow[v].id==t){c=v;break}c>=0&&f.p.savedRow.splice(c,1),e.isFunction(a)&&a(t,d)}else e("#lui_"+f.p.id).show(),e.ajax(e.extend({url:s,data:e.isFunction(f.p.serializeRowData)?f.p.serializeRowData(g):g,type:"POST",complete:function(s,n){if(e("#lui_"+f.p.id).hide(),"success"===n)if(!0===(!e.isFunction(i)||i(s))){for(f.p.autoencode&&e.each(g,function(t,i){g[t]=e.jgrid.htmlDecode(i)}),g=e.extend({},g,m),e(f).jqGrid("setRowData",t,g),e(u).attr("editable","0"),n=0;n<f.p.savedRow.length;n++)if(f.p.savedRow[n].id==t){c=n;break}c>=0&&f.p.savedRow.splice(c,1),e.isFunction(a)&&a(t,s)}else e(f).jqGrid("restoreRow",t,o)},error:function(i,s){e("#lui_"+f.p.id).hide(),e.isFunction(r)?r(t,i,s):alert("Error Row: "+t+" Result: "+i.status+":"+i.statusText+" Status: "+s)}},e.jgrid.ajaxOptions,f.p.ajaxRowOptions||{}));e(u).unbind("keydown")}})},restoreRow:function(t,i){return this.each(function(){var s,n,a=this,r={};if(a.grid&&!1!==(n=e(a).jqGrid("getInd",t,!0))){for(var o=0;o<a.p.savedRow.length;o++)if(a.p.savedRow[o].id==t){s=o;break}if(s>=0){if(e.isFunction(e.fn.datepicker))try{e("input.hasDatepicker","#"+n.id).datepicker("hide")}catch(e){}e.each(a.p.colModel,function(){!0===this.editable&&this.name in a.p.savedRow[s]&&(r[this.name]=a.p.savedRow[s][this.name])}),e(a).jqGrid("setRowData",t,r),e(n).attr("editable","0").unbind("keydown"),a.p.savedRow.splice(s,1)}e.isFunction(i)&&i(t)}})}})}(jQuery),function(e){e.jgrid.extend({editCell:function(t,i,s){return this.each(function(){var n,a,r,o=this;if(o.grid&&!0===o.p.cellEdit){if(i=parseInt(i,10),o.p.selrow=o.rows[t].id,o.p.knv||e(o).jqGrid("GridNav"),o.p.savedRow.length>0){if(!0===s&&t==o.p.iRow&&i==o.p.iCol)return;e(o).jqGrid("saveCell",o.p.savedRow[0].id,o.p.savedRow[0].ic)}else window.setTimeout(function(){e("#"+o.p.knv).attr("tabindex","-1").focus()},0);if("subgrid"!=(n=o.p.colModel[i].name)&&"cb"!=n&&"rn"!=n){if(r=e("td:eq("+i+")",o.rows[t]),!0!==o.p.colModel[i].editable||!0!==s||r.hasClass("not-editable-cell"))parseInt(o.p.iCol,10)>=0&&parseInt(o.p.iRow,10)>=0&&(e("td:eq("+o.p.iCol+")",o.rows[o.p.iRow]).removeClass("edit-cell ui-state-highlight"),e(o.rows[o.p.iRow]).removeClass("selected-row ui-state-hover")),r.addClass("edit-cell ui-state-highlight"),e(o.rows[t]).addClass("selected-row ui-state-hover"),e.isFunction(o.p.onSelectCell)&&(a=r.html().replace(/\&#160\;/gi,""),o.p.onSelectCell(o.rows[t].id,n,a,t,i));else{parseInt(o.p.iCol,10)>=0&&parseInt(o.p.iRow,10)>=0&&(e("td:eq("+o.p.iCol+")",o.rows[o.p.iRow]).removeClass("edit-cell ui-state-highlight"),e(o.rows[o.p.iRow]).removeClass("selected-row ui-state-hover")),e(r).addClass("edit-cell ui-state-highlight"),e(o.rows[t]).addClass("selected-row ui-state-hover");try{a=e.unformat(r,{rowId:o.rows[t].id,colModel:o.p.colModel[i]},i)}catch(t){a=e(r).html()}if(o.p.autoencode&&(a=e.jgrid.htmlDecode(a)),o.p.colModel[i].edittype||(o.p.colModel[i].edittype="text"),o.p.savedRow.push({id:t,ic:i,name:n,v:a}),e.isFunction(o.p.formatCell)){var l=o.p.formatCell(o.rows[t].id,n,a,t,i);void 0!==l&&(a=l)}l=e.extend({},o.p.colModel[i].editoptions||{},{id:t+"_"+n,name:n});var d=createEl(o.p.colModel[i].edittype,l,a,!0,e.extend({},e.jgrid.ajaxOptions,o.p.ajaxSelectOptions||{}));e.isFunction(o.p.beforeEditCell)&&o.p.beforeEditCell(o.rows[t].id,n,a,t,i),e(r).html("").append(d).attr("tabindex","0"),window.setTimeout(function(){e(d).focus()},0),e("input, select, textarea",r).bind("keydown",function(s){if(27===s.keyCode&&(e("input.hasDatepicker",r).length>0?e(".ui-datepicker").is(":hidden")?e(o).jqGrid("restoreCell",t,i):e("input.hasDatepicker",r).datepicker("hide"):e(o).jqGrid("restoreCell",t,i)),13===s.keyCode&&e(o).jqGrid("saveCell",t,i),9==s.keyCode){if(o.grid.hDiv.loading)return!1;s.shiftKey?e(o).jqGrid("prevCell",t,i):e(o).jqGrid("nextCell",t,i)}s.stopPropagation()}),e.isFunction(o.p.afterEditCell)&&o.p.afterEditCell(o.rows[t].id,n,a,t,i)}o.p.iCol=i,o.p.iRow=t}}})},saveCell:function(t,i){return this.each(function(){var s,n=this;if(n.grid&&!0===n.p.cellEdit){if(null!==(s=n.p.savedRow.length>=1?0:null)){var a,r,o=e("td:eq("+i+")",n.rows[t]),l=n.p.colModel[i],d=l.name,c=e.jgrid.jqID(d);switch(l.edittype){case"select":if(l.editoptions.multiple){c=e("#"+t+"_"+c,n.rows[t]);var h=[];(a=e(c).val())?a.join(","):a="",e("option:selected",c).each(function(t,i){h[t]=e(i).text()}),r=h.join(",")}else a=e("#"+t+"_"+c+">option:selected",n.rows[t]).val(),r=e("#"+t+"_"+c+">option:selected",n.rows[t]).text();l.formatter&&(r=a);break;case"checkbox":var u=["Yes","No"];l.editoptions&&(u=l.editoptions.value.split(":")),r=a=e("#"+t+"_"+c,n.rows[t]).attr("checked")?u[0]:u[1];break;case"password":case"text":case"textarea":case"button":r=a=e("#"+t+"_"+c,n.rows[t]).val();break;case"custom":try{if(!l.editoptions||!e.isFunction(l.editoptions.custom_value))throw"e1";if(void 0===(a=l.editoptions.custom_value(e(".customelement",o),"get")))throw"e2";r=a}catch(t){"e1"==t&&info_dialog(jQuery.jgrid.errors.errcap,"function 'custom_value' "+e.jgrid.edit.msg.nodefined,jQuery.jgrid.edit.bClose),info_dialog(jQuery.jgrid.errors.errcap,"e2"==t?"function 'custom_value' "+e.jgrid.edit.msg.novalue:t.message,jQuery.jgrid.edit.bClose)}}if(r!=n.p.savedRow[s].v){e.isFunction(n.p.beforeSaveCell)&&(s=n.p.beforeSaveCell(n.rows[t].id,d,a,t,i))&&(a=s);var p=checkValues(a,i,n);if(!0===p[0]){if(s={},e.isFunction(n.p.beforeSubmitCell)&&((s=n.p.beforeSubmitCell(n.rows[t].id,d,a,t,i))||(s={})),e("input.hasDatepicker",o).length>0&&e("input.hasDatepicker",o).datepicker("hide"),"remote"==n.p.cellsubmit)if(n.p.cellurl){var f={};n.p.autoencode&&(a=e.jgrid.htmlEncode(a)),f[d]=a,l=(u=n.p.prmNames).id,c=u.oper,f[l]=n.rows[t].id,f[c]=u.editoper,f=e.extend(s,f),e("#lui_"+n.p.id).show(),n.grid.hDiv.loading=!0,e.ajax(e.extend({url:n.p.cellurl,data:e.isFunction(n.p.serializeCellData)?n.p.serializeCellData(f):f,type:"POST",complete:function(s,l){e("#lui_"+n.p.id).hide(),n.grid.hDiv.loading=!1,"success"==l&&(e.isFunction(n.p.afterSubmitCell)?!0===(s=n.p.afterSubmitCell(s,f.id,d,a,t,i))[0]?(e(o).empty(),e(n).jqGrid("setCell",n.rows[t].id,i,r,!1,!1,!0),e(o).addClass("dirty-cell"),e(n.rows[t]).addClass("edited"),e.isFunction(n.p.afterSaveCell)&&n.p.afterSaveCell(n.rows[t].id,d,a,t,i),n.p.savedRow.splice(0,1)):(info_dialog(e.jgrid.errors.errcap,s[1],e.jgrid.edit.bClose),e(n).jqGrid("restoreCell",t,i)):(e(o).empty(),e(n).jqGrid("setCell",n.rows[t].id,i,r,!1,!1,!0),e(o).addClass("dirty-cell"),e(n.rows[t]).addClass("edited"),e.isFunction(n.p.afterSaveCell)&&n.p.afterSaveCell(n.rows[t].id,d,a,t,i),n.p.savedRow.splice(0,1)))},error:function(s,a){e("#lui_"+n.p.id).hide(),n.grid.hDiv.loading=!1,e.isFunction(n.p.errorCell)?n.p.errorCell(s,a):info_dialog(e.jgrid.errors.errcap,s.status+" : "+s.statusText+"<br/>"+a,e.jgrid.edit.bClose),e(n).jqGrid("restoreCell",t,i)}},e.jgrid.ajaxOptions,n.p.ajaxCellOptions||{}))}else try{info_dialog(e.jgrid.errors.errcap,e.jgrid.errors.nourl,e.jgrid.edit.bClose),e(n).jqGrid("restoreCell",t,i)}catch(e){}"clientArray"==n.p.cellsubmit&&(e(o).empty(),e(n).jqGrid("setCell",n.rows[t].id,i,r,!1,!1,!0),e(o).addClass("dirty-cell"),e(n.rows[t]).addClass("edited"),e.isFunction(n.p.afterSaveCell)&&n.p.afterSaveCell(n.rows[t].id,d,a,t,i),n.p.savedRow.splice(0,1))}else try{window.setTimeout(function(){info_dialog(e.jgrid.errors.errcap,a+" "+p[1],e.jgrid.edit.bClose)},100),e(n).jqGrid("restoreCell",t,i)}catch(e){}}else e(n).jqGrid("restoreCell",t,i)}e.browser.opera?e("#"+n.p.knv).attr("tabindex","-1").focus():window.setTimeout(function(){e("#"+n.p.knv).attr("tabindex","-1").focus()},0)}})},restoreCell:function(t,i){return this.each(function(){var s,n=this;if(n.grid&&!0===n.p.cellEdit){if(null!==(s=n.p.savedRow.length>=1?0:null)){var a=e("td:eq("+i+")",n.rows[t]);if(e.isFunction(e.fn.datepicker))try{e("input.hasDatepicker",a).datepicker("hide")}catch(e){}e(a).empty().attr("tabindex","-1"),e(n).jqGrid("setCell",n.rows[t].id,i,n.p.savedRow[s].v,!1,!1,!0),n.p.savedRow.splice(0,1)}window.setTimeout(function(){e("#"+n.p.knv).attr("tabindex","-1").focus()},0)}})},nextCell:function(t,i){return this.each(function(){var s=this,n=!1;if(s.grid&&!0===s.p.cellEdit){for(var a=i+1;a<s.p.colModel.length;a++)if(!0===s.p.colModel[a].editable){n=a;break}!1!==n?e(s).jqGrid("editCell",t,n,!0):s.p.savedRow.length>0&&e(s).jqGrid("saveCell",t,i)}})},prevCell:function(t,i){return this.each(function(){var s=this,n=!1;if(s.grid&&!0===s.p.cellEdit){for(var a=i-1;a>=0;a--)if(!0===s.p.colModel[a].editable){n=a;break}!1!==n?e(s).jqGrid("editCell",t,n,!0):s.p.savedRow.length>0&&e(s).jqGrid("saveCell",t,i)}})},GridNav:function(){return this.each(function(){function t(t,i,n){if("v"==n.substr(0,1)){var a=e(s.grid.bDiv)[0].clientHeight,r=e(s.grid.bDiv)[0].scrollTop,o=s.rows[t].offsetTop+s.rows[t].clientHeight,l=s.rows[t].offsetTop;"vd"==n&&o>=a&&(e(s.grid.bDiv)[0].scrollTop=e(s.grid.bDiv)[0].scrollTop+s.rows[t].clientHeight),"vu"==n&&l<r&&(e(s.grid.bDiv)[0].scrollTop=e(s.grid.bDiv)[0].scrollTop-s.rows[t].clientHeight)}"h"==n&&(n=e(s.grid.bDiv)[0].clientWidth,a=e(s.grid.bDiv)[0].scrollLeft,r=s.rows[t].cells[i].offsetLeft,s.rows[t].cells[i].offsetLeft+s.rows[t].cells[i].clientWidth>=n+parseInt(a,10)?e(s.grid.bDiv)[0].scrollLeft=e(s.grid.bDiv)[0].scrollLeft+s.rows[t].cells[i].clientWidth:r<a&&(e(s.grid.bDiv)[0].scrollLeft=e(s.grid.bDiv)[0].scrollLeft-s.rows[t].cells[i].clientWidth))}function i(e,t){var i,n;if("lft"==t)for(i=e+1,n=e;n>=0;n--)if(!0!==s.p.colModel[n].hidden){i=n;break}if("rgt"==t)for(i=e-1,n=e;n<s.p.colModel.length;n++)if(!0!==s.p.colModel[n].hidden){i=n;break}return i}var s=this;if(s.grid&&!0===s.p.cellEdit){s.p.knv=s.p.id+"_kn";var n,a,r=e("<span style='width:0px;height:0px;background-color:black;' tabindex='0'><span tabindex='-1' style='width:0px;height:0px;background-color:grey' id='"+s.p.knv+"'></span></span>");e(r).insertBefore(s.grid.cDiv),e("#"+s.p.knv).focus().keydown(function(r){switch(a=r.keyCode,"rtl"==s.p.direction&&(37==a?a=39:39==a&&(a=37)),a){case 38:s.p.iRow-1>=0&&(t(s.p.iRow-1,s.p.iCol,"vu"),e(s).jqGrid("editCell",s.p.iRow-1,s.p.iCol,!1));break;case 40:s.p.iRow+1<=s.rows.length-1&&(t(s.p.iRow+1,s.p.iCol,"vd"),e(s).jqGrid("editCell",s.p.iRow+1,s.p.iCol,!1));break;case 37:s.p.iCol-1>=0&&(n=i(s.p.iCol-1,"lft"),t(s.p.iRow,n,"h"),e(s).jqGrid("editCell",s.p.iRow,n,!1));break;case 39:s.p.iCol+1<=s.p.colModel.length-1&&(n=i(s.p.iCol+1,"rgt"),t(s.p.iRow,n,"h"),e(s).jqGrid("editCell",s.p.iRow,n,!1));break;case 13:parseInt(s.p.iCol,10)>=0&&parseInt(s.p.iRow,10)>=0&&e(s).jqGrid("editCell",s.p.iRow,s.p.iCol,!0)}return!1})}})},getChangedCells:function(t){var i=[];return t||(t="all"),this.each(function(){var s,n=this;!n.grid||!0!==n.p.cellEdit||e(n.rows).each(function(a){var r={};e(this).hasClass("edited")&&(e("td",this).each(function(i){if("cb"!==(s=n.p.colModel[i].name)&&"subgrid"!==s)if("dirty"==t){if(e(this).hasClass("dirty-cell"))try{r[s]=e.unformat(this,{rowId:n.rows[a].id,colModel:n.p.colModel[i]},i)}catch(t){r[s]=e.jgrid.htmlDecode(e(this).html())}}else try{r[s]=e.unformat(this,{rowId:n.rows[a].id,colModel:n.p.colModel[i]},i)}catch(t){r[s]=e.jgrid.htmlDecode(e(this).html())}}),r.id=this.id,i.push(r))})}),i}})}(jQuery),function(e){e.fn.jqm=function(s){var n={overlay:50,closeoverlay:!0,overlayClass:"jqmOverlay",closeClass:"jqmClose",trigger:".jqModal",ajax:a,ajaxText:"",target:a,modal:a,toTop:a,onShow:a,onHide:a,onLoad:a};return this.each(function(){if(this._jqm)return i[this._jqm].c=e.extend({},i[this._jqm].c,s);t++,this._jqm=t,i[t]={c:e.extend(n,e.jqm.params,s),a:a,w:e(this).addClass("jqmID"+t),s:t},n.trigger&&e(this).jqmAddTrigger(n.trigger)})},e.fn.jqmAddClose=function(e){return c(this,e,"jqmHide")},e.fn.jqmAddTrigger=function(e){return c(this,e,"jqmShow")},e.fn.jqmShow=function(t){return this.each(function(){e.jqm.open(this._jqm,t)})},e.fn.jqmHide=function(t){return this.each(function(){e.jqm.close(this._jqm,t)})},e.jqm={hash:{},open:function(t,o){var d=i[t],c=d.c,h="."+c.closeClass,u=parseInt(d.w.css("z-index"));u=u>0?u:3e3;var p=e("<div></div>").css({height:"100%",width:"100%",position:"fixed",left:0,top:0,"z-index":u-1,opacity:c.overlay/100});if(d.a)return a;if(d.t=o,d.a=!0,d.w.css("z-index",u),c.modal?(s[0]||setTimeout(function(){l("bind")},1),s.push(t)):c.overlay>0?c.closeoverlay&&d.w.jqmAddClose(p):p=a,d.o=p?p.addClass(c.overlayClass).prependTo("body"):a,n&&(e("html,body").css({height:"100%",width:"100%"}),p))for(var f in p=p.css({position:"absolute"})[0],{Top:1,Left:1})p.style.setExpression(f.toLowerCase(),"(_=(document.documentElement.scroll"+f+" || document.body.scroll"+f+"))+'px'");return c.ajax?(t=c.target||d.w,u=c.ajax,t="string"==typeof t?e(t,d.w):e(t),u="@"==u.substr(0,1)?e(o).attr(u.substring(1)):u,t.html(c.ajaxText).load(u,function(){c.onLoad&&c.onLoad.call(this,d),h&&d.w.jqmAddClose(e(h,d.w)),r(d)})):h&&d.w.jqmAddClose(e(h,d.w)),c.toTop&&d.o&&d.w.before('<span id="jqmP'+d.w[0]._jqm+'"></span>').insertAfter(d.o),c.onShow?c.onShow(d):d.w.show(),r(d),a},close:function(t){return(t=i[t]).a?(t.a=a,s[0]&&(s.pop(),s[0]||l("unbind")),t.c.toTop&&t.o&&e("#jqmP"+t.w[0]._jqm).after(t.w).remove(),t.c.onHide?t.c.onHide(t):(t.w.hide(),t.o&&t.o.remove()),a):a},params:{}};var t=0,i=e.jqm.hash,s=[],n=e.browser.msie&&"6.0"==e.browser.version,a=!1,r=function(t){var i=e('<iframe src="javascript:false;document.write(\'\');" class="jqm"></iframe>').css({opacity:0});n&&(t.o?t.o.html('<p style="width:100%;height:100%"/>').prepend(i):e("iframe.jqm",t.w)[0]||t.w.prepend(i)),o(t)},o=function(t){try{e(":input:visible",t.w)[0].focus()}catch(e){}},l=function(t){e(document)[t]("keypress",d)[t]("keydown",d)[t]("mousedown",d)},d=function(t){var n=i[s[s.length-1]];return(t=!e(t.target).parents(".jqmID"+n.s)[0])&&o(n),!t},c=function(t,s,n){return t.each(function(){var t=this._jqm;e(s).each(function(){this[n]||(this[n]=[],e(this).click(function(){for(var e in{jqmShow:1,jqmHide:1})for(var t in this[e])i[this[e][t]]&&i[this[e][t]].w[e](this);return a})),this[n].push(t)})})}}(jQuery),function(e){e.fn.jqDrag=function(e){return a(this,e,"d")},e.fn.jqResize=function(e,t){return a(this,e,"r",t)},e.jqDnR={dnr:{},e:0,drag:function(e){return"d"==s.k?n.css({left:s.X+e.pageX-s.pX,top:s.Y+e.pageY-s.pY}):(n.css({width:Math.max(e.pageX-s.pX+s.W,0),height:Math.max(e.pageY-s.pY+s.H,0)}),M1&&t.css({width:Math.max(e.pageX-M1.pX+M1.W,0),height:Math.max(e.pageY-M1.pY+M1.H,0)})),!1},stop:function(){e(document).unbind("mousemove",i.drag).unbind("mouseup",i.stop)}};var t,i=e.jqDnR,s=i.dnr,n=i.e,a=function(i,a,o,l){return i.each(function(){(a=a?e(a,i):i).bind("mousedown",{e:i,k:o},function(i){var a=i.data,o={};if(n=a.e,t=!!l&&e(l),"relative"!=n.css("position"))try{n.position(o)}catch(e){}return s={X:o.left||r("left")||0,Y:o.top||r("top")||0,W:r("width")||n[0].scrollWidth||0,H:r("height")||n[0].scrollHeight||0,pX:i.pageX,pY:i.pageY,k:a.k},M1=!(!t||"d"==a.k)&&{X:o.left||f1("left")||0,Y:o.top||f1("top")||0,W:t[0].offsetWidth||f1("width")||0,H:t[0].offsetHeight||f1("height")||0,pX:i.pageX,pY:i.pageY,k:a.k},e(document).mousemove(e.jqDnR.drag).mouseup(e.jqDnR.stop),!1})})},r=function(e){return parseInt(n.css(e))||!1};f1=function(e){return parseInt(t.css(e))||!1}}(jQuery),function(e){e.jgrid.extend({setSubGrid:function(){return this.each(function(){var t=this;if(t.p.colNames.unshift(""),t.p.colModel.unshift({name:"subgrid",width:e.browser.safari?t.p.subGridWidth+t.p.cellLayout:t.p.subGridWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,fixed:!0}),(t=t.p.subGridModel)[0]){t[0].align=e.extend([],t[0].align||[]);for(var i=0;i<t[0].name.length;i++)t[0].align[i]=t[0].align[i]||"left"}})},addSubGridCell:function(e,t){var i,s,n="";return this.each(function(){n=this.formatCol(e,t),i=this.p.gridview,s=this.p.id}),!1===i?'<td role="grid" aria-describedby="'+s+'_subgrid" class="ui-sgcollapsed sgcollapsed" '+n+"><a href='javascript:void(0);'><span class='ui-icon ui-icon-plus'></span></a></td>":'<td role="grid" aria-describedby="'+s+'_subgrid" '+n+"></td>"},addSubGrid:function(t,i){return this.each(function(){var s=this;if(s.grid){var n,a,r,o,l,d,c;e("td:eq("+i+")",t).click(function(){if(e(this).hasClass("sgcollapsed")){if(r=s.p.id,n=e(this).parent(),o=i>=1?"<td colspan='"+i+"'>&#160;</td>":"",a=e(n).attr("id"),c=!0,e.isFunction(s.p.subGridBeforeExpand)&&(c=s.p.subGridBeforeExpand(r+"_"+a,a)),!1===c)return!1;l=0,e.each(s.p.colModel,function(){!0!==this.hidden&&"rn"!=this.name&&"cb"!=this.name||l++}),d="<tr role='row' class='ui-subgrid'>"+o+"<td class='ui-widget-content subgrid-cell'><span class='ui-icon ui-icon-carat-1-sw'/></td><td colspan='"+parseInt(s.p.colNames.length-1-l,10)+"' class='ui-widget-content subgrid-data'><div id="+r+"_"+a+" class='tablediv'>",e(this).parent().after(d+"</div></td></tr>"),e.isFunction(s.p.subGridRowExpanded)?s.p.subGridRowExpanded(r+"_"+a,a):h(n),e(this).html("<a href='javascript:void(0);'><span class='ui-icon ui-icon-minus'></span></a>").removeClass("sgcollapsed").addClass("sgexpanded")}else if(e(this).hasClass("sgexpanded")){if(c=!0,e.isFunction(s.p.subGridRowColapsed)&&(n=e(this).parent(),a=e(n).attr("id"),c=s.p.subGridRowColapsed(r+"_"+a,a)),!1===c)return!1;e(this).parent().next().remove(".ui-subgrid"),e(this).html("<a href='javascript:void(0);'><span class='ui-icon ui-icon-plus'></span></a>").removeClass("sgexpanded").addClass("sgcollapsed")}return!1});var h=function(t){var i,n,a,r;if(i=e(t).attr("id"),(n={nd_:(new Date).getTime()})[s.p.prmNames.subgridid]=i,!s.p.subGridModel[0])return!1;if(s.p.subGridModel[0].params)for(r=0;r<s.p.subGridModel[0].params.length;r++)for(a=0;a<s.p.colModel.length;a++)s.p.colModel[a].name==s.p.subGridModel[0].params[r]&&(n[s.p.colModel[a].name]=e("td:eq("+a+")",t).text().replace(/\&#160\;/gi,""));if(!s.grid.hDiv.loading)switch(s.grid.hDiv.loading=!0,e("#load_"+s.p.id).show(),s.p.subgridtype||(s.p.subgridtype=s.p.datatype),e.isFunction(s.p.subgridtype)?s.p.subgridtype(n):s.p.subgridtype=s.p.subgridtype.toLowerCase(),s.p.subgridtype){case"xml":case"json":e.ajax(e.extend({type:s.p.mtype,url:s.p.subGridUrl,dataType:s.p.subgridtype,data:e.isFunction(s.p.serializeSubGridData)?s.p.serializeSubGridData(n):n,complete:function(t){"xml"==s.p.subgridtype?p(t.responseXML,i):f(e.jgrid.parse(t.responseText),i)}},e.jgrid.ajaxOptions,s.p.ajaxSubgridOptions||{}))}return!1},u=function(t,i,n){i=e("<td align='"+s.p.subGridModel[0].align[n]+"'></td>").html(i),e(t).append(i)},p=function(t,i){var n,a,r,o=e("<table cellspacing='0' cellpadding='0' border='0'><tbody></tbody></table>"),l=e("<tr></tr>");for(a=0;a<s.p.subGridModel[0].name.length;a++)n=e("<th class='ui-state-default ui-th-subgrid ui-th-column ui-th-"+s.p.direction+"'></th>"),e(n).html(s.p.subGridModel[0].name[a]),e(n).width(s.p.subGridModel[0].width[a]),e(l).append(n);return e(o).append(l),t&&(r=s.p.xmlReader.subgrid,e(r.root+" "+r.row,t).each(function(){if(l=e("<tr class='ui-widget-content ui-subtblcell'></tr>"),!0===r.repeatitems)e(r.cell,this).each(function(t){u(l,e(this).text()||"&#160;",t)});else{var t=s.p.subGridModel[0].mapping||s.p.subGridModel[0].name;if(t)for(a=0;a<t.length;a++)u(l,e(t[a],this).text()||"&#160;",a)}e(o).append(l)})),t=e("table:first",s.grid.bDiv).attr("id")+"_",e("#"+t+i).append(o),s.grid.hDiv.loading=!1,e("#load_"+s.p.id).hide(),!1},f=function(t,i){var n,a,r,o,l=e("<table cellspacing='0' cellpadding='0' border='0'><tbody></tbody></table>"),d=e("<tr></tr>");for(a=0;a<s.p.subGridModel[0].name.length;a++)n=e("<th class='ui-state-default ui-th-subgrid ui-th-column ui-th-"+s.p.direction+"'></th>"),e(n).html(s.p.subGridModel[0].name[a]),e(n).width(s.p.subGridModel[0].width[a]),e(d).append(n);if(e(l).append(d),t&&void 0!==(t=t[(n=s.p.jsonReader.subgrid).root]))for(a=0;a<t.length;a++){if(r=t[a],d=e("<tr class='ui-widget-content ui-subtblcell'></tr>"),!0===n.repeatitems)for(n.cell&&(r=r[n.cell]),o=0;o<r.length;o++)u(d,r[o]||"&#160;",o);else{var c=s.p.subGridModel[0].mapping||s.p.subGridModel[0].name;if(c.length)for(o=0;o<c.length;o++)u(d,r[c[o]]||"&#160;",o)}e(l).append(d)}return a=e("table:first",s.grid.bDiv).attr("id")+"_",e("#"+a+i).append(l),s.grid.hDiv.loading=!1,e("#load_"+s.p.id).hide(),!1};s.subGridXml=function(e,t){p(e,t)},s.subGridJson=function(e,t){f(e,t)}}})},expandSubGridRow:function(t){return this.each(function(){var i=this;(i.grid||t)&&!0===i.p.subGrid&&(i=e(this).jqGrid("getInd",t,!0))&&(i=e("td.sgcollapsed",i)[0])&&e(i).trigger("click")})},collapseSubGridRow:function(t){return this.each(function(){var i=this;(i.grid||t)&&!0===i.p.subGrid&&(i=e(this).jqGrid("getInd",t,!0))&&(i=e("td.sgexpanded",i)[0])&&e(i).trigger("click")})},toggleSubGridRow:function(t){return this.each(function(){var i=this;if((i.grid||t)&&!0===i.p.subGrid&&(i=e(this).jqGrid("getInd",t,!0))){var s=e("td.sgcollapsed",i)[0];s?e(s).trigger("click"):(s=e("td.sgexpanded",i)[0])&&e(s).trigger("click")}})}})}(jQuery),function(e){e.jgrid.extend({setTreeNode:function(t,i){return this.each(function(){var s=this;if(s.grid&&s.p.treeGrid){var n=s.p.expColInd,a=s.p.treeReader.expanded_field,r=s.p.treeReader.leaf_field,o=s.p.treeReader.level_field;i.level=t[o],"nested"==s.p.treeGridModel?(i.lft=t[s.p.treeReader.left_field],i.rgt=t[s.p.treeReader.right_field],t[r]||(t[r]=parseInt(i.rgt,10)===parseInt(i.lft,10)+1?"true":"false")):i.parent_id=t[s.p.treeReader.parent_id_field];var l,d=parseInt(i.level,10);0===s.p.tree_root_level?(l=d+1,d=d):(l=d,d-=1),l="<div class='tree-wrap tree-wrap-"+s.p.direction+"' style='width:"+18*l+"px;'>",l+="<div style='"+("rtl"==s.p.direction?"right:":"left:")+18*d+"px;' class='ui-icon ","true"==t[r]||!0===t[r]?(l+=s.p.treeIcons.leaf+" tree-leaf'",i.isLeaf=!0):("true"==t[a]||!0===t[a]?(l+=s.p.treeIcons.minus+" tree-minus treeclick'",i.expanded=!0):(l+=s.p.treeIcons.plus+" tree-plus treeclick'",i.expanded=!1),i.isLeaf=!1),l+="</div></div>",parseInt(t[o],10)!==parseInt(s.p.tree_root_level,10)&&(e(s).jqGrid("isVisibleNode",i)||e(i).css("display","none")),e("td:eq("+n+")",i).wrapInner("<span></span>").prepend(l),e(".treeclick",i).bind("click",function(t){return t=e(t.target||t.srcElement,s.rows).parents("tr.jqgrow")[0].rowIndex,s.rows[t].isLeaf||(s.rows[t].expanded?(e(s).jqGrid("collapseRow",s.rows[t]),e(s).jqGrid("collapseNode",s.rows[t])):(e(s).jqGrid("expandRow",s.rows[t]),e(s).jqGrid("expandNode",s.rows[t]))),!1}),!0===s.p.ExpandColClick&&e("span",i).css("cursor","pointer").bind("click",function(t){return t=e(t.target||t.srcElement,s.rows).parents("tr.jqgrow")[0].rowIndex,s.rows[t].isLeaf||(s.rows[t].expanded?(e(s).jqGrid("collapseRow",s.rows[t]),e(s).jqGrid("collapseNode",s.rows[t])):(e(s).jqGrid("expandRow",s.rows[t]),e(s).jqGrid("expandNode",s.rows[t]))),e(s).jqGrid("setSelection",s.rows[t].id),!1})}})},setTreeGrid:function(){return this.each(function(){var t=this,i=0;if(t.p.treeGrid){for(var s in t.p.treedatatype||e.extend(t.p,{treedatatype:t.p.datatype}),t.p.subGrid=!1,t.p.altRows=!1,t.p.pgbuttons=!1,t.p.pginput=!1,t.p.multiselect=!1,t.p.rowList=[],t.p.treeIcons=e.extend({plus:"ui-icon-triangle-1-"+("rtl"==t.p.direction?"w":"e"),minus:"ui-icon-triangle-1-s",leaf:"ui-icon-radio-off"},t.p.treeIcons||{}),"nested"==t.p.treeGridModel?t.p.treeReader=e.extend({level_field:"level",left_field:"lft",right_field:"rgt",leaf_field:"isLeaf",expanded_field:"expanded"},t.p.treeReader):"adjacency"==t.p.treeGridModel&&(t.p.treeReader=e.extend({level_field:"level",parent_id_field:"parent",leaf_field:"isLeaf",expanded_field:"expanded"},t.p.treeReader)),t.p.colModel)if(t.p.colModel.hasOwnProperty(s)){if(t.p.colModel[s].name==t.p.ExpandColumn){t.p.expColInd=i;break}i++}t.p.expColInd||(t.p.expColInd=0),e.each(t.p.treeReader,function(e,i){i&&(t.p.colNames.push(i),t.p.colModel.push({name:i,width:1,hidden:!0,sortable:!1,resizable:!1,hidedlg:!0,editable:!0,search:!1}))})}})},expandRow:function(t){this.each(function(){var i=this;if(i.grid&&i.p.treeGrid){var s=e(i).jqGrid("getNodeChildren",t);e(s).each(function(){e(this).css("display",""),this.expanded&&e(i).jqGrid("expandRow",this)})}})},collapseRow:function(t){this.each(function(){var i=this;if(i.grid&&i.p.treeGrid){var s=e(i).jqGrid("getNodeChildren",t);e(s).each(function(){e(this).css("display","none"),this.expanded&&e(i).jqGrid("collapseRow",this)})}})},getRootNodes:function(){var t=[];return this.each(function(){var i=this;if(i.grid&&i.p.treeGrid)switch(i.p.treeGridModel){case"nested":var s=i.p.treeReader.level_field;e(i.rows).each(function(){parseInt(this[s],10)===parseInt(i.p.tree_root_level,10)&&t.push(this)});break;case"adjacency":e(i.rows).each(function(){null!==this.parent_id&&"null"!=String(this.parent_id).toLowerCase()||t.push(this)})}}),t},getNodeDepth:function(t){var i=null;return this.each(function(){if(this.grid&&this.p.treeGrid)switch(this.p.treeGridModel){case"nested":i=parseInt(t.level,10)-parseInt(this.p.tree_root_level,10);break;case"adjacency":i=e(this).jqGrid("getNodeAncestors",t).length}}),i},getNodeParent:function(t){var i=null;return this.each(function(){var s=this;if(s.grid&&s.p.treeGrid)switch(s.p.treeGridModel){case"nested":var n=parseInt(t.lft,10),a=parseInt(t.rgt,10),r=parseInt(t.level,10);e(this.rows).each(function(){if(parseInt(this.level,10)===r-1&&parseInt(this.lft,10)<n&&parseInt(this.rgt,10)>a)return i=this,!1});break;case"adjacency":e(this.rows).each(function(){if(this.id==t.parent_id)return i=this,!1})}}),i},getNodeChildren:function(t){var i=[];return this.each(function(){var s=this;if(s.grid&&s.p.treeGrid)switch(s.p.treeGridModel){case"nested":var n=parseInt(t.lft,10),a=parseInt(t.rgt,10),r=parseInt(t.level,10);e(this.rows).each(function(){parseInt(this.level,10)===r+1&&parseInt(this.lft,10)>n&&parseInt(this.rgt,10)<a&&i.push(this)});break;case"adjacency":e(this.rows).each(function(){this.parent_id==t.id&&i.push(this)})}}),i},getFullTreeNode:function(t){var i=[];return this.each(function(){var s,n=this;if(n.grid&&n.p.treeGrid)switch(n.p.treeGridModel){case"nested":var a=parseInt(t.lft,10),r=parseInt(t.rgt,10),o=parseInt(t.level,10);e(this.rows).each(function(){parseInt(this.level,10)>=o&&parseInt(this.lft,10)>=a&&parseInt(this.lft,10)<=r&&i.push(this)});break;case"adjacency":i.push(t),e(this.rows).each(function(e){for(s=i.length,e=0;e<s;e++)if(i[e].id==this.parent_id){i.push(this);break}})}}),i},getNodeAncestors:function(t){var i=[];return this.each(function(){if(this.grid&&this.p.treeGrid)for(var s=e(this).jqGrid("getNodeParent",t);s;)i.push(s),s=e(this).jqGrid("getNodeParent",s)}),i},isVisibleNode:function(t){var i=!0;return this.each(function(){var s=this;s.grid&&s.p.treeGrid&&(s=e(s).jqGrid("getNodeAncestors",t),e(s).each(function(){if(!(i=i&&this.expanded))return!1}))}),i},isNodeLoaded:function(t){var i;return this.each(function(){var s=this;s.grid&&s.p.treeGrid&&(i=void 0!==t.loaded?t.loaded:!!(t.isLeaf||e(s).jqGrid("getNodeChildren",t).length>0))}),i},expandNode:function(t){return this.each(function(){this.grid&&this.p.treeGrid&&(t.expanded||(e(this).jqGrid("isNodeLoaded",t)?(t.expanded=!0,e("div.treeclick",t).removeClass(this.p.treeIcons.plus+" tree-plus").addClass(this.p.treeIcons.minus+" tree-minus")):(t.expanded=!0,e("div.treeclick",t).removeClass(this.p.treeIcons.plus+" tree-plus").addClass(this.p.treeIcons.minus+" tree-minus"),this.p.treeANode=t.rowIndex,this.p.datatype=this.p.treedatatype,"nested"==this.p.treeGridModel?e(this).jqGrid("setGridParam",{postData:{nodeid:t.id,n_left:t.lft,n_right:t.rgt,n_level:t.level}}):e(this).jqGrid("setGridParam",{postData:{nodeid:t.id,parentid:t.parent_id,n_level:t.level}}),e(this).trigger("reloadGrid"),"nested"==this.p.treeGridModel?e(this).jqGrid("setGridParam",{postData:{nodeid:"",n_left:"",n_right:"",n_level:""}}):e(this).jqGrid("setGridParam",{postData:{nodeid:"",parentid:"",n_level:""}}))))})},collapseNode:function(t){return this.each(function(){this.grid&&this.p.treeGrid&&t.expanded&&(t.expanded=!1,e("div.treeclick",t).removeClass(this.p.treeIcons.minus+" tree-minus").addClass(this.p.treeIcons.plus+" tree-plus"))})},SortTree:function(t){return this.each(function(){if(this.grid&&this.p.treeGrid){var i,s,n,a=[],r=this,o=e(this).jqGrid("getRootNodes");for(o.sort(function(e,i){return e.sortKey<i.sortKey?-t:e.sortKey>i.sortKey?t:0}),o[0]&&(e("td",o[0]).each(function(t){e(this).css("width",r.grid.headers[t].width+"px")}),r.grid.cols=o[0].cells),i=0,s=o.length;i<s;i++)n=o[i],a.push(n),e(this).jqGrid("collectChildrenSortTree",a,n,t);e.each(a,function(t,i){e("tbody",r.grid.bDiv).append(i),i.sortKey=null})}})},collectChildrenSortTree:function(t,i,s){return this.each(function(){if(this.grid&&this.p.treeGrid){var n,a,r,o=e(this).jqGrid("getNodeChildren",i);for(o.sort(function(e,t){return e.sortKey<t.sortKey?-s:e.sortKey>t.sortKey?s:0}),n=0,a=o.length;n<a;n++)r=o[n],t.push(r),e(this).jqGrid("collectChildrenSortTree",t,r,s)}})},setTreeRow:function(t,i){var s=!1;return this.each(function(){var n=this;n.grid&&n.p.treeGrid&&(s=e(n).jqGrid("setRowData",t,i))}),s},delTreeNode:function(t){return this.each(function(){var i=this;if(i.grid&&i.p.treeGrid){var s=e(i).jqGrid("getInd",t,!0);if(s){var n=e(i).jqGrid("getNodeChildren",s);if(n.length>0)for(var a=0;a<n.length;a++)e(i).jqGrid("delRowData",n[a].id);e(i).jqGrid("delRowData",s.id)}}})}})}(jQuery),function(e){e.jgrid.extend({jqGridImport:function(t){return t=e.extend({imptype:"xml",impstring:"",impurl:"",mtype:"GET",impData:{},xmlGrid:{config:"roots>grid",data:"roots>rows"},jsonGrid:{config:"grid",data:"data"},ajaxOptions:{}},t||{}),this.each(function(){var i=this,s=function(t,s){var n,a=e(s.xmlGrid.config,t)[0];if(s=e(s.xmlGrid.data,t)[0],xmlJsonClass.xml2json&&e.jgrid.parse){for(var r in a=xmlJsonClass.xml2json(a," "),a=e.jgrid.parse(a))a.hasOwnProperty(r)&&(n=a[r]);s?(r=a.grid.datatype,a.grid.datatype="xmlstring",a.grid.datastr=t,e(i).jqGrid(n).jqGrid("setGridParam",{datatype:r})):e(i).jqGrid(n)}else alert("xml2json or parse are not present")},n=function(t,s){if(t&&"string"==typeof t){var n=e.jgrid.parse(t);t=n[s.jsonGrid.config],(s=n[s.jsonGrid.data])?(n=t.datatype,t.datatype="jsonstring",t.datastr=s,e(i).jqGrid(t).jqGrid("setGridParam",{datatype:n})):e(i).jqGrid(t)}};switch(t.imptype){case"xml":e.ajax(e.extend({url:t.impurl,type:t.mtype,data:t.impData,dataType:"xml",complete:function(i,n){"success"==n&&(s(i.responseXML,t),e.isFunction(t.importComplete)&&t.importComplete(i))}},t.ajaxOptions));break;case"xmlstring":if(t.impstring&&"string"==typeof t.impstring){var a=e.jgrid.stringToDoc(t.impstring);a&&(s(a,t),e.isFunction(t.importComplete)&&t.importComplete(a),t.impstring=null),a=null}break;case"json":e.ajax(e.extend({url:t.impurl,type:t.mtype,data:t.impData,dataType:"json",complete:function(i,s){"success"==s&&(n(i.responseText,t),e.isFunction(t.importComplete)&&t.importComplete(i))}},t.ajaxOptions));break;case"jsonstring":t.impstring&&"string"==typeof t.impstring&&(n(t.impstring,t),e.isFunction(t.importComplete)&&t.importComplete(t.impstring),t.impstring=null)}})},jqGridExport:function(t){t=e.extend({exptype:"xmlstring",root:"grid",ident:"\t"},t||{});var i=null;return this.each(function(){if(this.grid){var s=e.extend({},e(this).jqGrid("getGridParam"));if(s.rownumbers&&(s.colNames.splice(0,1),s.colModel.splice(0,1)),s.multiselect&&(s.colNames.splice(0,1),s.colModel.splice(0,1)),s.subGrid&&(s.colNames.splice(0,1),s.colModel.splice(0,1)),s.knv=null,s.treeGrid)for(var n in s.treeReader)s.treeReader.hasOwnProperty(n)&&(s.colNames.splice(s.colNames.length-1),s.colModel.splice(s.colModel.length-1));switch(t.exptype){case"xmlstring":i="<"+t.root+">"+xmlJsonClass.json2xml(s,t.ident)+"</"+t.root+">";break;case"jsonstring":i="{"+xmlJsonClass.toJson(s,t.root,t.ident)+"}",void 0!==s.postData.filters&&(i=(i=i.replace(/filters":"/,'filters":')).replace(/}]}"/,"}]}"))}}}),i},excelExport:function(t){return t=e.extend({exptype:"remote",url:null,oper:"oper",tag:"excel",exportOptions:{}},t||{}),this.each(function(){if($t=this,this.grid&&"remote"==t.exptype){var i=e.extend({},this.p.postData);i[t.oper]=t.tag,i=jQuery.param(i),window.location=t.url+"?"+i}})}})}(jQuery);var xmlJsonClass={xml2json:function(e,t){return 9===e.nodeType&&(e=e.documentElement),e=this.toJson(this.toObj(this.removeWhite(e)),e.nodeName,"\t"),"{\n"+t+(t?e.replace(/\t/g,t):e.replace(/\t|\n/g,""))+"\n}"},json2xml:function(e,t){var i,s=function(e,t,i){var n,a,r="";if(e instanceof Array)if(0===e.length)r+=i+"<"+t+">__EMPTY_ARRAY_</"+t+">\n";else for(n=0,a=e.length;n<a;n+=1){r+=i+s(e[n],t,i+"\t")+"\n"}else if("object"==typeof e){for(a in n=!1,r+=i+"<"+t,e)e.hasOwnProperty(a)&&("@"===a.charAt(0)?r+=" "+a.substr(1)+'="'+e[a].toString()+'"':n=!0);if(r+=n?">":"/>",n){for(a in e)e.hasOwnProperty(a)&&("#text"===a?r+=e[a]:"#cdata"===a?r+="<![CDATA["+e[a]+"]]>":"@"!==a.charAt(0)&&(r+=s(e[a],a,i+"\t")));r+=("\n"===r.charAt(r.length-1)?i:"")+"</"+t+">"}}else r+="function"==typeof e?i+"<"+t+"><![CDATA["+e+"]]></"+t+">":'""'===e.toString()||0===e.toString().length?i+"<"+t+">__EMPTY_STRING_</"+t+">":i+"<"+t+">"+e.toString()+"</"+t+">";return r},n="";for(i in e)e.hasOwnProperty(i)&&(n+=s(e[i],i,""));return t?n.replace(/\t/g,t):n.replace(/\t|\n/g,"")},toObj:function(e){var t={},i=/function/i;if(1===e.nodeType){var s;if(e.attributes.length)for(s=0;s<e.attributes.length;s+=1)t["@"+e.attributes[s].nodeName]=(e.attributes[s].nodeValue||"").toString();if(e.firstChild){var n,a=s=0,r=!1;for(n=e.firstChild;n;n=n.nextSibling)1===n.nodeType?r=!0:3===n.nodeType&&n.nodeValue.match(/[^ \f\n\r\t\v]/)?s+=1:4===n.nodeType&&(a+=1);if(r)if(s<2&&a<2)for(this.removeWhite(e),n=e.firstChild;n;n=n.nextSibling)3===n.nodeType?t["#text"]=this.escape(n.nodeValue):4===n.nodeType?i.test(n.nodeValue)?t[n.nodeName]=[t[n.nodeName],n.nodeValue]:t["#cdata"]=this.escape(n.nodeValue):t[n.nodeName]?t[n.nodeName]instanceof Array?t[n.nodeName][t[n.nodeName].length]=this.toObj(n):t[n.nodeName]=[t[n.nodeName],this.toObj(n)]:t[n.nodeName]=this.toObj(n);else e.attributes.length?t["#text"]=this.escape(this.innerXml(e)):t=this.escape(this.innerXml(e));else if(s)e.attributes.length?t["#text"]=this.escape(this.innerXml(e)):"__EMPTY_ARRAY_"===(t=this.escape(this.innerXml(e)))?t="[]":"__EMPTY_STRING_"===t&&(t="");else if(a)if(a>1)t=this.escape(this.innerXml(e));else for(n=e.firstChild;n;n=n.nextSibling){if(i.test(e.firstChild.nodeValue)){t=e.firstChild.nodeValue;break}t["#cdata"]=this.escape(n.nodeValue)}}e.attributes.length||e.firstChild||(t=null)}else 9===e.nodeType?t=this.toObj(e.documentElement):alert("unhandled node type: "+e.nodeType);return t},toJson:function(e,t,i){var s=t?'"'+t+'"':"";if("[]"===e)s+=t?":[]":"[]";else if(e instanceof Array){var n,a,r=[];for(a=0,n=e.length;a<n;a+=1)r[a]=this.toJson(e[a],"",i+"\t");s+=(t?":[":"[")+(r.length>1?"\n"+i+"\t"+r.join(",\n"+i+"\t")+"\n"+i:r.join(""))+"]"}else if(null===e)s+=(t&&":")+"null";else if("object"==typeof e){for(a in n=[],e)e.hasOwnProperty(a)&&(n[n.length]=this.toJson(e[a],a,i+"\t"));s+=(t?":{":"{")+(n.length>1?"\n"+i+"\t"+n.join(",\n"+i+"\t")+"\n"+i:n.join(""))+"}"}else"string"==typeof e?(i=/function/i,n=e.toString(),s+=/(^-?\d+\.?\d*$)/.test(n)||i.test(n)||"false"===n||"true"===n?(t&&":")+n:(t&&":")+'"'+e+'"'):s+=(t&&":")+e.toString();return s},innerXml:function(e){var t="";if("innerHTML"in e)t=e.innerHTML;else{var i=function(e){var t,s="";if(1===e.nodeType){for(s+="<"+e.nodeName,t=0;t<e.attributes.length;t+=1)s+=" "+e.attributes[t].nodeName+'="'+(e.attributes[t].nodeValue||"").toString()+'"';if(e.firstChild){for(s+=">",t=e.firstChild;t;t=t.nextSibling)s+=i(t);s+="</"+e.nodeName+">"}else s+="/>"}else 3===e.nodeType?s+=e.nodeValue:4===e.nodeType&&(s+="<![CDATA["+e.nodeValue+"]]>");return s};for(e=e.firstChild;e;e=e.nextSibling)t+=i(e)}return t},escape:function(e){return e.replace(/[\\]/g,"\\\\").replace(/[\"]/g,'\\"').replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r")},removeWhite:function(e){var t;for(e.normalize(),t=e.firstChild;t;)if(3===t.nodeType)if(t.nodeValue.match(/[^ \f\n\r\t\v]/))t=t.nextSibling;else{var i=t.nextSibling;e.removeChild(t),t=i}else 1===t.nodeType&&this.removeWhite(t),t=t.nextSibling;return e}};function tableToGrid(e,t){jQuery(e).each(function(){if(!this.grid){jQuery(this).width("99%");var e=jQuery(this).width(),i=jQuery("input[type=checkbox]:first",jQuery(this)),s=jQuery("input[type=radio]:first",jQuery(this)),n=i.length>0,a=!n&&s.length>0,r=n||a;i=i.attr("name")||s.attr("name");var o=[],l=[];jQuery("th",jQuery(this)).each(function(){0===o.length&&r?(o.push({name:"__selection__",index:"__selection__",width:0,hidden:!0}),l.push("__selection__")):(o.push({name:jQuery(this).attr("id")||jQuery.trim(jQuery.jgrid.stripHtml(jQuery(this).html())).split(" ").join("_"),index:jQuery(this).attr("id")||jQuery.trim(jQuery.jgrid.stripHtml(jQuery(this).html())).split(" ").join("_"),width:jQuery(this).width()||150}),l.push(jQuery(this).html()))});var d=[],c=[],h=[];for(jQuery("tbody > tr",jQuery(this)).each(function(){var e={},t=0;jQuery("td",jQuery(this)).each(function(){if(0===t&&r){var i=jQuery("input",jQuery(this)),s=i.attr("value");c.push(s||d.length),i.attr("checked")&&h.push(s),e[o[t].name]=i.attr("value")}else e[o[t].name]=jQuery(this).html();t++}),t>0&&d.push(e)}),jQuery(this).empty(),jQuery(this).addClass("scroll"),jQuery(this).jqGrid($.extend({datatype:"local",width:e,colNames:l,colModel:o,multiselect:n},t||{})),e=0;e<d.length;e++)n=null,c.length>0&&(n=c[e])&&n.replace&&(n=encodeURIComponent(n).replace(/[.\-%]/g,"_")),null===n&&(n=e+1),jQuery(this).jqGrid("addRowData",n,d[e]);for(e=0;e<h.length;e++)jQuery(this).jqGrid("setSelection",h[e])}})}!function(e){e.jgrid.extend({setColumns:function(t){return t=e.extend({top:0,left:0,width:200,height:"auto",dataheight:"auto",modal:!1,drag:!0,beforeShowForm:null,afterShowForm:null,afterSubmitForm:null,closeOnEscape:!0,ShrinkToFit:!1,jqModal:!1,saveicon:[!0,"left","ui-icon-disk"],closeicon:[!0,"left","ui-icon-close"],onClose:null,colnameview:!0,closeAfterSubmit:!0,updateAfterCheck:!1,recreateForm:!1},e.jgrid.col,t||{}),this.each(function(){var s=this;if(s.grid){var n="function"==typeof t.beforeShowForm,a="function"==typeof t.afterShowForm,r="function"==typeof t.afterSubmitForm,o=s.p.id,l="ColTbl_"+o,d={themodal:"colmod"+o,modalhead:"colhd"+o,modalcontent:"colcnt"+o,scrollelm:l};if(!0===t.recreateForm&&null!=e("#"+d.themodal).html()&&e("#"+d.themodal).remove(),null!=e("#"+d.themodal).html())n&&t.beforeShowForm(e("#"+l)),viewModal("#"+d.themodal,{gbox:"#gbox_"+o,jqm:t.jqModal,jqM:!1,modal:t.modal});else{var c=isNaN(t.dataheight)?t.dataheight:t.dataheight+"px";for(c="<div id='"+l+"' class='formdata' style='width:100%;overflow:auto;position:relative;height:"+c+";'>",c+="<table class='ColTable' cellspacing='1' cellpading='2' border='0'><tbody>",i=0;i<this.p.colNames.length;i++)s.p.colModel[i].hidedlg||(c+="<tr><td style='white-space: pre;'><input type='checkbox' style='margin-right:5px;' id='col_"+this.p.colModel[i].name+"' class='cbox' value='T' "+(!1===this.p.colModel[i].hidden?"checked":"")+"/><label for='col_"+this.p.colModel[i].name+"'>"+this.p.colNames[i]+(t.colnameview?" ("+this.p.colModel[i].name+")":"")+"</label></td></tr>");c+="</tbody></table></div>",c+="<table border='0' class='EditTable' id='"+l+"_2'><tbody><tr style='display:block;height:3px;'><td></td></tr><tr><td class='DataTD ui-widget-content'></td></tr><tr><td class='ColButton EditButton'>"+(t.updateAfterCheck?"":"<a href='javascript:void(0)' id='dData' class='fm-button ui-state-default ui-corner-all'>"+t.bSubmit+"</a>")+"&#160;<a href='javascript:void(0)' id='eData' class='fm-button ui-state-default ui-corner-all'>"+t.bCancel+"</a></td></tr></tbody></table>",t.gbox="#gbox_"+o,createModal(d,c,t,"#gview_"+s.p.id,e("#gview_"+s.p.id)[0]),1==t.saveicon[0]&&e("#dData","#"+l+"_2").addClass("right"==t.saveicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+t.saveicon[2]+"'></span>"),1==t.closeicon[0]&&e("#eData","#"+l+"_2").addClass("right"==t.closeicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+t.closeicon[2]+"'></span>"),t.updateAfterCheck?e(":input","#"+l).click(function(){var i=this.id.substr(4);return i&&(this.checked?e(s).jqGrid("showCol",i):e(s).jqGrid("hideCol",i),!0===t.ShrinkToFit&&e(s).jqGrid("setGridWidth",s.grid.width-.001,!0)),this}):e("#dData","#"+l+"_2").click(function(){for(i=0;i<s.p.colModel.length;i++)if(!s.p.colModel[i].hidedlg){var n=s.p.colModel[i].name.replace(".","\\.");e("#col_"+n,"#"+l).attr("checked")?(e(s).jqGrid("showCol",s.p.colModel[i].name),e("#col_"+n,"#"+l).attr("defaultChecked",!0)):(e(s).jqGrid("hideCol",s.p.colModel[i].name),e("#col_"+n,"#"+l).attr("defaultChecked",""))}return!0===t.ShrinkToFit&&e(s).jqGrid("setGridWidth",s.grid.width-.001,!0),t.closeAfterSubmit&&hideModal("#"+d.themodal,{gb:"#gbox_"+o,jqm:t.jqModal,onClose:t.onClose}),r&&t.afterSubmitForm(e("#"+l)),!1}),e("#eData","#"+l+"_2").click(function(){return hideModal("#"+d.themodal,{gb:"#gbox_"+o,jqm:t.jqModal,onClose:t.onClose}),!1}),e("#dData, #eData","#"+l+"_2").hover(function(){e(this).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover")}),n&&t.beforeShowForm(e("#"+l)),viewModal("#"+d.themodal,{gbox:"#gbox_"+o,jqm:t.jqModal,jqM:!0,modal:t.modal})}a&&t.afterShowForm(e("#"+l))}})}})}(jQuery),function(e){e.jgrid.extend({getPostData:function(){var e=this[0];if(e.grid)return e.p.postData},setPostData:function(e){var t=this[0];t.grid&&("object"==typeof e?t.p.postData=e:alert("Error: cannot add a non-object postData value. postData unchanged."))},appendPostData:function(t){var i=this[0];i.grid&&("object"==typeof t?e.extend(i.p.postData,t):alert("Error: cannot append a non-object postData value. postData unchanged."))},setPostDataItem:function(e,t){var i=this[0];i.grid&&(i.p.postData[e]=t)},getPostDataItem:function(e){var t=this[0];if(t.grid)return t.p.postData[e]},removePostDataItem:function(e){var t=this[0];t.grid&&delete t.p.postData[e]},getUserData:function(){var e=this[0];if(e.grid)return e.p.userData},getUserDataItem:function(e){var t=this[0];if(t.grid)return t.p.userData[e]}})}(jQuery),function(a){if(a.browser.msie&&8==a.browser.version&&(a.expr[":"].hidden=function(e){return 0===e.offsetWidth||0===e.offsetHeight||"none"==e.style.display}),a.jgrid._multiselect=!1,a.ui&&a.ui.multiselect){if(a.ui.multiselect.prototype._setSelected){var q=a.ui.multiselect.prototype._setSelected;a.ui.multiselect.prototype._setSelected=function(e,t){if(e=q.call(this,e,t),t&&this.selectedList){var i=this.element;this.selectedList.find("li").each(function(){a(this).data("optionLink")&&a(this).data("optionLink").remove().appendTo(i)})}return e}}a.ui.multiselect.prototype.destroy&&(a.ui.multiselect.prototype.destroy=function(){this.element.show(),this.container.remove(),void 0===a.Widget?a.widget.prototype.destroy.apply(this,arguments):a.Widget.prototype.destroy.apply(this,arguments)}),a.jgrid._multiselect=!0}a.jgrid.extend({sortableColumns:function(e){return this.each(function(){function t(){i.p.disableClick=!0}var i=this,s={tolerance:"pointer",axis:"x",scrollSensitivity:"1",items:">th:not(:has(#jqgh_cb,#jqgh_rn,#jqgh_subgrid),:hidden)",placeholder:{element:function(e){return a(document.createElement(e[0].nodeName)).addClass(e[0].className+" ui-sortable-placeholder ui-state-highlight").removeClass("ui-sortable-helper")[0]},update:function(e,t){t.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),t.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10))}},update:function(e,t){e=a(t.item).parent(),e=a(">th",e);var s={};a.each(i.p.colModel,function(e){s[this.name]=e});var n=[];e.each(function(){var e=a(">div",this).get(0).id.replace(/^jqgh_/,"");e in s&&n.push(s[e])}),a(i).jqGrid("remapColumns",n,!0,!0),a.isFunction(i.p.sortable.update)&&i.p.sortable.update(n),setTimeout(function(){i.p.disableClick=!1},50)}};if(i.p.sortable.options?a.extend(s,i.p.sortable.options):a.isFunction(i.p.sortable)&&(i.p.sortable={update:i.p.sortable}),s.start){var n=s.start;s.start=function(e,i){t(),n.call(this,e,i)}}else s.start=t;i.p.sortable.exclude&&(s.items+=":not("+i.p.sortable.exclude+")"),e.sortable(s).data("sortable").floating=!0})},columnChooser:function(e){function t(e,t){e&&("string"==typeof e?a.fn[e]&&a.fn[e].apply(t,a.makeArray(arguments).slice(2)):a.isFunction(e)&&e.apply(t,a.makeArray(arguments).slice(2)))}var i=this;if(!a("#colchooser_"+i[0].p.id).length){var s=a('<div id="colchooser_'+i[0].p.id+'" style="position:relative;overflow:hidden"><div><select multiple="multiple"></select></div></div>'),n=a("select",s);if(e=a.extend({width:420,height:240,classname:null,done:function(e){e&&i.jqGrid("remapColumns",e,!0)},msel:"multiselect",dlog:"dialog",dlog_opts:function(e){var t={};return t[e.bSubmit]=function(){e.apply_perm(),e.cleanup(!1)},t[e.bCancel]=function(){e.cleanup(!0)},{buttons:t,close:function(){e.cleanup(!0)},modal:!1,resizable:!1,width:e.width+20}},apply_perm:function(){a("option",n).each(function(){this.selected?i.jqGrid("showCol",r[this.value].name):i.jqGrid("hideCol",r[this.value].name)});var t=[];a("option[selected]",n).each(function(){t.push(parseInt(this.value,10))}),a.each(t,function(){delete l[r[parseInt(this,10)].name]}),a.each(l,function(){var e=parseInt(this,10);t=function(e,t,i){if(t>=0){var s=e.slice(),n=s.splice(t,Math.max(e.length-t,t));return t>e.length&&(t=e.length),s[t]=i,s.concat(n)}}(t,e,e)}),e.done&&e.done.call(i,t)},cleanup:function(a){t(e.dlog,s,"destroy"),t(e.msel,n,"destroy"),s.remove(),a&&e.done&&e.done.call(i)},msel_opts:{}},a.jgrid.col,e||{}),a.ui&&a.ui.multiselect&&"multiselect"==e.msel){if(!a.jgrid._multiselect)return void alert("Multiselect plugin loaded after jqGrid. Please load the plugin before the jqGrid!");e.msel_opts=a.extend(a.ui.multiselect.defaults,e.msel_opts)}e.caption&&s.attr("title",e.caption),e.classname&&(s.addClass(e.classname),n.addClass(e.classname)),e.width&&(a(">div",s).css({width:e.width,margin:"0 auto"}),n.css("width",e.width)),e.height&&(a(">div",s).css("height",e.height),n.css("height",e.height-10));var r=i.jqGrid("getGridParam","colModel"),o=i.jqGrid("getGridParam","colNames"),l={},d=[];n.empty(),a.each(r,function(e){l[this.name]=e,this.hidedlg?this.hidden||d.push(e):n.append("<option value='"+e+"' "+(this.hidden?"":"selected='selected'")+">"+o[e]+"</option>")});var c=a.isFunction(e.dlog_opts)?e.dlog_opts.call(i,e):e.dlog_opts;t(e.dlog,s,c),c=a.isFunction(e.msel_opts)?e.msel_opts.call(i,e):e.msel_opts,t(e.msel,n,c)}},sortableRows:function(e){return this.each(function(){var t=this;t.grid&&(t.p.treeGrid||a.fn.sortable&&((e=a.extend({cursor:"move",axis:"y",items:".jqgrow"},e||{})).start&&a.isFunction(e.start)?(e._start_=e.start,delete e.start):e._start_=!1,e.update&&a.isFunction(e.update)?(e._update_=e.update,delete e.update):e._update_=!1,e.start=function(i,s){if(a(s.item).css("border-width","0px"),a("td",s.item).each(function(e){this.style.width=t.grid.cols[e].style.width}),t.p.subGrid){var n=a(s.item).attr("id");try{a(t).jqGrid("collapseSubGridRow",n)}catch(e){}}e._start_&&e._start_.apply(this,[i,s])},e.update=function(i,s){a(s.item).css("border-width",""),t.updateColumns(),!0===t.p.rownumbers&&a("td.jqgrid-rownum",t.rows).each(function(e){a(this).html(e+1)}),e._update_&&e._update_.apply(this,[i,s])},a("tbody:first",t).sortable(e),a("tbody:first",t).disableSelection()))})},gridDnD:function(e){return this.each(function(){function t(){var e=a.data(i,"dnd");a("tr.jqgrow:not(.ui-draggable)",i).draggable(a.isFunction(e.drag)?e.drag.call(a(i),e):e.drag)}var i=this;if(i.grid&&!i.p.treeGrid&&a.fn.draggable&&a.fn.droppable)if(null===a("#jqgrid_dnd").html()&&a("body").append("<table id='jqgrid_dnd' class='ui-jqgrid-dnd'></table>"),"string"==typeof e&&"updateDnD"==e&&!0===i.p.jqgdnd)t();else if((e=a.extend({drag:function(e){return a.extend({start:function(t,s){if(i.p.subGrid){var n=a(s.helper).attr("id");try{a(i).jqGrid("collapseSubGridRow",n)}catch(e){}}for(n=0;n<a.data(i,"dnd").connectWith.length;n++)"0"==a(a.data(i,"dnd").connectWith[n]).jqGrid("getGridParam","reccount")&&a(a.data(i,"dnd").connectWith[n]).jqGrid("addRowData","jqg_empty_row",{});s.helper.addClass("ui-state-highlight"),a("td",s.helper).each(function(e){this.style.width=i.grid.headers[e].width+"px"}),e.onstart&&a.isFunction(e.onstart)&&e.onstart.call(a(i),t,s)},stop:function(t,s){if(s.helper.dropped){var n=a(s.helper).attr("id");a(i).jqGrid("delRowData",n)}for(n=0;n<a.data(i,"dnd").connectWith.length;n++)a(a.data(i,"dnd").connectWith[n]).jqGrid("delRowData","jqg_empty_row");e.onstop&&a.isFunction(e.onstop)&&e.onstop.call(a(i),t,s)}},e.drag_opts||{})},drop:function(e){return a.extend({accept:function(e){var t=a(e).closest("table.ui-jqgrid-btable");return void 0!==a.data(t[0],"dnd")?(e=a.data(t[0],"dnd").connectWith,-1!=a.inArray("#"+this.id,e)):e},drop:function(t,s){var n,r=a(s.draggable).attr("id");if(r=a("#"+i.id).jqGrid("getRowData",r),!e.dropbyname){var o,l=0,d={},c=a("#"+this.id).jqGrid("getGridParam","colModel");try{for(var h in r)r.hasOwnProperty(h)&&c[l]&&(d[o=c[l].name]=r[h]),l++;r=d}catch(e){}}(s.helper.dropped=!0,e.beforedrop&&a.isFunction(e.beforedrop)&&null!=(o=e.beforedrop.call(this,t,s,r,a("#"+i.id),a(this)))&&"object"==typeof o&&(r=o),s.helper.dropped)&&(e.autoid&&(a.isFunction(e.autoid)?n=e.autoid.call(this,r):(n=Math.ceil(1e3*Math.random()),n=e.autoidprefix+n)),a("#"+this.id).jqGrid("addRowData",n,r,e.droppos));e.ondrop&&a.isFunction(e.ondrop)&&e.ondrop.call(this,t,s,r)}},e.drop_opts||{})},onstart:null,onstop:null,beforedrop:null,ondrop:null,drop_opts:{activeClass:"ui-state-active",hoverClass:"ui-state-hover"},drag_opts:{revert:"invalid",helper:"clone",cursor:"move",appendTo:"#jqgrid_dnd",zIndex:5e3},dropbyname:!1,droppos:"first",autoid:!0,autoidprefix:"dnd_"},e||{})).connectWith){e.connectWith=e.connectWith.split(","),e.connectWith=a.map(e.connectWith,function(e){return a.trim(e)}),a.data(i,"dnd",e),"0"!=i.p.reccount&&!i.p.jqgdnd&&t(),i.p.jqgdnd=!0;for(var s=0;s<e.connectWith.length;s++)a(e.connectWith[s]).droppable(a.isFunction(e.drop)?e.drop.call(a(i),e):e.drop)}})},gridResize:function(b){return this.each(function(){var i=this;i.grid&&a.fn.resizable&&(b=a.extend({},b||{}),b.alsoResize?(b._alsoResize_=b.alsoResize,delete b.alsoResize):b._alsoResize_=!1,b.stop&&a.isFunction(b.stop)?(b._stop_=b.stop,delete b.stop):b._stop_=!1,b.stop=function(e,t){a(i).jqGrid("setGridParam",{height:a("#gview_"+i.p.id+" .ui-jqgrid-bdiv").height()}),a(i).jqGrid("setGridWidth",t.size.width,b.shrinkToFit),b._stop_&&b._stop_.call(i,e,t)},b.alsoResize=b._alsoResize_?eval("({'#gview_"+i.p.id+" .ui-jqgrid-bdiv':true,'"+b._alsoResize_+"':true})"):a(".ui-jqgrid-bdiv","#gview_"+i.p.id),delete b._alsoResize_,a("#gbox_"+i.p.id).resizable(b))})}})}(jQuery),function(e){e.color={},e.color.make=function(t,i,s,n){var a={};return a.r=t||0,a.g=i||0,a.b=s||0,a.a=null!=n?n:1,a.add=function(e,t){for(var i=0;i<e.length;++i)a[e.charAt(i)]+=t;return a.normalize()},a.scale=function(e,t){for(var i=0;i<e.length;++i)a[e.charAt(i)]*=t;return a.normalize()},a.toString=function(){return a.a>=1?"rgb("+[a.r,a.g,a.b].join(",")+")":"rgba("+[a.r,a.g,a.b,a.a].join(",")+")"},a.normalize=function(){function e(e,t,i){return t<e?e:t>i?i:t}return a.r=e(0,parseInt(a.r),255),a.g=e(0,parseInt(a.g),255),a.b=e(0,parseInt(a.b),255),a.a=e(0,a.a,1),a},a.clone=function(){return e.color.make(a.r,a.b,a.g,a.a)},a.normalize()},e.color.extract=function(t,i){var s;do{if(""!=(s=t.css(i).toLowerCase())&&"transparent"!=s)break;t=t.parent()}while(!e.nodeName(t.get(0),"body"));return"rgba(0, 0, 0, 0)"==s&&(s="transparent"),e.color.parse(s)},e.color.parse=function(i){var s,n=e.color.make;if(s=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(i))return n(parseInt(s[1],10),parseInt(s[2],10),parseInt(s[3],10));if(s=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(i))return n(parseInt(s[1],10),parseInt(s[2],10),parseInt(s[3],10),parseFloat(s[4]));if(s=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(i))return n(2.55*parseFloat(s[1]),2.55*parseFloat(s[2]),2.55*parseFloat(s[3]));if(s=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(i))return n(2.55*parseFloat(s[1]),2.55*parseFloat(s[2]),2.55*parseFloat(s[3]),parseFloat(s[4]));if(s=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(i))return n(parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16));if(s=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(i))return n(parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16));var a=e.trim(i).toLowerCase();return"transparent"==a?n(255,255,255,0):n((s=t[a]||[0,0,0])[0],s[1],s[2])};var t={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery),function(e){function t(t,n,a,r){var o=[],l={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85},xaxis:{show:null,position:"bottom",mode:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null,monthNames:null,timeformat:null,twelveHourClock:!1},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1},shadowSize:3},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},hooks:{}},d=null,c=null,h=null,u=null,p=null,f=[],g=[],m={left:0,right:0,top:0,bottom:0},v=0,b=0,y=0,w=0,x={processOptions:[],processRawData:[],processDatapoints:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},_=this;function C(e,t){t=[_].concat(t);for(var i=0;i<e.length;++i)e[i].apply(this,t)}function k(t){o=function(t){for(var i=[],s=0;s<t.length;++s){var n=e.extend(!0,{},l.series);null!=t[s].data?(n.data=t[s].data,delete t[s].data,e.extend(!0,n,t[s]),t[s].data=n.data):n.data=t[s],i.push(n)}return i}(t),function(){var t,i=o.length,s=[],n=[];for(t=0;t<o.length;++t){var a=o[t].color;null!=a&&(--i,"number"==typeof a?n.push(a):s.push(e.color.parse(o[t].color)))}for(t=0;t<n.length;++t)i=Math.max(i,n[t]+1);var r=[],d=0;t=0;for(;r.length<i;){var c;c=l.colors.length==t?e.color.make(100,100,100):e.color.parse(l.colors[t]);var h=d%2==1?-1:1;c.scale("rgb",1+h*Math.ceil(d/2)*.2),r.push(c),++t>=l.colors.length&&(t=0,++d)}var u,p=0;for(t=0;t<o.length;++t){if(null==(u=o[t]).color?(u.color=r[p].toString(),++p):"number"==typeof u.color&&(u.color=r[u.color].toString()),null==u.lines.show){var m,v=!0;for(m in u)if(u[m]&&u[m].show){v=!1;break}v&&(u.lines.show=!0)}u.xaxis=T(f,j(u,"x")),u.yaxis=T(g,j(u,"y"))}}(),function(){var t,i,s,n,a,r,l,d,c,h,u=Number.POSITIVE_INFINITY,p=Number.NEGATIVE_INFINITY,f=Number.MAX_VALUE;function g(e,t,i){t<e.datamin&&t!=-f&&(e.datamin=t),i>e.datamax&&i!=f&&(e.datamax=i)}for(e.each(D(),function(e,t){t.datamin=u,t.datamax=p,t.used=!1}),t=0;t<o.length;++t)(a=o[t]).datapoints={points:[]},C(x.processRawData,[a,a.data,a.datapoints]);for(t=0;t<o.length;++t){var m=(a=o[t]).data,v=a.datapoints.format;if(v||((v=[]).push({x:!0,number:!0,required:!0}),v.push({y:!0,number:!0,required:!0}),(a.bars.show||a.lines.show&&a.lines.fill)&&(v.push({y:!0,number:!0,required:!1,defaultValue:0}),a.bars.horizontal&&(delete v[v.length-1].y,v[v.length-1].x=!0)),a.datapoints.format=v),null==a.datapoints.pointsize)for(a.datapoints.pointsize=v.length,l=a.datapoints.pointsize,r=a.datapoints.points,insertSteps=a.lines.show&&a.lines.steps,a.xaxis.used=a.yaxis.used=!0,i=s=0;i<m.length;++i,s+=l){var b=null==(h=m[i]);if(!b)for(n=0;n<l;++n)d=h[n],(c=v[n])&&(c.number&&null!=d&&(d=+d,isNaN(d)?d=null:d==1/0?d=f:d==-1/0&&(d=-f)),null==d&&(c.required&&(b=!0),null!=c.defaultValue&&(d=c.defaultValue))),r[s+n]=d;if(b)for(n=0;n<l;++n)null!=(d=r[s+n])&&((c=v[n]).x&&g(a.xaxis,d,d),c.y&&g(a.yaxis,d,d)),r[s+n]=null;else if(insertSteps&&s>0&&null!=r[s-l]&&r[s-l]!=r[s]&&r[s-l+1]!=r[s+1]){for(n=0;n<l;++n)r[s+l+n]=r[s+n];r[s+1]=r[s-l+1],s+=l}}}for(t=0;t<o.length;++t)a=o[t],C(x.processDatapoints,[a,a.datapoints]);for(t=0;t<o.length;++t){a=o[t],r=a.datapoints.points,l=a.datapoints.pointsize;var y=u,w=u,_=p,k=p;for(i=0;i<r.length;i+=l)if(null!=r[i])for(n=0;n<l;++n)d=r[i+n],(c=v[n])&&d!=f&&d!=-f&&(c.x&&(d<y&&(y=d),d>_&&(_=d)),c.y&&(d<w&&(w=d),d>k&&(k=d)));if(a.bars.show){var j="left"==a.bars.align?0:-a.bars.barWidth/2;a.bars.horizontal?(w+=j,k+=j+a.bars.barWidth):(y+=j,_+=j+a.bars.barWidth)}g(a.xaxis,y,_),g(a.yaxis,w,k)}e.each(D(),function(e,t){t.datamin==u&&(t.datamin=null),t.datamax==p&&(t.datamax=null)})}()}function j(e,t){var i=e[t+"axis"];return"object"==typeof i&&(i=i.n),"number"!=typeof i&&(i=1),i}function D(){return e.grep(f.concat(g),function(e){return e})}function M(e){var t,i,s={};for(t=0;t<f.length;++t)(i=f[t])&&i.used&&(s["x"+i.n]=i.c2p(e.left));for(t=0;t<g.length;++t)(i=g[t])&&i.used&&(s["y"+i.n]=i.c2p(e.top));return void 0!==s.x1&&(s.x=s.x1),void 0!==s.y1&&(s.y=s.y1),s}function T(t,i){return t[i-1]||(t[i-1]={n:i,direction:t==f?"x":"y",options:e.extend(!0,{},t==f?l.xaxis:l.yaxis)}),t[i-1]}function S(i,s){var n=document.createElement("canvas");return n.className=s,n.width=v,n.height=b,i||e(n).css({position:"absolute",left:0,top:0}),e(n).appendTo(t),n.getContext||(n=window.G_vmlCanvasManager.initElement(n)),n.getContext("2d").save(),n}function I(){if(v=t.width(),b=t.height(),v<=0||b<=0)throw"Invalid dimensions for plot, width = "+v+", height = "+b}function F(e){e.width!=v&&(e.width=v),e.height!=b&&(e.height=b);var t=e.getContext("2d");t.restore(),t.save()}function q(t){var i=t.labelWidth,s=t.labelHeight,n=t.options.position,a=t.options.tickLength,r=l.grid.axisMargin,o=l.grid.labelMargin,d="x"==t.direction?f:g,c=e.grep(d,function(e){return e&&e.options.position==n&&e.reserveSpace});e.inArray(t,c)==c.length-1&&(r=0),null==a&&(a="full");var h=e.grep(d,function(e){return e&&e.reserveSpace}),u=0==e.inArray(t,h);u||"full"!=a||(a=5),isNaN(+a)||(o+=+a),"x"==t.direction?(s+=o,"bottom"==n?(m.bottom+=s+r,t.box={top:b-m.bottom,height:s}):(t.box={top:m.top+r,height:s},m.top+=s+r)):(i+=o,"left"==n?(t.box={left:m.left+r,width:i},m.left+=i+r):(m.right+=i+r,t.box={left:v-m.right,width:i})),t.position=n,t.tickLength=a,t.box.padding=o,t.innermost=u}function N(){var i,n=D();if(e.each(n,function(e,t){t.show=t.options.show,null==t.show&&(t.show=t.used),t.reserveSpace=t.show||t.options.reserveSpace,function(e){var t=e.options,i=+(null!=t.min?t.min:e.datamin),s=+(null!=t.max?t.max:e.datamax),n=s-i;if(0==n){var a=0==s?1:.01;null==t.min&&(i-=a),null!=t.max&&null==t.min||(s+=a)}else{var r=t.autoscaleMargin;null!=r&&(null==t.min&&(i-=n*r)<0&&null!=e.datamin&&e.datamin>=0&&(i=0),null==t.max&&(s+=n*r)>0&&null!=e.datamax&&e.datamax<=0&&(s=0))}e.min=i,e.max=s}(t)}),allocatedAxes=e.grep(n,function(e){return e.reserveSpace}),m.left=m.right=m.top=m.bottom=0,l.grid.show){for(e.each(allocatedAxes,function(i,n){var a,r;!function(t){var i,n=t.options;i="number"==typeof n.ticks&&n.ticks>0?n.ticks:.3*Math.sqrt("x"==t.direction?v:b);var a,r,o,l,d,c,h=(t.max-t.min)/i;if("time"==n.mode){var u={second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,year:525949.2*60*1e3},p=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"],[3,"month"],[6,"month"],[1,"year"]],m=0;null!=n.minTickSize&&(m="number"==typeof n.tickSize?n.tickSize:n.minTickSize[0]*u[n.minTickSize[1]]);for(var y=0;y<p.length-1&&!(h<(p[y][0]*u[p[y][1]]+p[y+1][0]*u[p[y+1][1]])/2&&p[y][0]*u[p[y][1]]>=m);++y);a=p[y][0],"year"==(o=p[y][1])&&(d=Math.pow(10,Math.floor(Math.log(h/u.year)/Math.LN10)),a=(c=h/u.year/d)<1.5?1:c<3?2:c<7.5?5:10,a*=d),t.tickSize=n.tickSize||[a,o],r=function(e){var t=[],i=e.tickSize[0],n=e.tickSize[1],a=new Date(e.min),r=i*u[n];"second"==n&&a.setUTCSeconds(s(a.getUTCSeconds(),i)),"minute"==n&&a.setUTCMinutes(s(a.getUTCMinutes(),i)),"hour"==n&&a.setUTCHours(s(a.getUTCHours(),i)),"month"==n&&a.setUTCMonth(s(a.getUTCMonth(),i)),"year"==n&&a.setUTCFullYear(s(a.getUTCFullYear(),i)),a.setUTCMilliseconds(0),r>=u.minute&&a.setUTCSeconds(0),r>=u.hour&&a.setUTCMinutes(0),r>=u.day&&a.setUTCHours(0),r>=4*u.day&&a.setUTCDate(1),r>=u.year&&a.setUTCMonth(0);var o,l=0,d=Number.NaN;do{if(o=d,d=a.getTime(),t.push(d),"month"==n)if(i<1){a.setUTCDate(1);var c=a.getTime();a.setUTCMonth(a.getUTCMonth()+1);var h=a.getTime();a.setTime(d+l*u.hour+(h-c)*i),l=a.getUTCHours(),a.setUTCHours(0)}else a.setUTCMonth(a.getUTCMonth()+i);else"year"==n?a.setUTCFullYear(a.getUTCFullYear()+i):a.setTime(d+r)}while(d<e.max&&d!=o);return t},l=function(t,i){var s=new Date(t);if(null!=n.timeformat)return e.plot.formatDate(s,n.timeformat,n.monthNames);var a=i.tickSize[0]*u[i.tickSize[1]],r=i.max-i.min,o=n.twelveHourClock?" %p":"";return fmt=a<u.minute?"%h:%M:%S"+o:a<u.day?r<2*u.day?"%h:%M"+o:"%b %d %h:%M"+o:a<u.month?"%b %d":a<u.year?r<u.year?"%b":"%b %y":"%y",e.plot.formatDate(s,fmt,n.monthNames)}}else{var w=n.tickDecimals,x=-Math.floor(Math.log(h)/Math.LN10);null!=w&&x>w&&(x=w),d=Math.pow(10,-x),(c=h/d)<1.5?a=1:c<3?(a=2,c>2.25&&(null==w||x+1<=w)&&(a=2.5,++x)):a=c<7.5?5:10,a*=d,null!=n.minTickSize&&a<n.minTickSize&&(a=n.minTickSize),t.tickDecimals=Math.max(0,null!=w?w:x),t.tickSize=n.tickSize||a,r=function(e){var t,i=[],n=s(e.min,e.tickSize),a=0,r=Number.NaN;do{t=r,r=n+a*e.tickSize,i.push(r),++a}while(r<e.max&&r!=t);return i},l=function(e,t){return e.toFixed(t.tickDecimals)}}if(null!=n.alignTicksWithAxis){var _=("x"==t.direction?f:g)[n.alignTicksWithAxis-1];if(_&&_.used&&_!=t){var C=r(t);if(C.length>0&&(null==n.min&&(t.min=Math.min(t.min,C[0])),null==n.max&&C.length>1&&(t.max=Math.max(t.max,C[C.length-1]))),r=function(e){var t,i,s=[];for(i=0;i<_.ticks.length;++i)t=(_.ticks[i].v-_.min)/(_.max-_.min),t=e.min+t*(e.max-e.min),s.push(t);return s},"time"!=t.mode&&null==n.tickDecimals){var k=Math.max(0,1-Math.floor(Math.log(h)/Math.LN10)),j=r(t);j.length>1&&/\..*0$/.test((j[1]-j[0]).toFixed(k))||(t.tickDecimals=k)}}}t.tickGenerator=r,e.isFunction(n.tickFormatter)?t.tickFormatter=function(e,t){return""+n.tickFormatter(e,t)}:t.tickFormatter=l}(n),function(t){var i,s,n=t.options.ticks,a=[];null==n||"number"==typeof n&&n>0?a=t.tickGenerator(t):n&&(a=e.isFunction(n)?n({min:t.min,max:t.max}):n);for(t.ticks=[],i=0;i<a.length;++i){var r=null,o=a[i];"object"==typeof o?(s=+o[0],o.length>1&&(r=o[1])):s=+o,null==r&&(r=t.tickFormatter(s,t)),isNaN(s)||t.ticks.push({v:s,label:r})}}(n),a=n,r=n.ticks,a.options.autoscaleMargin&&r.length>0&&(null==a.options.min&&(a.min=Math.min(a.min,r[0].v)),null==a.options.max&&r.length>1&&(a.max=Math.max(a.max,r[r.length-1].v))),function(i){var s,n,a,r=i.options,o=i.ticks||[],l=[],d=r.labelWidth,c=r.labelHeight;function h(s,n){return e('<div style="position:absolute;top:-10000px;'+n+'font-size:smaller"><div class="'+i.direction+"Axis "+i.direction+i.n+'Axis">'+s.join("")+"</div></div>").appendTo(t)}if("x"==i.direction){if(null==d&&(d=Math.floor(v/(o.length>0?o.length:1))),null==c){for(l=[],s=0;s<o.length;++s)(n=o[s].label)&&l.push('<div class="tickLabel" style="float:left;width:'+d+'px">'+n+"</div>");l.length>0&&(l.push('<div style="clear:left"></div>'),c=(a=h(l,"width:10000px;")).height(),a.remove())}}else if(null==d||null==c){for(s=0;s<o.length;++s)(n=o[s].label)&&l.push('<div class="tickLabel">'+n+"</div>");l.length>0&&(a=h(l,""),null==d&&(d=a.children().width()),null==c&&(c=a.find("div.tickLabel").height()),a.remove())}null==d&&(d=0),null==c&&(c=0),i.labelWidth=d,i.labelHeight=c}(n)}),i=allocatedAxes.length-1;i>=0;--i)q(allocatedAxes[i]);var a=l.grid.minBorderMargin;if(null==a)for(a=0,i=0;i<o.length;++i)a=Math.max(a,o[i].points.radius+o[i].points.lineWidth/2);for(var r in m)m[r]+=l.grid.borderWidth,m[r]=Math.max(a,m[r])}y=v-m.left-m.right,w=b-m.bottom-m.top,e.each(n,function(e,t){!function(e){function t(e){return e}var i,s,n=e.options.transform||t,a=e.options.inverseTransform;"x"==e.direction?(i=e.scale=y/Math.abs(n(e.max)-n(e.min)),s=Math.min(n(e.max),n(e.min))):(i=-(i=e.scale=w/Math.abs(n(e.max)-n(e.min))),s=Math.max(n(e.max),n(e.min))),e.p2c=n==t?function(e){return(e-s)*i}:function(e){return(n(e)-s)*i},e.c2p=a?function(e){return a(s+e/i)}:function(e){return s+e/i}}(t)}),l.grid.show&&(e.each(allocatedAxes,function(e,t){var i;"x"==(i=t).direction?(i.box.left=m.left,i.box.width=y):(i.box.top=m.top,i.box.height=w)}),function(){t.find(".tickLabels").remove();for(var e=['<div class="tickLabels" style="font-size:smaller">'],i=D(),s=0;s<i.length;++s){var n=i[s],a=n.box;if(n.show){e.push('<div class="'+n.direction+"Axis "+n.direction+n.n+'Axis" style="color:'+n.options.color+'">');for(var r=0;r<n.ticks.length;++r){var o=n.ticks[r];if(!(!o.label||o.v<n.min||o.v>n.max)){var l,d={};"x"==n.direction?(l="center",d.left=Math.round(m.left+n.p2c(o.v)-n.labelWidth/2),"bottom"==n.position?d.top=a.top+a.padding:d.bottom=b-(a.top+a.height-a.padding)):(d.top=Math.round(m.top+n.p2c(o.v)-n.labelHeight/2),"left"==n.position?(d.right=v-(a.left+a.width-a.padding),l="right"):(d.left=a.left+a.padding,l="left")),d.width=n.labelWidth;var c=["position:absolute","text-align:"+l];for(var h in d)c.push(h+":"+d[h]+"px");e.push('<div class="tickLabel" style="'+c.join(";")+'">'+o.label+"</div>")}}e.push("</div>")}}e.push("</div>"),t.append(e.join(""))}()),function(){if(t.find(".legend").remove(),!l.legend.show)return;for(var i,s,n=[],a=!1,r=l.legend.labelFormatter,d=0;d<o.length;++d)i=o[d],(s=i.label)&&(d%l.legend.noColumns==0&&(a&&n.push("</tr>"),n.push("<tr>"),a=!0),r&&(s=r(s,i)),n.push('<td class="legendColorBox"><div style="border:1px solid '+l.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+i.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+s+"</td>"));a&&n.push("</tr>");if(0==n.length)return;var c='<table style="font-size:smaller;color:'+l.grid.color+'">'+n.join("")+"</table>";if(null!=l.legend.container)e(l.legend.container).html(c);else{var h="",u=l.legend.position,p=l.legend.margin;null==p[0]&&(p=[p,p]),"n"==u.charAt(0)?h+="top:"+(p[1]+m.top)+"px;":"s"==u.charAt(0)&&(h+="bottom:"+(p[1]+m.bottom)+"px;"),"e"==u.charAt(1)?h+="right:"+(p[0]+m.right)+"px;":"w"==u.charAt(1)&&(h+="left:"+(p[0]+m.left)+"px;");var f=e('<div class="legend">'+c.replace('style="','style="position:absolute;'+h+";")+"</div>").appendTo(t);if(0!=l.legend.backgroundOpacity){var g=l.legend.backgroundColor;null==g&&((g=(g=l.grid.backgroundColor)&&"string"==typeof g?e.color.parse(g):e.color.extract(f,"background-color")).a=1,g=g.toString());var v=f.children();e('<div style="position:absolute;width:'+v.width()+"px;height:"+v.height()+"px;"+h+"background-color:"+g+';"> </div>').prependTo(f).css("opacity",l.legend.backgroundOpacity)}}}()}function A(){u.clearRect(0,0,v,b);var e=l.grid;e.show&&e.backgroundColor&&(u.save(),u.translate(m.left,m.top),u.fillStyle=Z(l.grid.backgroundColor,w,0,"rgba(255, 255, 255, 0)"),u.fillRect(0,0,y,w),u.restore()),e.show&&!e.aboveData&&E();for(var t=0;t<o.length;++t)C(x.drawSeries,[u,o[t]]),z(o[t]);C(x.draw,[u]),e.show&&e.aboveData&&E()}function P(e,t){var s,n,a,r,o=D();for(i=0;i<o.length;++i)if((s=o[i]).direction==t&&(e[r=t+s.n+"axis"]||1!=s.n||(r=t+"axis"),e[r])){n=e[r].from,a=e[r].to;break}if(e[r]||(s="x"==t?f[0]:g[0],n=e[t+"1"],a=e[t+"2"]),null!=n&&null!=a&&n>a){var l=n;n=a,a=l}return{from:n,to:a,axis:s}}function E(){var t;u.save(),u.translate(m.left,m.top);var i=l.grid.markings;if(i){if(e.isFunction(i))(r=_.getAxes()).xmin=r.xaxis.min,r.xmax=r.xaxis.max,r.ymin=r.yaxis.min,r.ymax=r.yaxis.max,i=i(r);for(t=0;t<i.length;++t){var s=i[t],n=P(s,"x"),a=P(s,"y");null==n.from&&(n.from=n.axis.min),null==n.to&&(n.to=n.axis.max),null==a.from&&(a.from=a.axis.min),null==a.to&&(a.to=a.axis.max),n.to<n.axis.min||n.from>n.axis.max||a.to<a.axis.min||a.from>a.axis.max||(n.from=Math.max(n.from,n.axis.min),n.to=Math.min(n.to,n.axis.max),a.from=Math.max(a.from,a.axis.min),a.to=Math.min(a.to,a.axis.max),n.from==n.to&&a.from==a.to||(n.from=n.axis.p2c(n.from),n.to=n.axis.p2c(n.to),a.from=a.axis.p2c(a.from),a.to=a.axis.p2c(a.to),n.from==n.to||a.from==a.to?(u.beginPath(),u.strokeStyle=s.color||l.grid.markingsColor,u.lineWidth=s.lineWidth||l.grid.markingsLineWidth,u.moveTo(n.from,a.from),u.lineTo(n.to,a.to),u.stroke()):(u.fillStyle=s.color||l.grid.markingsColor,u.fillRect(n.from,a.to,n.to-n.from,a.from-a.to))))}}for(var r=D(),o=l.grid.borderWidth,d=0;d<r.length;++d){var c,h,p,f,g=r[d],v=g.box,b=g.tickLength;if(g.show&&0!=g.ticks.length){for(u.strokeStyle=g.options.tickColor||e.color.parse(g.options.color).scale("a",.22).toString(),u.lineWidth=1,"x"==g.direction?(c=0,h="full"==b?"top"==g.position?0:w:v.top-m.top+("top"==g.position?v.height:0)):(h=0,c="full"==b?"left"==g.position?0:y:v.left-m.left+("left"==g.position?v.width:0)),g.innermost||(u.beginPath(),p=f=0,"x"==g.direction?p=y:f=w,1==u.lineWidth&&(c=Math.floor(c)+.5,h=Math.floor(h)+.5),u.moveTo(c,h),u.lineTo(c+p,h+f),u.stroke()),u.beginPath(),t=0;t<g.ticks.length;++t){var x=g.ticks[t].v;p=f=0,x<g.min||x>g.max||"full"==b&&o>0&&(x==g.min||x==g.max)||("x"==g.direction?(c=g.p2c(x),f="full"==b?-w:b,"top"==g.position&&(f=-f)):(h=g.p2c(x),p="full"==b?-y:b,"left"==g.position&&(p=-p)),1==u.lineWidth&&("x"==g.direction?c=Math.floor(c)+.5:h=Math.floor(h)+.5),u.moveTo(c,h),u.lineTo(c+p,h+f))}u.stroke()}}o&&(u.lineWidth=o,u.strokeStyle=l.grid.borderColor,u.strokeRect(-o/2,-o/2,y+o,w+o)),u.restore()}function z(e){e.lines.show&&function(e){function t(e,t,i,s,n){var a=e.points,r=e.pointsize,o=null,l=null;u.beginPath();for(var d=r;d<a.length;d+=r){var c=a[d-r],h=a[d-r+1],p=a[d],f=a[d+1];if(null!=c&&null!=p){if(h<=f&&h<n.min){if(f<n.min)continue;c=(n.min-h)/(f-h)*(p-c)+c,h=n.min}else if(f<=h&&f<n.min){if(h<n.min)continue;p=(n.min-h)/(f-h)*(p-c)+c,f=n.min}if(h>=f&&h>n.max){if(f>n.max)continue;c=(n.max-h)/(f-h)*(p-c)+c,h=n.max}else if(f>=h&&f>n.max){if(h>n.max)continue;p=(n.max-h)/(f-h)*(p-c)+c,f=n.max}if(c<=p&&c<s.min){if(p<s.min)continue;h=(s.min-c)/(p-c)*(f-h)+h,c=s.min}else if(p<=c&&p<s.min){if(c<s.min)continue;f=(s.min-c)/(p-c)*(f-h)+h,p=s.min}if(c>=p&&c>s.max){if(p>s.max)continue;h=(s.max-c)/(p-c)*(f-h)+h,c=s.max}else if(p>=c&&p>s.max){if(c>s.max)continue;f=(s.max-c)/(p-c)*(f-h)+h,p=s.max}c==o&&h==l||u.moveTo(s.p2c(c)+t,n.p2c(h)+i),o=p,l=f,u.lineTo(s.p2c(p)+t,n.p2c(f)+i)}}u.stroke()}u.save(),u.translate(m.left,m.top),u.lineJoin="round";var i=e.lines.lineWidth,s=e.shadowSize;if(i>0&&s>0){u.lineWidth=s,u.strokeStyle="rgba(0,0,0,0.1)";var n=Math.PI/18;t(e.datapoints,Math.sin(n)*(i/2+s/2),Math.cos(n)*(i/2+s/2),e.xaxis,e.yaxis),u.lineWidth=s/2,t(e.datapoints,Math.sin(n)*(i/2+s/4),Math.cos(n)*(i/2+s/4),e.xaxis,e.yaxis)}u.lineWidth=i,u.strokeStyle=e.color;var a=R(e.lines,e.color,0,w);a&&(u.fillStyle=a,function(e,t,i){var s=e.points,n=e.pointsize,a=Math.min(Math.max(0,i.min),i.max),r=0,o=!1,l=1,d=0,c=0;for(;!(n>0&&r>s.length+n);){var h=s[(r+=n)-n],p=s[r-n+l],f=s[r],g=s[r+l];if(o){if(n>0&&null!=h&&null==f){c=r,n=-n,l=2;continue}if(n<0&&r==d+n){u.fill(),o=!1,l=1,r=d=c+(n=-n);continue}}if(null!=h&&null!=f){if(h<=f&&h<t.min){if(f<t.min)continue;p=(t.min-h)/(f-h)*(g-p)+p,h=t.min}else if(f<=h&&f<t.min){if(h<t.min)continue;g=(t.min-h)/(f-h)*(g-p)+p,f=t.min}if(h>=f&&h>t.max){if(f>t.max)continue;p=(t.max-h)/(f-h)*(g-p)+p,h=t.max}else if(f>=h&&f>t.max){if(h>t.max)continue;g=(t.max-h)/(f-h)*(g-p)+p,f=t.max}if(o||(u.beginPath(),u.moveTo(t.p2c(h),i.p2c(a)),o=!0),p>=i.max&&g>=i.max)u.lineTo(t.p2c(h),i.p2c(i.max)),u.lineTo(t.p2c(f),i.p2c(i.max));else if(p<=i.min&&g<=i.min)u.lineTo(t.p2c(h),i.p2c(i.min)),u.lineTo(t.p2c(f),i.p2c(i.min));else{var m=h,v=f;p<=g&&p<i.min&&g>=i.min?(h=(i.min-p)/(g-p)*(f-h)+h,p=i.min):g<=p&&g<i.min&&p>=i.min&&(f=(i.min-p)/(g-p)*(f-h)+h,g=i.min),p>=g&&p>i.max&&g<=i.max?(h=(i.max-p)/(g-p)*(f-h)+h,p=i.max):g>=p&&g>i.max&&p<=i.max&&(f=(i.max-p)/(g-p)*(f-h)+h,g=i.max),h!=m&&u.lineTo(t.p2c(m),i.p2c(p)),u.lineTo(t.p2c(h),i.p2c(p)),u.lineTo(t.p2c(f),i.p2c(g)),f!=v&&(u.lineTo(t.p2c(f),i.p2c(g)),u.lineTo(t.p2c(v),i.p2c(g)))}}}}(e.datapoints,e.xaxis,e.yaxis));i>0&&t(e.datapoints,0,0,e.xaxis,e.yaxis);u.restore()}(e),e.bars.show&&function(e){u.save(),u.translate(m.left,m.top),u.lineWidth=e.bars.lineWidth,u.strokeStyle=e.color;var t="left"==e.bars.align?0:-e.bars.barWidth/2,i=e.bars.fill?function(t,i){return R(e.bars,e.color,t,i)}:null;(function(t,i,s,n,a,r,o){for(var l=t.points,d=t.pointsize,c=0;c<l.length;c+=d)null!=l[c]&&O(l[c],l[c+1],l[c+2],i,s,n,a,r,o,u,e.bars.horizontal,e.bars.lineWidth)})(e.datapoints,t,t+e.bars.barWidth,0,i,e.xaxis,e.yaxis),u.restore()}(e),e.points.show&&function(e){function t(e,t,i,s,n,a,r,o){for(var l=e.points,d=e.pointsize,c=0;c<l.length;c+=d){var h=l[c],p=l[c+1];null==h||h<a.min||h>a.max||p<r.min||p>r.max||(u.beginPath(),h=a.p2c(h),p=r.p2c(p)+s,"circle"==o?u.arc(h,p,t,0,n?Math.PI:2*Math.PI,!1):o(u,h,p,t,n),u.closePath(),i&&(u.fillStyle=i,u.fill()),u.stroke())}}u.save(),u.translate(m.left,m.top);var i=e.points.lineWidth,s=e.shadowSize,n=e.points.radius,a=e.points.symbol;if(i>0&&s>0){var r=s/2;u.lineWidth=r,u.strokeStyle="rgba(0,0,0,0.1)",t(e.datapoints,n,null,r+r/2,!0,e.xaxis,e.yaxis,a),u.strokeStyle="rgba(0,0,0,0.2)",t(e.datapoints,n,null,r/2,!0,e.xaxis,e.yaxis,a)}u.lineWidth=i,u.strokeStyle=e.color,t(e.datapoints,n,R(e.points,e.color),0,!1,e.xaxis,e.yaxis,a),u.restore()}(e)}function O(e,t,i,s,n,a,r,o,l,d,c,h){var u,p,f,g,m,v,b,y,w;c?(y=v=b=!0,m=!1,g=t+s,f=t+n,(p=e)<(u=i)&&(w=p,p=u,u=w,m=!0,v=!1)):(m=v=b=!0,y=!1,u=e+s,p=e+n,(g=t)<(f=i)&&(w=g,g=f,f=w,y=!0,b=!1)),p<o.min||u>o.max||g<l.min||f>l.max||(u<o.min&&(u=o.min,m=!1),p>o.max&&(p=o.max,v=!1),f<l.min&&(f=l.min,y=!1),g>l.max&&(g=l.max,b=!1),u=o.p2c(u),f=l.p2c(f),p=o.p2c(p),g=l.p2c(g),r&&(d.beginPath(),d.moveTo(u,f),d.lineTo(u,g),d.lineTo(p,g),d.lineTo(p,f),d.fillStyle=r(f,g),d.fill()),h>0&&(m||v||b||y)&&(d.beginPath(),d.moveTo(u,f+a),m?d.lineTo(u,g+a):d.moveTo(u,g+a),b?d.lineTo(p,g+a):d.moveTo(p,g+a),v?d.lineTo(p,f+a):d.moveTo(p,f+a),y?d.lineTo(u,f+a):d.moveTo(u,f+a),d.stroke()))}function R(t,i,s,n){var a=t.fill;if(!a)return null;if(t.fillColor)return Z(t.fillColor,s,n,i);var r=e.color.parse(i);return r.a="number"==typeof a?a:.4,r.normalize(),r.toString()}_.setData=k,_.setupGrid=N,_.draw=A,_.getPlaceholder=function(){return t},_.getCanvas=function(){return d},_.getPlotOffset=function(){return m},_.width=function(){return y},_.height=function(){return w},_.offset=function(){var e=h.offset();return e.left+=m.left,e.top+=m.top,e},_.getData=function(){return o},_.getAxes=function(){var t={};return e.each(f.concat(g),function(e,i){i&&(t[i.direction+(1!=i.n?i.n:"")+"axis"]=i)}),t},_.getXAxes=function(){return f},_.getYAxes=function(){return g},_.c2p=M,_.p2c=function(e){var t,i,s,n={};for(t=0;t<f.length;++t)if((i=f[t])&&i.used&&(s="x"+i.n,null==e[s]&&1==i.n&&(s="x"),null!=e[s])){n.left=i.p2c(e[s]);break}for(t=0;t<g.length;++t)if((i=g[t])&&i.used&&(s="y"+i.n,null==e[s]&&1==i.n&&(s="y"),null!=e[s])){n.top=i.p2c(e[s]);break}return n},_.getOptions=function(){return l},_.highlight=U,_.unhighlight=X,_.triggerRedrawOverlay=Y,_.pointOffset=function(e){return{left:parseInt(f[j(e,"x")-1].p2c(+e.x)+m.left),top:parseInt(g[j(e,"y")-1].p2c(+e.y)+m.top)}},_.shutdown=function(){L&&clearTimeout(L);h.unbind("mousemove",H),h.unbind("mouseleave",W),h.unbind("click",Q),C(x.shutdown,[h])},_.resize=function(){I(),F(d),F(c)},_.hooks=x,function(){for(var t=0;t<r.length;++t){var i=r[t];i.init(_),i.options&&e.extend(!0,l,i.options)}}(),function(t){var i;e.extend(!0,l,t),null==l.xaxis.color&&(l.xaxis.color=l.grid.color);null==l.yaxis.color&&(l.yaxis.color=l.grid.color);null==l.xaxis.tickColor&&(l.xaxis.tickColor=l.grid.tickColor);null==l.yaxis.tickColor&&(l.yaxis.tickColor=l.grid.tickColor);null==l.grid.borderColor&&(l.grid.borderColor=l.grid.color);null==l.grid.tickColor&&(l.grid.tickColor=e.color.parse(l.grid.color).scale("a",.22).toString());for(i=0;i<Math.max(1,l.xaxes.length);++i)l.xaxes[i]=e.extend(!0,{},l.xaxis,l.xaxes[i]);for(i=0;i<Math.max(1,l.yaxes.length);++i)l.yaxes[i]=e.extend(!0,{},l.yaxis,l.yaxes[i]);l.xaxis.noTicks&&null==l.xaxis.ticks&&(l.xaxis.ticks=l.xaxis.noTicks);l.yaxis.noTicks&&null==l.yaxis.ticks&&(l.yaxis.ticks=l.yaxis.noTicks);l.x2axis&&(l.xaxes[1]=e.extend(!0,{},l.xaxis,l.x2axis),l.xaxes[1].position="top");l.y2axis&&(l.yaxes[1]=e.extend(!0,{},l.yaxis,l.y2axis),l.yaxes[1].position="right");l.grid.coloredAreas&&(l.grid.markings=l.grid.coloredAreas);l.grid.coloredAreasColor&&(l.grid.markingsColor=l.grid.coloredAreasColor);l.lines&&e.extend(!0,l.series.lines,l.lines);l.points&&e.extend(!0,l.series.points,l.points);l.bars&&e.extend(!0,l.series.bars,l.bars);null!=l.shadowSize&&(l.series.shadowSize=l.shadowSize);for(i=0;i<l.xaxes.length;++i)T(f,i+1).options=l.xaxes[i];for(i=0;i<l.yaxes.length;++i)T(g,i+1).options=l.yaxes[i];for(var s in x)l.hooks[s]&&l.hooks[s].length&&(x[s]=x[s].concat(l.hooks[s]));C(x.processOptions,[l])}(a),function(){var i,s=t.children("canvas.base"),n=t.children("canvas.overlay");0==s.length||0==n?(t.html(""),t.css({padding:0}),"static"==t.css("position")&&t.css("position","relative"),I(),d=S(!0,"base"),c=S(!1,"overlay"),i=!1):(d=s.get(0),c=n.get(0),i=!0);u=d.getContext("2d"),p=c.getContext("2d"),h=e([c,d]),i&&(t.data("plot").shutdown(),_.resize(),p.clearRect(0,0,v,b),h.unbind(),t.children().not([d,c]).remove());t.data("plot",_)}(),k(n),N(),A(),function(){l.grid.hoverable&&(h.mousemove(H),h.mouseleave(W));l.grid.clickable&&h.click(Q);C(x.bindEvents,[h])}();var G=[],L=null;function H(e){l.grid.hoverable&&B("plothover",e,function(e){return 0!=e.hoverable})}function W(e){l.grid.hoverable&&B("plothover",e,function(e){return!1})}function Q(e){B("plotclick",e,function(e){return 0!=e.clickable})}function B(e,i,s){var n=h.offset(),a=i.pageX-n.left-m.left,r=i.pageY-n.top-m.top,d=M({left:a,top:r});d.pageX=i.pageX,d.pageY=i.pageY;var c=function(e,t,i){var s,n,a=l.grid.mouseActiveRadius,r=a*a+1,d=null;for(s=o.length-1;s>=0;--s)if(i(o[s])){var c=o[s],h=c.xaxis,u=c.yaxis,p=c.datapoints.points,f=c.datapoints.pointsize,g=h.c2p(e),m=u.c2p(t),v=a/h.scale,b=a/u.scale;if(h.options.inverseTransform&&(v=Number.MAX_VALUE),u.options.inverseTransform&&(b=Number.MAX_VALUE),c.lines.show||c.points.show)for(n=0;n<p.length;n+=f){var y=p[n],w=p[n+1];if(null!=y&&!(y-g>v||y-g<-v||w-m>b||w-m<-b)){var x=Math.abs(h.p2c(y)-e),_=Math.abs(u.p2c(w)-t),C=x*x+_*_;C<r&&(r=C,d=[s,n/f])}}if(c.bars.show&&!d){var k="left"==c.bars.align?0:-c.bars.barWidth/2,j=k+c.bars.barWidth;for(n=0;n<p.length;n+=f){y=p[n],w=p[n+1];var D=p[n+2];null!=y&&(o[s].bars.horizontal?g<=Math.max(D,y)&&g>=Math.min(D,y)&&m>=w+k&&m<=w+j:g>=y+k&&g<=y+j&&m>=Math.min(D,w)&&m<=Math.max(D,w))&&(d=[s,n/f])}}}return d?(s=d[0],n=d[1],f=o[s].datapoints.pointsize,{datapoint:o[s].datapoints.points.slice(n*f,(n+1)*f),dataIndex:n,series:o[s],seriesIndex:s}):null}(a,r,s);if(c&&(c.pageX=parseInt(c.series.xaxis.p2c(c.datapoint[0])+n.left+m.left),c.pageY=parseInt(c.series.yaxis.p2c(c.datapoint[1])+n.top+m.top)),l.grid.autoHighlight){for(var u=0;u<G.length;++u){var p=G[u];p.auto!=e||c&&p.series==c.series&&p.point[0]==c.datapoint[0]&&p.point[1]==c.datapoint[1]||X(p.series,p.point)}c&&U(c.series,c.datapoint,e)}t.trigger(e,[d,c])}function Y(){L||(L=setTimeout(V,30))}function V(){var e,t;for(L=null,p.save(),p.clearRect(0,0,v,b),p.translate(m.left,m.top),e=0;e<G.length;++e)(t=G[e]).series.bars.show?J(t.series,t.point):K(t.series,t.point);p.restore(),C(x.drawOverlay,[p])}function U(e,t,i){if("number"==typeof e&&(e=o[e]),"number"==typeof t){var s=e.datapoints.pointsize;t=e.datapoints.points.slice(s*t,s*(t+1))}var n=$(e,t);-1==n?(G.push({series:e,point:t,auto:i}),Y()):i||(G[n].auto=!1)}function X(e,t){null==e&&null==t&&(G=[],Y()),"number"==typeof e&&(e=o[e]),"number"==typeof t&&(t=e.data[t]);var i=$(e,t);-1!=i&&(G.splice(i,1),Y())}function $(e,t){for(var i=0;i<G.length;++i){var s=G[i];if(s.series==e&&s.point[0]==t[0]&&s.point[1]==t[1])return i}return-1}function K(t,i){var s=i[0],n=i[1],a=t.xaxis,r=t.yaxis;if(!(s<a.min||s>a.max||n<r.min||n>r.max)){var o=t.points.radius+t.points.lineWidth/2;p.lineWidth=o,p.strokeStyle=e.color.parse(t.color).scale("a",.5).toString();var l=1.5*o;s=a.p2c(s),n=r.p2c(n);p.beginPath(),"circle"==t.points.symbol?p.arc(s,n,l,0,2*Math.PI,!1):t.points.symbol(p,s,n,l,!1),p.closePath(),p.stroke()}}function J(t,i){p.lineWidth=t.bars.lineWidth,p.strokeStyle=e.color.parse(t.color).scale("a",.5).toString();var s=e.color.parse(t.color).scale("a",.5).toString(),n="left"==t.bars.align?0:-t.bars.barWidth/2;O(i[0],i[1],i[2]||0,n,n+t.bars.barWidth,0,function(){return s},t.xaxis,t.yaxis,p,t.bars.horizontal,t.bars.lineWidth)}function Z(t,i,s,n){if("string"==typeof t)return t;for(var a=u.createLinearGradient(0,s,0,i),r=0,o=t.colors.length;r<o;++r){var l=t.colors[r];if("string"!=typeof l){var d=e.color.parse(n);null!=l.brightness&&(d=d.scale("rgb",l.brightness)),null!=l.opacity&&(d.a*=l.opacity),l=d.toString()}a.addColorStop(r/(o-1),l)}return a}}function s(e,t){return t*Math.floor(e/t)}e.plot=function(i,s,n){return new t(e(i),s,n,e.plot.plugins)},e.plot.version="0.7",e.plot.plugins=[],e.plot.formatDate=function(e,t,i){var s=function(e){return 1==(e=""+e).length?"0"+e:e},n=[],a=!1,r=!1,o=e.getUTCHours(),l=o<12;null==i&&(i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),-1!=t.search(/%p|%P/)&&(o>12?o-=12:0==o&&(o=12));for(var d=0;d<t.length;++d){var c=t.charAt(d);if(a){switch(c){case"h":c=""+o;break;case"H":c=s(o);break;case"M":c=s(e.getUTCMinutes());break;case"S":c=s(e.getUTCSeconds());break;case"d":c=""+e.getUTCDate();break;case"m":c=""+(e.getUTCMonth()+1);break;case"y":c=""+e.getUTCFullYear();break;case"b":c=""+i[e.getUTCMonth()];break;case"p":c=l?"am":"pm";break;case"P":c=l?"AM":"PM";break;case"0":c="",r=!0}c&&r&&(c=s(c),r=!1),n.push(c),r||(a=!1)}else"%"==c?a=!0:n.push(c)}return n.join("")}}(jQuery),function(e,t,i){var s,n=e([]),a=e.resize=e.extend(e.resize,{}),r="setTimeout",o="resize",l=o+"-special-event",d="delay",c="throttleWindow";a[d]=250,a[c]=!0,e.event.special[o]={setup:function(){if(!a[c]&&this[r])return!1;var i=e(this);n=n.add(i),e.data(this,l,{w:i.width(),h:i.height()}),1===n.length&&function i(){s=t[r](function(){n.each(function(){var t=e(this),i=t.width(),s=t.height(),n=e.data(this,l);i===n.w&&s===n.h||t.trigger(o,[n.w=i,n.h=s])}),i()},a[d])}()},teardown:function(){if(!a[c]&&this[r])return!1;var t=e(this);n=n.not(t),t.removeData(l),n.length||clearTimeout(s)},add:function(t){if(!a[c]&&this[r])return!1;var s;function n(t,n,a){var r=e(this),o=e.data(this,l);o.w=n!==i?n:r.width(),o.h=a!==i?a:r.height(),s.apply(this,arguments)}if(e.isFunction(t))return s=t,n;s=t.handler,t.handler=n}}}(jQuery,this),function(e){jQuery.plot.plugins.push({init:function(e){function t(){var t=e.getPlaceholder();0!=t.width()&&0!=t.height()&&(e.resize(),e.setupGrid(),e.draw())}e.hooks.bindEvents.push(function(e,i){e.getPlaceholder().resize(t)}),e.hooks.shutdown.push(function(e,i){e.getPlaceholder().unbind("resize",t)})},options:{},name:"resize",version:"1.0"})}(),function(e){var t={series:{pie:{show:!1,radius:"auto",innerRadius:0,startAngle:1.5,tilt:1,offset:{top:0,left:"auto"},stroke:{color:"#FFF",width:1},label:{show:"auto",formatter:function(e,t){return'<div style="font-size:x-small;text-align:center;padding:2px;color:'+t.color+';">'+e+"<br/>"+Math.round(t.percent)+"%</div>"},radius:1,background:{color:null,opacity:0},threshold:0},combine:{threshold:-1,color:null,label:"Other"},highlight:{opacity:.5}}}};e.plot.plugins.push({init:function(s){var n=null,a=null,r=null,o=null,l=null,d=0,c=!0,h=10,u=.95,p=0,f=!1,g=[];function m(i,s,r,o){f||(f=!0,n=i.getCanvas(),a=e(n).parent(),t=i.getOptions(),i.setData(function(e){!function(e){for(var t=0;t<e.length;++t){var i=parseFloat(e[t].data[0][1]);i&&(d+=i)}}(e=function(e){for(var t=0;t<e.length;++t)"number"==typeof e[t].data?e[t].data=[[1,e[t].data]]:void 0!==e[t].data&&void 0!==e[t].data[0]||(void 0!==e[t].data&&void 0!==e[t].data.label&&(e[t].label=e[t].data.label),e[t].data=[[1,0]]);return e}(e));for(var i=0,s=0,n=t.series.pie.combine.color,a=[],r=0;r<e.length;++r)e[r].data[0][1]=parseFloat(e[r].data[0][1]),e[r].data[0][1]||(e[r].data[0][1]=0),e[r].data[0][1]/d<=t.series.pie.combine.threshold?(i+=e[r].data[0][1],s++,n||(n=e[r].color)):a.push({data:[[1,e[r].data[0][1]]],color:e[r].color,label:e[r].label,angle:e[r].data[0][1]*(2*Math.PI)/d,percent:e[r].data[0][1]/d*100});return s>0&&a.push({data:[[1,i]],color:n,label:t.series.pie.combine.label,angle:i*(2*Math.PI)/d,percent:i/d*100}),a}(i.getData())))}function v(i,s){if(a){ctx=s,p=a.children().filter(".legend").children().width(),r=Math.min(n.width,n.height/t.series.pie.tilt)/2,l=n.height/2+t.series.pie.offset.top,o=n.width/2,"auto"==t.series.pie.offset.left?t.legend.position.match("w")?o+=p/2:o-=p/2:o+=t.series.pie.offset.left,o<r?o=r:o>n.width-r&&(o=n.width-r);for(var d=i.getData(),f=0;c&&f<h;)c=!1,f>0&&(r*=u),f+=1,g(),t.series.pie.tilt<=.8&&m(),v();f>=h&&(g(),a.prepend('<div class="error">Could not draw pie with labels contained inside canvas</div>')),i.setSeries&&i.insertLegend&&(i.setSeries(d),i.insertLegend())}function g(){ctx.clearRect(0,0,n.width,n.height),a.children().filter(".pieLabel, .pieLabelBackground").remove()}function m(){if(t.series.pie.radius>1)var e=t.series.pie.radius;else e=r*t.series.pie.radius;if(!(e>=n.width/2-5||e*t.series.pie.tilt>=n.height/2-15||e<=10)){ctx.save(),ctx.translate(5,15),ctx.globalAlpha=.02,ctx.fillStyle="#000",ctx.translate(o,l),ctx.scale(1,t.series.pie.tilt);for(var i=1;i<=10;i++)ctx.beginPath(),ctx.arc(0,0,e,0,2*Math.PI,!1),ctx.fill(),e-=i;ctx.restore()}}function v(){if(startAngle=Math.PI*t.series.pie.startAngle,t.series.pie.radius>1)var i=t.series.pie.radius;else i=r*t.series.pie.radius;ctx.save(),ctx.translate(o,l),ctx.scale(1,t.series.pie.tilt),ctx.save();for(var s=startAngle,h=0;h<d.length;++h)d[h].startAngle=s,u(d[h].angle,d[h].color,!0);for(ctx.restore(),ctx.save(),ctx.lineWidth=t.series.pie.stroke.width,s=startAngle,h=0;h<d.length;++h)u(d[h].angle,t.series.pie.stroke.color,!1);function u(t,n,a){t<=0||(a?ctx.fillStyle=n:(ctx.strokeStyle=n,ctx.lineJoin="round"),ctx.beginPath(),Math.abs(t-2*Math.PI)>1e-9?ctx.moveTo(0,0):e.browser.msie&&(t-=1e-4),ctx.arc(0,0,i,s,s+t,!1),ctx.closePath(),s+=t,a?ctx.fill():ctx.stroke())}ctx.restore(),b(ctx),t.series.pie.label.show&&function(){var i=startAngle;if(t.series.pie.label.radius>1)var s=t.series.pie.label.radius;else var s=r*t.series.pie.label.radius;for(var h=0;h<d.length;++h)d[h].percent>=100*t.series.pie.label.threshold&&u(d[h],i,h),i+=d[h].angle;function u(i,r,d){if(0!=i.data[0][1]){var h,u=t.legend.labelFormatter,p=t.series.pie.label.formatter;h=u?u(i.label,i):i.label,p&&(h=p(h,i));var f=(r+i.angle+r)/2,g=o+Math.round(Math.cos(f)*s),m=l+Math.round(Math.sin(f)*s)*t.series.pie.tilt,v='<span class="pieLabel" id="pieLabel'+d+'" style="position:absolute;top:'+m+"px;left:"+g+'px;">'+h+"</span>";a.append(v);var b=a.children("#pieLabel"+d),y=m-b.height()/2,w=g-b.width()/2;if(b.css("top",y),b.css("left",w),(0-y>0||0-w>0||n.height-(y+b.height())<0||n.width-(w+b.width())<0)&&(c=!0),0!=t.series.pie.label.background.opacity){var x=t.series.pie.label.background.color;null==x&&(x=i.color);var _="top:"+y+"px;left:"+w+"px;";e('<div class="pieLabelBackground" style="position:absolute;width:'+b.width()+"px;height:"+b.height()+"px;"+_+"background-color:"+x+';"> </div>').insertBefore(b).css("opacity",t.series.pie.label.background.opacity)}}}}(),ctx.restore()}}function b(e){t.series.pie.innerRadius>0&&(e.save(),innerRadius=t.series.pie.innerRadius>1?t.series.pie.innerRadius:r*t.series.pie.innerRadius,e.globalCompositeOperation="destination-out",e.beginPath(),e.fillStyle=t.series.pie.stroke.color,e.arc(0,0,innerRadius,0,2*Math.PI,!1),e.fill(),e.closePath(),e.restore(),e.save(),e.beginPath(),e.strokeStyle=t.series.pie.stroke.color,e.arc(0,0,innerRadius,0,2*Math.PI,!1),e.stroke(),e.closePath(),e.restore())}function w(e,t){for(var i=!1,s=-1,n=e.length,a=n-1;++s<n;a=s)(e[s][1]<=t[1]&&t[1]<e[a][1]||e[a][1]<=t[1]&&t[1]<e[s][1])&&t[0]<(e[a][0]-e[s][0])*(t[1]-e[s][1])/(e[a][1]-e[s][1])+e[s][0]&&(i=!i);return i}function _(e){k("plothover",e)}function C(e){k("plotclick",e)}function k(e,i){var n=s.offset(),d=function(e,t){for(var i=s.getData(),n=s.getOptions(),a=n.series.pie.radius>1?n.series.pie.radius:r*n.series.pie.radius,d=0;d<i.length;++d){var c=i[d];if(c.pie.show){if(ctx.save(),ctx.beginPath(),ctx.moveTo(0,0),ctx.arc(0,0,a,c.startAngle,c.startAngle+c.angle,!1),ctx.closePath(),x=e-o,y=t-l,ctx.isPointInPath){if(ctx.isPointInPath(e-o,t-l))return ctx.restore(),{datapoint:[c.percent,c.data],dataIndex:0,series:c,seriesIndex:d}}else if(p1X=a*Math.cos(c.startAngle),p1Y=a*Math.sin(c.startAngle),p2X=a*Math.cos(c.startAngle+c.angle/4),p2Y=a*Math.sin(c.startAngle+c.angle/4),p3X=a*Math.cos(c.startAngle+c.angle/2),p3Y=a*Math.sin(c.startAngle+c.angle/2),p4X=a*Math.cos(c.startAngle+c.angle/1.5),p4Y=a*Math.sin(c.startAngle+c.angle/1.5),p5X=a*Math.cos(c.startAngle+c.angle),p5Y=a*Math.sin(c.startAngle+c.angle),arrPoly=[[0,0],[p1X,p1Y],[p2X,p2Y],[p3X,p3Y],[p4X,p4Y],[p5X,p5Y]],arrPoint=[x,y],w(arrPoly,arrPoint))return ctx.restore(),{datapoint:[c.percent,c.data],dataIndex:0,series:c,seriesIndex:d};ctx.restore()}}return null}(parseInt(i.pageX-n.left),parseInt(i.pageY-n.top));if(t.grid.autoHighlight)for(var c=0;c<g.length;++c){var h=g[c];h.auto!=e||d&&h.series==d.series||j(h.series)}d&&function(e,t){"number"==typeof e&&(e=series[e]);var i=D(e);-1==i?(g.push({series:e,auto:t}),s.triggerRedrawOverlay()):t||(g[i].auto=!1)}(d.series,e);var u={pageX:i.pageX,pageY:i.pageY};a.trigger(e,[u,d])}function j(e){null==e&&(g=[],s.triggerRedrawOverlay()),"number"==typeof e&&(e=series[e]);var t=D(e);-1!=t&&(g.splice(t,1),s.triggerRedrawOverlay())}function D(e){for(var t=0;t<g.length;++t)if(g[t].series==e)return t;return-1}function M(e,t){var s,n=e.getOptions(),a=n.series.pie.radius>1?n.series.pie.radius:r*n.series.pie.radius;for(t.save(),t.translate(o,l),t.scale(1,n.series.pie.tilt),i=0;i<g.length;++i)(s=g[i].series).angle<0||(t.fillStyle="rgba(255, 255, 255, "+n.series.pie.highlight.opacity+")",t.beginPath(),Math.abs(s.angle-2*Math.PI)>1e-9&&t.moveTo(0,0),t.arc(0,0,a,s.startAngle,s.startAngle+s.angle,!1),t.closePath(),t.fill());b(t),t.restore()}s.hooks.processOptions.push(function(e,t){t.series.pie.show&&(t.grid.show=!1,"auto"==t.series.pie.label.show&&(t.legend.show?t.series.pie.label.show=!1:t.series.pie.label.show=!0),"auto"==t.series.pie.radius&&(t.series.pie.label.show?t.series.pie.radius=.75:t.series.pie.radius=1),t.series.pie.tilt>1&&(t.series.pie.tilt=1),t.series.pie.tilt<0&&(t.series.pie.tilt=0),e.hooks.processDatapoints.push(m),e.hooks.drawOverlay.push(M),e.hooks.draw.push(v))}),s.hooks.bindEvents.push(function(e,t){var i=e.getOptions();i.series.pie.show&&i.grid.hoverable&&t.unbind("mousemove").mousemove(_),i.series.pie.show&&i.grid.clickable&&t.unbind("click").click(C)})},options:t,name:"pie",version:"1.0"})}(jQuery),function(e){var t="[object Array]",i="[object Function]",s="[object String]",n=0,a="%",r=Object.prototype.toString;e.fn.extend({jqote:function(i,s){i=r.call(i)===t?i:[i];var n="";return this.each(function(t){for(var r=(l=e.jqotecache[this.jqote])?l:e.jqotec(this,s||a),o=0;o<i.length;o++)n+=r.call(i[o],t,o,i,r)}),n},jqoteapp:function(t,i,s){var n=e.jqote(t,i,s);return this.each(function(){e(this).append(n)})},jqotepre:function(t,i,s){var n=e.jqote(t,i,s);return this.each(function(){e(this).prepend(n)})},jqotesub:function(t,i,s){var n=e.jqote(t,i,s);return this.each(function(){e(this).html(n)})}}),e.extend({jqote:function(n,o,l){var d="",c=[],h=(l=l||a,r.call(n));o=r.call(o)===t?o:[o];h===i?c=[n]:h===t?c=r.call(n[0])===i?n:e.map(n,function(t){return e.jqotec(t,l)}):h===s?c.push(n.indexOf("<"+l)<0?e.jqotec(e(n),l):e.jqotec(n,l)):c=e.map(e(n),function(t){return e.jqotec(t,l)});for(var u=0,p=c.length;u<p;u++)for(var f=0;f<o.length;f++)d+=c[u].call(o[f],u,f,o,c[u]);return d},jqotec:function(t,i){for(var o,l="",d=(i=i||a,r.call(t)),c=(d===s&&t.indexOf("<"+i)>=0?t:(t=d===s||t instanceof jQuery?e(t)[0]:t).innerHTML).replace(/\s*<!\[CDATA\[\s*|\s*\]\]>\s*|[\r\n\t]/g,"").split("<"+i).join(i+">").split(i+">"),h=0,u=c.length;h<u;h++)l+=""!==c[h].charAt(0)?"out+='"+c[h].replace(/([^\\])?(["'])/g,"$1\\$2")+"'":"="===c[h].charAt(1)?"+"+c[h].substr(2)+";":";"+c[h].substr(1);return o=new Function("i, j, data, fn",'var out="";'+l+"; return out;"),r.call(t)===s?o:e.jqotecache[t.jqote=t.jqote||n++]=o},jqotefn:function(t){return e.jqotecache[e(t)[0].jqote]||!1},jqotetag:function(e){a=e},jqotecache:[]})}(jQuery);
